{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/redi.svg","webpack:///./src/components/Content.vue?c242","webpack:///./src/assets/avatar-bot.png","webpack:///./src/assets/avatar-stranger.png","webpack:///./src/App.vue","webpack:///./src/components/Menu.vue","webpack:///./src/services/api.service.js","webpack:///./src/services/auth.service.js","webpack:///./src/stores/Store.js","webpack:///./src/services/socketio.service.js","webpack:///./src/components/Menu.vue?0885","webpack:///./src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?b6ad","webpack:///./src/components/Content.vue","webpack:///./src/components/Content.vue?ab32","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/App.vue?699d","webpack:///./src/components/Sidebar.vue?2567","webpack:///./src/assets/redi-chat.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","style","id","role","aria-live","aria-atomic","type","data-bs-dismiss","aria-label","textNotify","substr","src","alt","href","title","user","fullName","statusMenu","avatar","clickChatMenu","clickContactMenu","signOut","commonConfig","headers","Accept","baseURL","axios","AuthService","baseUrl","process","this","api","createApiClient","post","put","useStore","defineStore","state","statusSidebar","statusContent","chatRoomStranger","currentChatRoom","messages","_id","online","foundUserByPhone","phone","notifyText","getters","actions","setFoundUserByPhone","showNotify","text","clickContactsSidebar","clickRequestContactSidebar","chatWithStranger","switchChatContent","setChatRoomStranger","roomName","setInfoUser","token","toString","localStorage","setItem","changeOnlineStatus","roomID","chatRooms","reloadData","getItem","SocketioService","disconnect","verifyToken","userUpdated","message","setupSocketFriendConnection","receiveMessageFriend","err","console","log","setTimeout","e","document","querySelector","scrollTop","scrollHeight","forEach","chatRoom","index","lastMessageDate","createAt","setMessagesChatRoom","socketStranger","io","socketFriend","auth","on","emit","cb","props","components","mounted","store","watch","methods","alert","confirm","removeItem","location","reload","beforeUnmount","render","for","signUp","validation-schema","dataSignUpFormSchema","ref","dataSignUp","password","confirmPassword","openUploadModal","nameFileAvatar","signIn","dataSignInFormSchema","dataSignIn","findUserByPhone","placeholder","searchByPhone","fullNameFriend","openChatContent","includes","checkSearchByPhone","sendFriendRequest","Form","Field","ErrorMessage","processFormSignInSignUp","shape","required","min","matches","max","oneOf","check","match","computed","chatRoomsString","x","map","owner","contacts","contact","join","stranger","filteredChatRooms","sort","compareFn","concat","filter","a","b","hourA","minuteA","dateA","monthA","yearA","hourB","minuteB","dateB","monthB","yearB","datetimeA","split","datetimeB","parseInt","btnSign","mdalSign","btnClose","querySelectorAll","btnLog","mdalLog","overlay","login","addEventListener","classList","add","btn","remove","autoSrcollTop","loadContentChatRoom","widget","cloudinary","createUploadWidget","cloud_name","upload_preset","maxImageFileSize","autoMinimize","sources","clientAllowedFormats","maxFiles","error","event","info","url","original_filename","format","destroy","removeThumbnails","then","open","meg","address","$refs","formSignUp","resetForm","response","formSignIn","requestContact","__scopeId","content","sendMessageFriend","inputMessageText","connectSocketStranger","stopChatStranger","messagesChatWithStranger","sendMessageStranger","inputMessageTextChatWithStranger","actionFriendRequest","lastIndexOf","newValue","oldValue","disableNewChat","disableFormInput","disableStopChat","deep","handler","nextRoomStranger","setupSocketStrangerConnection","statusRoomStranger","indexOf","receiveMessageStranger","disconnectStranger","getTime","today","Date","date","getDate","getMonth","getFullYear","time","getHours","getMinutes","dateTime","bDisabled","disabled","Menu","Sidebar","Content","flag","toastLiveExample","getElementById","toast","Toast","show","createApp","App","use","createPinia","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,SAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,yFCvJTW,EAAOD,QAAU,IAA0B,yB,6DCA3C,W,qBCAAC,EAAOD,QAAU,IAA0B,+B,uBCA3CC,EAAOD,QAAU,IAA0B,oC,uLCCpC+B,MAAM,O,GACJA,MAAM,e,GASNA,MAAM,kBAAkBC,MAAA,+C,GAEtBC,GAAG,YAAYF,MAAM,oCAAoCG,KAAK,QAAQC,YAAU,YAAYC,cAAY,Q,GACtGL,MAAM,U,GACJA,MAAM,6B,uBAGX,eAC8B,UADtBM,KAAK,SAASN,MAAM,wCAAwCO,kBAAgB,QAClFC,aAAW,S,iJAlBrB,eAsBM,MAtBN,EAsBM,CArBJ,eAOM,MAPN,EAOM,CAHJ,eAAa,GACb,eAAmB,GACnB,eAAmB,KAGrB,eAWM,MAXN,EAWM,CATJ,eAQM,MARN,EAQM,CAPJ,eAMM,MANN,EAMM,CALJ,eAEM,MAFN,EAEM,oBADIC,WAAWC,OAAM,OAASD,WAAW9D,OAAM,OAErD,U,gDCjBFqD,MAAM,Q,GACFA,MAAM,a,+BAGGW,IAAA,IAAyBC,IAAI,U,EAItC,eAAoF,OAA/EZ,MAAM,eAAea,KAAK,K,CAAI,eAA2C,KAAxCb,MAAM,kC,MAA5C,G,EAIA,eAA0D,KAAvDA,MAAM,gBAAc,CAAC,eAA8B,KAA3BA,MAAM,qB,MAAjC,G,EAGA,eAA8D,OAAzDA,MAAM,gBAAc,CAAC,eAA8B,KAA3BA,MAAM,qB,MAAnC,G,gDAfR,eAiBK,KAjBL,EAiBK,CAhBD,eAKK,KALL,EAKK,CAJD,eAGM,OAHDA,MAAM,cAAec,MAAK,KAAMC,KAAKC,SAASH,KAAK,K,CACK,cAAV,EAAAI,Y,iBAA/C,eAA6E,O,MAAvEN,IAAG,KAAMI,KAAKG,OAAON,IAAI,U,6BAC/B,eAAoD,MAApD,K,OAGR,eAEK,MAFA,QAAK,+BAAE,EAAAO,kBAAkBnB,MAAK,iBAAc,SAAV,EAAAiB,YAAiC,cAAV,EAAAA,WAAU,aAAwC,e,KAI5F,cAAV,EAAAA,Y,iBADV,eAGK,M,MAHA,QAAK,+BAAE,EAAAG,qBAAoBpB,MAAK,gBAAC,YAAW,CAAqB,aAAV,EAAAiB,WAAU,gB,4BAIf,cAAV,EAAAA,Y,iBAA7C,eAEK,M,MAFDjB,MAAM,6BAAgE,QAAK,+BAAE,EAAAqB,a,wJCdnFC,EAAe,CACjBC,QAAS,CACL,eAAgB,mBAChBC,OAAQ,qBAGD,WAACC,GACZ,OAAOC,OAAMrC,OAAN,gBACHoC,WACGH,KCTLK,E,WACF,aAAgE,IAApDC,EAAoD,uDAA1CC,iDAA0C,uBAC5DC,KAAKC,IAAMC,EAAgBJ,G,sGAE/B,WAAazF,GAAb,iGACkB2F,KAAKC,IAAIE,KAAK,UAAW9F,GAD3C,uCACkDA,MADlD,gD,uIAGA,WAAaA,GAAb,iGACkB2F,KAAKC,IAAIE,KAAK,UAAW9F,GAD3C,uCACkDA,MADlD,gD,wIAGA,WAAcA,GAAd,iGACkB2F,KAAKC,IAAIG,IAAI,WAAY/F,GAD3C,uCACkDA,MADlD,gD,4IAGA,WAAkBA,GAAlB,iGACkB2F,KAAKC,IAAIE,KAAK,WAAY9F,GAD5C,uCACmDA,MADnD,gD,iEAIW,MAAIwF,ECdNQ,EAAWC,eAAY,QAAS,CACzCC,MAAO,WACH,MAAO,CACHpB,WAAY,YACZqB,cAAe,YACfC,cAAe,YACfC,iBAAkB,GAClBzB,KAAM,CACF,IAAO,GACP,MAAS,GACT,SAAY,GACZ,OAAU,GACV,eAAkB,GAClB,SAAY,GACZ,UAAa,GACb,MAAS,IAEb0B,gBAAiB,CACbzB,SAAU,GACVE,OAAQ,GACRwB,SAAU,GACVC,IAAK,GACLC,QAAQ,GAEZC,iBAAkB,CACd7B,SAAU,GACV2B,IAAK,GACLzB,OAAQ,GACR4B,MAAO,IAEXC,WAAY,KAGpBC,QAAS,GAOTC,QAAS,CACLC,oBADK,SACeL,GAChBf,KAAKe,iBAAmBA,GAE5BM,WAJK,SAIMC,GACPtB,KAAKiB,WAAaK,GAEtBhC,iBAPK,WAQDU,KAAKb,WAAa,WAClBa,KAAKQ,cAAgB,WACrBR,KAAKS,cAAgB,WACrBT,KAAKW,gBAAkB,CACnBzB,SAAU,GACVE,OAAQ,GACRwB,SAAU,GACVC,IAAK,KAGbxB,cAlBK,WAmBDW,KAAKb,WAAa,OAClBa,KAAKQ,cAAgB,OACrBR,KAAKS,cAAgB,kBAEzBc,qBAvBK,WAwBDvB,KAAKb,WAAa,WAClBa,KAAKQ,cAAgB,WACrBR,KAAKS,cAAgB,YAEzBe,2BA5BK,WA6BDxB,KAAKb,WAAa,WAClBa,KAAKQ,cAAgB,iBACrBR,KAAKS,cAAgB,kBAEzBlB,QAjCK,WAqCDS,KAAKb,WAAa,YAClBa,KAAKQ,cAAgB,YACrBR,KAAKS,cAAgB,YAErBT,KAAKf,KAAO,CACR,IAAO,GACP,MAAS,GACT,SAAY,GACZ,OAAU,GACV,eAAkB,GAClB,SAAY,GACZ,UAAa,GACb,MAAS,IAEbe,KAAKW,gBAAkB,CACnBzB,SAAU,GACVE,OAAQ,GACRwB,SAAU,GACVC,IAAK,KAGbY,iBA1DK,WA2DDzB,KAAKS,cAAgB,oBAEzBiB,kBA7DK,WA8DD1B,KAAKS,cAAgB,QAEzBkB,oBAhEK,SAgEeC,GAChB5B,KAAKU,iBAAmBkB,GAE5BC,YAnEK,SAmEOxH,GACR2F,KAAKf,KAAO5E,EACZ2F,KAAKf,KAAK6C,MAAQ9B,KAAKf,KAAK6C,MAAMC,WAClCC,aAAaC,QAAQ,QAAS5H,EAAKyH,QAEvCI,mBAxEK,SAwEcC,EAAQrB,GAEvB,IADA,IAAMjG,EAASmF,KAAKf,KAAKmD,UAAUvH,OAC1BF,EAAI,EAAGA,EAAIE,EAAQF,IACxB,GAAIqF,KAAKf,KAAKmD,UAAUzH,GAAGkG,MAAQsB,EAAQ,CACvCnC,KAAKf,KAAKmD,UAAUzH,GAAGmG,OAASA,EAChC,QAKNuB,WAlFD,WAkFa,4KAEJP,EAAQE,aAAaM,QAAQ,UAC/BR,EAHM,wBAINS,EAAgBC,aAJV,SAKoB3C,EAAY4C,YAAY,CAAEX,MAAOA,IALrD,OAKAY,EALA,OAMFA,IACA,EAAKzD,KAAOyD,EAAYC,SAE5BJ,EAAgBK,4BAA4B,EAAK3D,KAAK6C,MAAO,EAAK7C,KAAK+B,OACvEuB,EAAgBM,sBAAqB,SAACC,EAAKzI,GACvC0I,QAAQC,IAAI3I,GACRA,EAAK8H,SAAW,EAAKxB,gBAAgBE,MACrC,EAAKF,gBAAgBC,SAASzF,KAAKd,GACnC4I,YAAW,WACP,IAAMC,EAAIC,SAASC,cAAc,iBACjCF,EAAEG,UAA6B,EAAjBH,EAAEI,eACjB,MAEP,EAAKrE,KAAKmD,UAAUmB,SAAQ,SAACC,EAAUC,GAC/BpJ,EAAK8H,SAAWqB,EAAS3C,MACzB,EAAK5B,KAAKmD,UAAUqB,GAAOC,gBAAkBrJ,EAAKsJ,gBArBxD,6DA6BVZ,QAAQC,IAAR,MA7BU,6DAgClBY,oBAlHK,SAkHehD,GAChBZ,KAAKW,gBAAgBC,SAAWA,MC3JtC2B,E,WAKJ,aAAc,8IAFJ,IAEI,mC,oEAKd,WACEvC,KAAK6D,eAAiBC,eAAG/D,4CAAwD,IAKjFgD,QAAQC,IAAR,0B,yCAQF,SAA4BlB,EAAOd,GACjChB,KAAK+D,aAAeD,eAAG/D,0CAAsD,CAC3EiE,KAAM,CACJlC,WAIJiB,QAAQC,IAAR,wBACAD,QAAQC,IAAR,eAA4BhD,KAAK+D,cACjC/D,KAAK+D,aAAaE,GAAG,gBAAgB,SAAA5J,GACnCgG,IAAW6B,mBAAmB7H,EAAK8H,OAAQ9H,EAAKyG,WAGlDd,KAAK+D,aAAaG,KAAK,WAAYlD,GAEnChB,KAAK+D,aAAaE,GAAG,WAAU,SAAA5J,GAC7BgG,IAAWgC,aAEXhC,IAAWgB,WAAWhH,GAEtB0I,QAAQC,IAAI,UAAU3I,MAGxB2F,KAAK+D,aAAaE,GAAG,0BAA0B,SAACrD,GAC9CmC,QAAQC,IAAIpC,GAEZP,IAAWuD,oBAAoBhD,Q,iCAInC,SAAoBuB,GAClBnC,KAAK+D,aAAaG,KAAK,sBAAuB/B,K,6BAGhD,SAAgBnB,GACdhB,KAAK+D,aAAaG,KAAK,WAAWlD,GAClChB,KAAK+D,aAAaE,GAAG,aAAa,SAAA5J,GAChC0I,QAAQC,IAAI,YAAY3I,GACxBgG,IAAWe,oBAAoB/G,Q,iCAInC,SAAoBA,GAClB2F,KAAK+D,aAAaG,KAAK,sBAAuB7J,K,+BAIhD,SAAkBA,GAEhB2F,KAAK+D,aAAaG,KAAK,oBAAoB7J,K,kCAG7C,SAAqB8J,GACnB,IAAInE,KAAK+D,aAAc,OAAO,EAC9BhB,QAAQC,IAAI,wBACZhD,KAAK+D,aAAaE,GAAG,wBAAwB,SAAA5J,GAC3C,OAAO8J,EAAG,KAAM9J,Q,+BAIpB,SAAkBsI,EAASwB,GACtBnE,KAAK+D,cAAc/D,KAAK+D,aAAaG,KAAK,oBAAoBvB,EAAQwB,K,oCAU3E,SAAuBA,GACrB,IAAInE,KAAK6D,eAAgB,OAAO,EAChC7D,KAAK6D,eAAeI,GAAG,0BAA0B,SAAA5J,GAC/C,OAAO8J,EAAG,KAAD,eAAC,kBACL9J,GADI,IAEPoC,KAAM,mB,gCAKZ,SAAmB0H,GACjB,IAAInE,KAAK6D,eAAgB,OAAO,EAChC7D,KAAK6D,eAAeI,GAAG,sBAAsB,SAAAtB,GAC3C,OAAOwB,EAAG,KAAD,eAAC,kBAAUxB,GAAX,IAAoBlG,KAAM,c,8BAIvC,SAAiB+G,GAGbxD,KAAK6D,eAAeK,KAAK,mBAAmBV,GAC9CT,QAAQC,IAAI,KAAKhD,KAAK6D,eAAezF,M,iCASvC,SAAoBuE,EAASwB,GACxBnE,KAAK6D,gBAAgB7D,KAAK6D,eAAeK,KAAK,sBAAsBvB,EAAQwB,K,gCAGjF,WACKnE,KAAK6D,gBACN7D,KAAK6D,eAAerB,e,wBAIxB,WACKxC,KAAK+D,cACN/D,KAAK+D,aAAavB,iB,KAKT,MAAID,EJxHJ,GACX9F,KAAM,OACN2H,MAAO,GAGPC,WAAY,GAEZC,QAPW,aAUXjK,KAVW,WAWP,IAAIkK,EAAQlE,IACZ,EAAuB,eAAYkE,GAA3BpF,EAAR,EAAQA,WACR,EAAiB,eAAYoF,GAArBtF,EAAR,EAAQA,KACR,MAAO,CACHE,aACAF,SAGRuF,MAAO,GAGPC,QAAS,CACLnF,iBADK,WAEDe,IAAWf,oBAEfD,cAJK,WAKsB,cAApBW,KAAKb,WACJkB,IAAWhB,gBAEXqF,MAAM,oDAGRnF,QAXD,WAWU,qKAEJoF,QAAQ,2CAFJ,gCAGG,EAAYpF,QAAQ,CACtByB,MAAO,EAAK/B,KAAK+B,QAJlB,OAMH,EAAgBwB,aAChBR,aAAa4C,WAAW,SACxBvE,IAAWd,UACXsF,SAASC,SATN,4DAYP/B,QAAQC,IAAR,MAZO,8DAgBnB+B,cAjDW,cKvBf,EAAOC,OAAS,EAED,Q,8HCJX,eAA2B,OAAtB9G,MAAM,WAAS,Y,GACfA,MAAM,mB,uBACP,eAEM,OAFDA,MAAM,2BAAyB,CAChC,eAAgB,UAAZ,a,6BAER,eAEM,OAFDA,MAAM,cAAY,CACnB,eAAuB,KAApBA,MAAM,c,SAiBJA,MAAM,c,uBACP,eAAuC,SAAhC+G,IAAI,YAAW,aAAS,M,GAI9B/G,MAAM,c,uBACP,eAAqC,SAA9B+G,IAAI,SAAQ,cAAU,M,GAI5B/G,MAAM,c,wBACP,eAAsC,SAA/B+G,IAAI,YAAW,YAAQ,M,IAI7B/G,MAAM,c,wBACP,eAA0D,SAAnD+G,IAAI,mBAAkB,yBAAqB,M,IAIjD/G,MAAM,c,wBACP,eAA6B,aAAtB,kBAAc,M,wBAQzB,eAA+C,UAAvCA,MAAM,kBAAiB,WAAO,M,wBACtC,eAGM,OAHDA,MAAM,gBAAc,CACrB,eAAyC,QAAnCA,MAAM,QAAO,mBACnB,eAAiD,KAA9Ca,KAAK,IAAIb,MAAM,mBAAkB,e,UAO3CA,MAAM,oB,wBACP,eAEM,OAFDA,MAAM,2BAAyB,CAChC,eAAkB,UAAd,e,8BAER,eAEM,OAFDA,MAAM,cAAY,CACnB,eAAuB,KAApBA,MAAM,c,UAYJA,MAAM,c,wBACP,eAAqC,SAA9B+G,IAAI,SAAQ,cAAU,M,IAI5B/G,MAAM,c,wBACP,eAAsC,SAA/B+G,IAAI,YAAW,YAAQ,M,wBAOlC,eAAiD,UAAzC/G,MAAM,kBAAiB,aAAS,M,wBACxC,eAGM,OAHDA,MAAM,gBAAc,CACvB,eAAyD,QAAnDA,MAAM,QAAO,mCACnB,eAAgD,KAA7Ca,KAAK,IAAIb,MAAM,oBAAmB,a,UAI1CA,MAAM,W,IACFA,MAAM,gB,UACFA,MAAM,uB,wBAIP,eAA4B,KAAzBA,MAAM,gBAAc,Y,4CAQZA,MAAM,sB,IACJA,MAAM,mB,IACHA,MAAM,gB,IAQrBA,MAAM,uB,wBACP,eAA+E,UAAvEa,KAAK,IAAIb,MAAM,eAAeE,GAAG,uBAAsB,WAAO,M,wBACtE,eAAuD,UAA/CW,KAAK,IAAIb,MAAM,eAAc,aAAS,M,wBAC9C,eAEM,OAFDA,MAAM,QAAO,yGAElB,M,IAJA,GACA,GACA,I,wBASQ,eAA4B,KAAzBA,MAAM,gBAAc,Y,wBACvB,eAEM,OAFDA,MAAM,mBAAiB,CACxB,eAA8C,MAA1CA,MAAM,gBAAe,sB,UAF7B,GACA,I,wBAOA,eAAgC,KAA7BA,MAAM,oBAAkB,Y,wBAC3B,eAEM,OAFDA,MAAM,mBAAiB,CACxB,eAA+C,MAA3CA,MAAM,gBAAe,uB,UAF7B,GACA,I,4BAWHA,MAAM,mB,IACHA,MAAM,gB,4KA5J1B,EACA,eA2DM,MA3DN,EA2DM,CA1DF,EAGA,EAiBA,eAmCO,GAnCA,SAAM,+BAAE,EAAAgH,WAAWC,oBAAmB,EAAAC,qBAAsBlH,MAAM,YAAYmH,IAAI,c,yBACrF,iBAIM,CAJN,eAIM,MAJN,EAIM,CAHF,EACA,eAAwF,GAAjF5I,KAAK,WAAW+B,KAAK,OAAON,MAAM,e,WAAwB,EAAAoH,WAAWpG,S,qDAAX,EAAAoG,WAAWpG,SAAQ,K,uBACpF,eAAuD,GAAzCzC,KAAK,WAAWyB,MAAM,qBAExC,eAIM,MAJN,EAIM,CAHF,EACA,eAAiF,GAA1EzB,KAAK,QAAQ+B,KAAK,MAAMN,MAAM,e,WAAwB,EAAAoH,WAAWtE,M,qDAAX,EAAAsE,WAAWtE,MAAK,K,uBAC7E,eAAoD,GAAtCvE,KAAK,QAAQyB,MAAM,qBAErC,eAIM,MAJN,EAIM,CAHF,GACA,eAA4F,GAArFzB,KAAK,WAAW+B,KAAK,WAAWN,MAAM,e,WAAwB,EAAAoH,WAAWC,S,qDAAX,EAAAD,WAAWC,SAAQ,K,uBACxF,eAAuD,GAAzC9I,KAAK,WAAWyB,MAAM,qBAExC,eAIM,MAJN,GAIM,CAHF,GACA,eAA0G,GAAnGzB,KAAK,kBAAkB+B,KAAK,WAAWN,MAAM,e,WAAwB,EAAAoH,WAAWE,gB,qDAAX,EAAAF,WAAWE,gBAAe,K,uBACtG,eAA8D,GAAhD/I,KAAK,kBAAkByB,MAAM,qBAE/C,eAKM,MALN,GAKM,CAJF,GACA,eAES,UAFDM,KAAK,SAAU,QAAK,+BAAE,EAAAiH,qB,eACA,K,EAAjBH,WAAWlG,OAAM,iCAAiDsG,gBAAc,KAMjG,GACA,O,gCASR,eAoCM,MApCN,GAoCM,CAnCF,GAGA,GAYA,eAmBO,GAnBA,SAAM,+BAAE,EAAAC,WAAWR,oBAAmB,EAAAS,qBAAsB1H,MAAM,YAAYmH,IAAI,c,yBACrF,iBAIM,CAJN,eAIM,MAJN,GAIM,CAHF,GACA,eAAiF,GAA1E5I,KAAK,QAAQ+B,KAAK,MAAMN,MAAM,e,WAAwB,EAAA2H,WAAW7E,M,qDAAX,EAAA6E,WAAW7E,MAAK,K,uBAC7E,eAAoD,GAAtCvE,KAAK,QAAQyB,MAAM,qBAErC,eAIM,MAJN,GAIM,CAHF,GACA,eAA4F,GAArFzB,KAAK,WAAW+B,KAAK,WAAWN,MAAM,e,WAAwB,EAAA2H,WAAWN,S,qDAAX,EAAAM,WAAWN,SAAQ,K,uBACxF,eAAuD,GAAzC9I,KAAK,WAAWyB,MAAM,qBAKxC,GACA,O,gCAMR,eAgEM,MAhEN,GAgEM,CA/DF,eA8DM,MA9DN,GA8DM,CA7DkD,cAAb,EAAAsC,e,iBAAvC,eAKM,MALN,GAKM,CAJF,eAEO,QAFA,SAAM,mDAAesF,oBAAe,e,gBACvC,eAAyE,SAAlEtH,KAAK,OAAOuH,YAAY,W,uDAAyBC,cAAa,K,wBAAbA,kB,IAE5D,M,sBAGyB,cAAb,EAAAxF,eAA8C,SAAb,EAAAA,e,mBAC7C,eASW,mCATgC4B,WAAS,SAAlCoB,EAAUC,G,wBACxB,eAOM,O,IARkDA,EACnDvF,MAAK,gBAAC,eAAc,CACXsF,EAAS3C,MAAG,EAAUF,gBAAgBE,IAAG,eAD5B7B,MAAMwE,EAASyC,eAAgB,QAAK,mBAAE,EAAAC,gBAAgB1C,K,CAE7E,eAAmC,OAA7B3E,IAAI2E,EAASpE,OAAON,IAAI,I,WACM0E,EAAS1C,Q,iBAA7C,eAAyD,IAAzD,K,sBACA,eAEM,MAFN,GAEM,CADF,eAA2D,KAA3D,GAA2D,eAA/B0C,EAASyC,gBAAc,M,qDAQnE,eAMM,MANN,GAMM,S,QANgD,cAAb,EAAAzF,iBASzB,EAAAA,cAAc2F,SAAQ,iBAAoBC,oB,iBAA1D,eAiBW,gBAhBP,eAOM,OAPA,QAAK,iCAAE,EAAA7E,0B,CACT,eAKM,OALDrD,MAAK,gBAAC,eAAc,CAAwB,aAAb,EAAAsC,cAAa,gB,QAOrD,eAOM,OAPA,QAAK,iCAAE,EAAAgB,+BAA0B,EAAY4E,sB,CAC/C,eAKM,OALDlI,MAAK,gBAAC,eAAc,CAAwB,mBAAb,EAAAsC,cAAa,gB,yCAW1CO,iBAAiB7B,UAAQ,KAASkD,UAAUvH,OAAM,G,iBADjE,eASM,O,MATDqD,MAAM,eAAgBc,MAAK,KAAM+B,iBAAiB7B,U,CAEnD,eAAgD,OAA1CL,IAAG,KAAMkC,iBAAiB3B,OAAON,IAAI,I,WAC3C,eAEM,MAFN,GAEM,CADF,eAAkE,KAAlE,GAAkE,oBAAjCiC,iBAAiB7B,UAAQ,KAE9D,eAES,UAFDd,GAAG,qBAAsB,QAAK,iCAAE,EAAAiI,uBAAqB,c,oJAgB9D,IACX5J,KAAM,UACN2H,MAAO,GAGPC,WAAY,CACRiC,KAAA,QACAC,MAAA,QACAC,aAAA,SAEJlC,QAVW,WAYPtE,KAAKyG,0BACLzG,KAAKyC,eAETpI,KAfW,WAgBP,IAAIkK,EAAQlE,IACZ,EAA0B,eAAYkE,GAA9B/D,EAAR,EAAQA,cACR,EAA0B,eAAY+D,GAA9B9D,EAAR,EAAQA,cACR,EAAiB,eAAY8D,GAArBtF,EAAR,EAAQA,KACR,EAA4B,eAAYsF,GAAhC5D,EAAR,EAAQA,gBACR,EAA6B,eAAY4D,GAAjCxD,EAAR,EAAQA,iBACFqE,EAAuB,UAAasB,MAAM,CAC5CxH,SAAU,UAELyH,SAAS,8BACTC,IAAI,EAAG,mCACPC,QAAQ,WAAY,wCACpBC,IAAI,GAAI,qCACbvB,SAAU,UAELoB,SAAS,6BACTC,IAAI,EAAG,kCACZ5F,MAAO,UAEF6F,QACG,mCACA,+BAERrB,gBAAiB,UAAauB,MAAM,CAAC,QAAQ,YAAa,MAAO,+BAG/DnB,EAAuB,UAAac,MAAM,CAC5CnB,SAAU,UAELoB,SAAS,6BACTC,IAAI,EAAG,kCACZ5F,MAAO,UAEF6F,QACG,mCACA,iCAGZ,MAAO,CACHrG,gBACAC,gBACA6E,WAAY,CACRtE,MAAO,GACPuE,SAAU,GACVrG,SAAU,GACVsG,gBAAiB,GACjBpG,OAAQ,IAEZyG,WAAY,CACR7E,MAAO,GACPuE,SAAU,IAEdH,uBACAQ,uBACAF,eAAgB,GAChBzG,OACA+G,cAAe,GACfrF,kBACAI,mBACAqF,oBAAoB,IAG5B5B,MAAO,CACHwB,cADG,WAEC,IAAIgB,EAAQhH,KAAKgG,cAAciB,MAAM,mCAChCD,IACDhH,KAAKe,iBAAmB,CACpB7B,SAAU,GACV2B,IAAK,GACLzB,OAAQ,GACR4B,MAAO,IAEXhB,KAAKoG,oBAAqB,KAItCc,SAAU,CACNC,gBADM,WACY,WACVC,EAAIpH,KAAKf,KAAKmD,UAAUiF,KAAI,SAAA7D,GAC5B,GAAqB,QAAjBA,EAAS3C,IAAe,MAAO,GACnCkC,QAAQC,IAAIQ,EAAS8D,OACrB,IACItG,EADE5C,EAAMoF,EAAS8D,MAAM,KAAO,EAAKrI,KAAK4B,IAAO2C,EAAS8D,MAAM,GAAK9D,EAAS8D,MAAM,GAQtF,OALA,EAAKrI,KAAKsI,SAAShE,SAAQ,SAAAiE,GACnBpJ,IAAOoJ,EAAQ3G,MACfG,EAAQwG,EAAQxG,UAGjB,CAACA,EAAOwC,EAASyC,gBAAgBwB,KAAK,OAGjD,OADA1E,QAAQC,IAAIoE,GACLA,GAEXhF,UAlBM,WAkBM,WACR,GAA2B,KAAvBpC,KAAKgG,cAAsB,CAC3B,IAAI0B,EAAW,CACX7G,IAAK,MACLyG,MAAO,GACP5D,gBAAiB,YACjBuC,eAAgB,WAChB7G,OAAQ,wFACR0B,QAAQ,GAER6G,EAAoB3H,KAAKf,KAAKmD,UAElC,OADAuF,EAAkBC,KAAK5H,KAAK6H,WACrB,CAACH,GAAUI,OAAOH,GAGzB,IAAI,EAAoB3H,KAAKf,KAAKmD,UAAU2F,QAAO,SAACvE,EAAUC,GAC1D,OAAO,EAAK0D,gBAAgB1D,GAAO0C,SAAS,EAAKH,kBAClD4B,KAAK5H,KAAK6H,WACb,OAAO,IAInBpD,QAAS,CACLoD,UADK,SACKG,EAAGC,GACT,IAGIC,EAAOC,EAASC,EAAOC,EAAQC,EAAOC,EAAOC,EAASC,EAAOC,EAAQC,EAHrEC,EAAYZ,EAAEtE,gBAAgBmF,MAAM,KACpCC,EAAYb,EAAEvE,gBAAgBmF,MAAM,KASxC,OANAX,EAAQa,SAASH,EAAU,GAAGC,MAAM,KAAK,IAAKV,EAAUY,SAASH,EAAU,GAAGC,MAAM,KAAK,IACzFT,EAAQW,SAASH,EAAU,GAAGC,MAAM,KAAK,IAAKR,EAASU,SAASH,EAAU,GAAGC,MAAM,KAAK,IAAKP,EAAQS,SAASH,EAAU,GAAGC,MAAM,KAAK,IAEtIN,EAAQQ,SAASD,EAAU,GAAGD,MAAM,KAAK,IAAKL,EAAUO,SAASD,EAAU,GAAGD,MAAM,KAAK,IACzFJ,EAAQM,SAASD,EAAU,GAAGD,MAAM,KAAK,IAAKH,EAASK,SAASD,EAAU,GAAGD,MAAM,KAAK,IAAKF,EAAQI,SAASD,EAAU,GAAGD,MAAM,KAAK,IAElIP,IAAUK,EAAcA,EAAQL,EAChCD,IAAWK,EAAeA,EAASL,EACnCD,IAAUK,EAAcA,EAAQL,EAChCF,IAAUK,EAAcA,EAAQL,EAChCC,IAAYK,EAAgBA,EAAUL,EACnC,GAGX1B,wBApBK,WAqBD,IAAMuC,EAAU7F,SAASC,cAAc,aACjC6F,EAAW9F,SAASC,cAAc,oBAClC8F,EAAW/F,SAASgG,iBAAiB,eACrCC,EAASjG,SAASC,cAAc,YAChCiG,EAAUlG,SAASC,cAAc,qBACjCkG,EAAUnG,SAASC,cAAc,YACjC8B,EAAS/B,SAASC,cAAc,gBAChCmG,EAAQpG,SAASC,cAAc,eAErC4F,EAAQQ,iBAAiB,SAAS,WAE9BP,EAASQ,UAAUC,IAAI,QACvBJ,EAAQG,UAAUC,IAAI,WAG1BN,EAAOI,iBAAiB,SAAS,WAE7BH,EAAQI,UAAUC,IAAI,QACtBJ,EAAQG,UAAUC,IAAI,WAG1BR,EAAS3F,SAAQ,SAACoG,GACdA,EAAIH,iBAAiB,SAAS,WAE1BP,EAASQ,UAAUG,OAAO,QAC1BP,EAAQI,UAAUG,OAAO,QACzBN,EAAQG,UAAUG,OAAO,cAIjC1E,EAAOsE,iBAAiB,SAAS,WAC7BP,EAASQ,UAAUC,IAAI,QACvBL,EAAQI,UAAUG,OAAO,WAE7BL,EAAMC,iBAAiB,SAAS,WAC5BH,EAAQI,UAAUC,IAAI,QACtBT,EAASQ,UAAUG,OAAO,YAGlCC,cA5DK,WA6DD5G,YAAW,WACP,IAAMC,EAAIC,SAASC,cAAc,iBACjCF,EAAEG,UAA6B,EAAjBH,EAAEI,eACjB,MAEDb,YAlED,WAkEe,4KAENX,EAAQE,aAAaM,QAAQ,UAC/BR,EAHQ,gCAIW,EAAYW,YAAY,CAAEX,MAAOA,IAJ5C,OAIF7C,EAJE,OAKJA,IACAoB,IAAWwB,YAAY5C,EAAK0D,SAC5B,EAAgBC,4BAA4B3D,EAAK0D,QAAQb,MAAO7C,EAAK0D,QAAQ3B,OAC7E,EAAgB6B,sBAAqB,SAACC,EAAKzI,GACvC0I,QAAQC,IAAI3I,GACRA,EAAK8H,SAAW,EAAKxB,gBAAgBE,MACrC,EAAKF,gBAAgBC,SAASzF,KAAKd,GACnC,EAAKwP,iBAET,EAAK5K,KAAKmD,UAAUmB,SAAQ,SAACC,EAAUC,GAC/BpJ,EAAK8H,SAAWqB,EAAS3C,MACzB,EAAK5B,KAAKmD,UAAUqB,GAAOC,gBAAkBrJ,EAAKsJ,gBAK9DtD,IAAWhB,iBArBP,0DAyBZ0D,QAAQC,IAAR,MAzBY,4DA4BpBzB,qBA9FK,WA+FDlB,IAAWkB,wBAEfC,2BAjGK,WAkGDnB,IAAWmB,8BAEf0E,gBApGK,SAoGW1C,GACZxD,KAAKW,gBAAL,iCAA4B6C,GAA5B,IAAsC5C,SAAU,KAC3B,QAAjB4C,EAAS3C,IACTR,IAAWoB,oBAEX,EAAgBqI,oBAAoBtG,EAAS3C,IAAIkB,YACjD/B,KAAK6J,gBACLxJ,IAAWqB,sBAGnB+D,gBA9GK,WA8Ga,WACRsE,EAAShM,OAAOiM,WAAWC,mBAC7B,CACIC,WAAY,YACZC,cAAe,WACfC,iBAAkB,IAClBC,cAAc,EACdC,QAAS,CAAC,SACVC,qBAAsB,CAAC,SACvBC,SAAU,GARH,yDAUX,WAAOC,EAAO/O,GAAd,oFACS+O,IAAS/O,GAA2B,YAAjBA,EAAOgP,MADnC,uBAEQ3H,QAAQC,IAAI,qBAAsBtH,EAAOiP,MACzC,EAAKrF,WAAWlG,OAAS1D,EAAOiP,KAAKC,IACrC7H,QAAQC,IAAItH,EAAOiP,MACnB5H,QAAQC,IAAI,EAAKsC,WAAWlG,QAC5B,EAAKsG,eAAiBhK,EAAOiP,KAAKE,kBAAoB,IAAMnP,EAAOiP,KAAKG,OANhF,SAOcf,EAAOgB,QAAQ,CAAEC,kBAAkB,IACpCC,MAAK,WACFlI,QAAQC,IAAI,2BAT5B,2CAVW,yDAsBRkI,QAQLhG,OA7ID,WA6IU,8KAEwB,KAA3B,EAAKI,WAAWlG,SAChB,EAAKkG,WAAWlG,OAAS,0FAHtB,SAKW,EAAY8F,OAAO,EAAKI,YALnC,OAKD6F,EALC,OAMPhI,SAASC,cAAc,oBAAoBqG,UAAUG,OAAO,QAC5DzG,SAASC,cAAc,qBAAqBqG,UAAUC,IAAI,QAG1D,EAAKpE,WAAa,CACdtE,MAAO,GACPuE,SAAU,GACVrG,SAAU,GACVkM,QAAS,GACThM,OAAQ,IAEZ6D,WAAW,EAAKoI,MAAMC,WAAWC,UAAW,MACxCJ,GAAKzG,MAAMyG,EAAIxI,SAlBZ,qDAoBP+B,MAAM,KAAM8G,SAASnR,KAAKsI,QAAQZ,YApB3B,6DAwBT4D,OArKD,WAqKU,uLAEW,EAAYA,OAAO,EAAKE,YAFnC,OAEDsF,EAFC,OAGP9K,IAAWwB,YAAYsJ,EAAIxI,SAC3B,EAAgBC,4BAA4BuI,EAAIxI,QAAQb,MAAOqJ,EAAIxI,QAAQ3B,OAC3EmC,SAASC,cAAc,qBAAqBqG,UAAUG,OAAO,QAC7DzG,SAASC,cAAc,YAAYqG,UAAUG,OAAO,QACpDvJ,IAAWhB,gBAIX,EAAKwG,WAAa,CACd7E,MAAO,GACPuE,SAAU,IAEd,EAAgB1C,sBAAqB,SAACC,EAAKzI,GACvC0I,QAAQC,IAAI3I,GACRA,EAAK8H,SAAW,EAAKxB,gBAAgBE,MACrC,EAAKF,gBAAgBC,SAASzF,KAAKd,GACnC,EAAKwP,iBAET,EAAK5K,KAAKmD,UAAUmB,SAAQ,SAACC,EAAUC,GAC/BpJ,EAAK8H,SAAWqB,EAAS3C,MACzB,EAAK5B,KAAKmD,UAAUqB,GAAOC,gBAAkBrJ,EAAKsJ,gBAO9DV,WAAW,EAAKoI,MAAMI,WAAWF,UAAW,KACxCJ,GAAKpI,QAAQC,IAAImI,EAAIxI,SA/BlB,qDAiCP+B,MAAM,KAAM8G,SAASnR,KAAKsI,QAAQZ,YAjC3B,6DAqCf+D,gBA1MK,WA0Ma,WACd,KAAI9F,KAAKoC,UAAUvH,OAAS,GAA5B,CACA,GAAImF,KAAKgG,gBAAkBhG,KAAKf,KAAK+B,MAGjC,OAFA0D,MAAM1E,KAAKf,KAAK+B,MAAQ,uCACxBhB,KAAKgG,cAAgB,IAMzB,IAAIgB,EAAQhH,KAAKgG,cAAciB,MAAM,mCAEhCD,GAKLhH,KAAKf,KAAKyM,eAAenI,SAAQ,SAAAiE,GAC7B,GAAIA,EAAQxG,QAAU,EAAKgF,cAIvB,OAHAtB,MAAM,mBAAD,OAAoB,EAAKsB,cAAzB,cAA4CwB,EAAQtI,SAApD,uCACL,EAAK8G,cAAgB,QACrBgB,GAAQ,MAIXA,IACL,EAAgBlB,gBAAgB9F,KAAKgG,eACrChG,KAAKoG,oBAAqB,EAC1BrD,QAAQC,IAAIhD,KAAKgG,eACjBhG,KAAKW,gBAAkB,CACnBzB,SAAU,GACVE,OAAQ,GACRwB,SAAU,GACVC,IAAK,IAETb,KAAKS,cAAgB,mBAtBjBiE,MAAM,mBAAD,OAAoB1E,KAAKgG,cAAzB,sBA0BbK,kBAjPK,WAkPD,EAAgBA,kBAAkBrG,KAAKe,iBAAiBC,OACxDhB,KAAKgG,cAAgB,GACrBhG,KAAKe,iBAAmB,CACpB7B,SAAU,GACV2B,IAAK,GACLzB,OAAQ,GACR4B,MAAO,MAKnB+D,cAjYW,c,UC1Kf,GAAOC,OAAS,GAChB,GAAO2G,UAAY,kBAEJ,U,gLCPNzN,MAAM,W,IACFA,MAAM,kB,qBAGAA,MAAM,sB,IAERA,MAAM,wB,IAOVA,MAAM,gB,IACFA,MAAM,Y,qBAGMA,MAAM,iB,IACFA,MAAM,e,qBAGNA,MAAM,UAAyCC,MAAA,0B,IAC3CD,MAAM,a,IACFA,MAAM,a,IAENA,MAAM,a,yBAAY,eAAM,sB,UAGhCA,MAAM,WAAgDC,MAAA,0B,qBAI1DD,MAAM,iB,UACFA,MAAM,YAA2CC,MAAA,0B,IAE7CD,MAAM,a,yBAAY,eAAM,sB,UAE5BA,MAAM,WAAgDC,MAAA,0B,gCAM1DD,MAAM,iB,IACFA,MAAM,e,qBAGNA,MAAM,W,IACFA,MAAM,a,IACFA,MAAM,a,IAENA,MAAM,a,yBAAY,eAAM,sB,UAGhCA,MAAM,WAAgDC,MAAA,0B,qBAK1DD,MAAM,iB,UACFA,MAAM,a,IAEFA,MAAM,a,yBAAY,eAAM,sB,UAE5BA,MAAM,WAAgDC,MAAA,0B,eAQ1ED,MAAM,e,IACFA,MAAM,e,yBAEH,eAAiC,KAA9BA,MAAM,qBAAmB,Y,IAA5B,I,yBAIA,eAES,UAFDM,KAAK,UAAQ,CACjB,eAAuC,KAApCN,MAAM,8B,gBAOxBA,MAAM,W,IACFA,MAAM,kB,yBACP,eAA6E,OAAxEA,MAAM,qBAAqBW,IAAA,KAAoCC,IAAI,I,qCACxE,eAEM,OAFDZ,MAAM,wBAAsB,CAC7B,eAAiB,UAAb,c,UAEHA,MAAM,wB,yBAGH,eAA2C,KAAxCA,MAAM,+BAA6B,Y,yBAGtC,eAAyC,KAAtCA,MAAM,6BAA2B,Y,IAI3CA,MAAM,gB,IACFA,MAAM,Y,qBAGMA,MAAM,iB,yBACP,eAEM,OAFDA,MAAM,eAAa,CACpB,eAAkD,OAA7CW,IApBO,KAoB6BC,IAAI,O,gBAE5CZ,MAAM,UAAyCC,MAAA,0B,IAC3CD,MAAM,a,IACFA,MAAM,a,IAENA,MAAM,a,yBAAY,eAAM,sB,UAGhCA,MAAM,Y,qBAIVA,MAAM,iB,yBACP,eAEM,OAFDA,MAAM,eAAa,CACpB,eAA6C,OAAxCW,IAAA,KAA+BC,IAAI,O,UAEvCZ,MAAM,W,IACFA,MAAM,YAAYC,MAAA,0B,IACdD,MAAM,a,IAENA,MAAM,a,yBAAY,eAAM,sB,UAIpCA,MAAM,iB,UACFA,MAAM,YAA2CC,MAAA,0B,IAE7CD,MAAM,a,yBAAY,eAAM,sB,UAE5BA,MAAM,Y,gCAMVA,MAAM,iB,yBACP,eAEM,OAFDA,MAAM,eAAa,CACpB,eAAkD,OAA7CW,IA1DO,KA0D6BC,IAAI,O,gBAE5CZ,MAAM,W,IACFA,MAAM,a,IACFA,MAAM,a,IAENA,MAAM,a,yBAAY,eAAM,sB,UAGhCA,MAAM,Y,qBAIVA,MAAM,iB,yBACP,eAEM,OAFDA,MAAM,eAAa,CACpB,eAA6C,OAAxCW,IAtCA,KAsC+BC,IAAI,O,UAEvCZ,MAAM,W,IACFA,MAAM,a,IACFA,MAAM,a,IAENA,MAAM,a,yBAAY,eAAM,sB,UAIpCA,MAAM,iB,UACFA,MAAM,a,IAEFA,MAAM,a,yBAAY,eAAM,sB,UAE5BA,MAAM,Y,eAQ1BA,MAAM,e,yBAEH,eAAiC,KAA9BA,MAAM,qBAAmB,Y,IAA5B,I,yBAKA,eAES,UAFDE,GAAG,eAAeI,KAAK,U,CAC3B,eAAuC,KAApCN,MAAM,8B,gBAMpBA,MAAM,gB,yBACP,eAKM,OALDA,MAAM,kBAAgB,CACvB,eAAgC,KAA7BA,MAAM,qBACT,eAEM,OAFDA,MAAM,wBAAsB,CAC7B,eAA0B,UAAtB,yB,UAGPA,MAAM,gB,4BAIMA,MAAM,mB,IACHA,MAAM,gB,IAETA,MAAM,kB,wCAWtBA,MAAM,gB,yBACP,eAKM,OALDA,MAAM,kBAAgB,CACvB,eAA4B,KAAzBA,MAAM,iBACT,eAEM,OAFDA,MAAM,wBAAsB,CAC7B,eAAyB,UAArB,wB,UAGPA,MAAM,gB,4BAIMA,MAAM,mB,IACHA,MAAM,gB,UAOzBA,MAAM,0B,yBACP,eAA0C,OAArCW,IAAA,KAA8BC,IAAI,I,qCACvC,eAAa,UAAT,QAAI,M,yBACR,eAA6B,UAAzB,wBAAoB,M,IAFxB,GACA,GACA,I,UAGCZ,MAAM,iC,yBACP,eAA0C,OAArCW,IANA,KAM8BC,IAAI,I,qCAEvC,eAAmC,SAAhC,gCAA4B,M,yBAC/B,eAAiE,SAA9D,8DAA0D,M,wFA7PzB,SAAb,EAAA2B,e,iBAA3B,eAqFM,MArFN,GAqFM,CApFF,eAWM,MAXN,GAWM,CAVF,eAA4E,OAAvEvC,MAAM,qBAAsBW,IAAG,KAAO8B,gBAAgBvB,OAAQN,IAAI,I,WACvE,eAEO,a,KADsC6B,gBAAgBG,Q,iBAAzD,eAAqE,IAArE,K,wBAEJ,eAEM,MAFN,GAEM,CADF,eAAmD,8BAAtCH,gBAAgBsF,gBAAc,OAMnD,eA0DM,MA1DN,GA0DM,CAzDF,eAwDM,MAxDN,GAwDM,E,mBAvDF,eAsDW,gCAtD+BrF,UAAQ,SAAhC+B,EAASc,G,mDAA+BA,GAAK,CAChDA,IAAU,EAAM9C,gBAAgBC,SAAS/F,OAAM,GAAS4I,EAAQ,G,iBAA3E,eAyBM,UAxB+Bd,EAAQ2E,QAAK,EAAUrI,KAAK4B,K,iBAA7D,eAcM,MAdN,GAcM,CAbF,eAEM,MAFN,GAEM,CADF,eAAiD,OAA3ChC,IAAG,EAAO8B,gBAAgBvB,OAAQN,IAAI,I,aAET,SAAZ6D,EAAQnE,M,iBAAnC,eAMM,MANN,GAMM,CALF,eAIM,MAJN,GAIM,CAHF,eAAsE,MAAtE,GAAsE,iBAAvCmC,gBAAgBsF,gBAAc,G,eAAS,IACtE,eAAGtD,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,UAGX,UAAZhB,EAAQnE,M,iBAAzC,eAEM,MAFN,GAEM,CADF,eAAmC,OAA7BK,IAAI8D,EAAQiJ,QAAQ9M,IAAI,I,yDAGtC,eAQM,MARN,GAQM,CAPuC,SAAZ6D,EAAQnE,M,iBAArC,eAGM,MAHN,GAGM,C,8BAFCmE,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,QAEP,UAAZhB,EAAQnE,M,iBAAzC,eAEM,MAFN,GAEM,CADF,eAAmC,OAA7BK,IAAI8D,EAAQiJ,QAAQ9M,IAAI,I,4DAI1C,eA0BM,UAzB+B6D,EAAQ2E,QAAK,EAAUrI,KAAK4B,K,iBAA7D,eAcM,MAdN,GAcM,CAbF,eAEM,MAFN,GAEM,CADF,eAAiD,OAA3ChC,IAAG,EAAO8B,gBAAgBvB,OAAQN,IAAI,I,aAET,SAAZ6D,EAAQnE,M,iBAAnC,eAMM,MANN,GAMM,CALF,eAIM,MAJN,GAIM,CAHF,eAAsE,MAAtE,GAAsE,iBAAvCmC,gBAAgBsF,gBAAc,G,eAAS,IACtE,eAAGtD,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,UAGX,UAAZhB,EAAQnE,M,iBAAzC,eAEM,MAFN,GAEM,CADF,eAAmC,OAA7BK,IAAI8D,EAAQiJ,QAAQ9M,IAAI,I,yDAItC,eAQM,MARN,GAQM,CAPuC,SAAZ6D,EAAQnE,M,iBAArC,eAGM,MAHN,GAGM,C,8BAFCmE,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,QAEP,UAAZhB,EAAQnE,M,iBAAzC,eAEM,MAFN,GAEM,CADF,eAAmC,OAA7BK,IAAI8D,EAAQiJ,QAAQ9M,IAAI,I,4DAOtD,eAYM,MAZN,GAYM,CAXF,eAUM,MAVN,GAUM,CATF,eAES,UAFA,QAAK,+BAAE,EAAA2G,qB,IAGhB,eAKO,QALDvH,MAAM,GAAI,SAAM,+CAAU,EAAA2N,kBAAiB,yB,gBAC7C,eAAkG,SAA3FrN,KAAK,OAAOuH,YAAY,sC,qDAA+C,EAAA+F,iBAAgB,K,mBAAhB,EAAAA,oBAC9E,I,iCAQwB,qBAAb,EAAArL,e,iBAA3B,eA8GM,MA9GN,GA8GM,CA7GF,eAcM,MAdN,GAcM,CAbF,GACA,GAGA,eAQM,MARN,GAQM,CANF,eAES,UAFDrC,GAAG,cAAcD,MAAA,wBAA6B,QAAK,+BAAE,EAAA4N,2B,CACzD,G,eAA2C,0BAE/C,eAES,UAFD3N,GAAG,eAAgB,QAAK,+BAAE,EAAA4N,sB,CAC9B,G,eAAyC,oBAIrD,eAiFM,MAjFN,GAiFM,CAhFF,eA+EM,MA/EN,GA+EM,E,mBA9EF,eA6EW,2BA7E0B,EAAAC,0BAAwB,SAA3CtJ,EAASc,G,mDAA0CA,GAAK,CAC3DA,IAAU,EAAMwI,yBAAyBpR,OAAM,GAAS4I,EAAQ,G,iBAA3E,eAqCM,UApC2C,aAAZd,EAAQlG,M,iBAAzC,eAcM,MAdN,GAcM,CAbF,GAGuC,SAAZkG,EAAQnE,M,iBAAnC,eAMM,MANN,GAMM,CALF,eAIM,MAJN,GAIM,CAHF,eAA+C,MAA/C,GAA+C,eAArBmE,EAAQlG,MAAI,G,eAAS,IAC/C,eAAGkG,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,UAGX,UAAZhB,EAAQnE,M,iBAAzC,eAEM,MAFN,GAEM,CADF,eAAmC,OAA7BK,IAAI8D,EAAQiJ,QAAQ9M,IAAI,I,uCAGY,QAAZ6D,EAAQlG,M,iBAA9C,eAWM,MAXN,GAWM,CAVF,GAGA,eAMM,MANN,GAMM,CALF,eAIM,MAJN,GAIM,CAHF,eAA+C,MAA/C,GAA+C,eAArBkG,EAAQlG,MAAI,G,eAAS,IAC/C,eAAGkG,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,a,iBAI5D,eAQM,MARN,GAQM,CAPuC,SAAZhB,EAAQnE,M,iBAArC,eAGM,MAHN,GAGM,C,8BAFCmE,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,QAEP,UAAZhB,EAAQnE,M,iBAAzC,eAEM,MAFN,GAEM,CADF,eAAmC,OAA7BK,IAAI8D,EAAQiJ,QAAQ9M,IAAI,I,4DAI1C,eAqCM,UApC2C,aAAZ6D,EAAQlG,M,iBAAzC,eAcM,MAdN,GAcM,CAbF,GAGuC,SAAZkG,EAAQnE,M,iBAAnC,eAMM,MANN,GAMM,CALF,eAIM,MAJN,GAIM,CAHF,eAA+C,MAA/C,GAA+C,eAArBmE,EAAQlG,MAAI,G,eAAS,IAC/C,eAAGkG,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,UAGX,UAAZhB,EAAQnE,M,iBAAzC,eAEM,MAFN,GAEM,CADF,eAAmC,OAA7BK,IAAI8D,EAAQiJ,QAAQ9M,IAAI,I,uCAGY,QAAZ6D,EAAQlG,M,iBAA9C,eAWM,MAXN,GAWM,CAVF,GAGA,eAMM,MANN,GAMM,CALF,eAIM,MAJN,GAIM,CAHF,eAA+C,MAA/C,GAA+C,eAArBkG,EAAQlG,MAAI,G,eAAS,IAC/C,eAAGkG,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,a,iBAI5D,eAQM,MARN,GAQM,CAPuC,SAAZhB,EAAQnE,M,iBAArC,eAGM,MAHN,GAGM,C,8BAFCmE,EAAQiJ,SAAU,IACrB,kBAAyD,MAAzD,GAAyD,CAAlC,G,8BAASjJ,EAAQgB,UAAQ,QAEP,UAAZhB,EAAQnE,M,iBAAzC,eAEM,MAFN,GAEM,CADF,eAAmC,OAA7BK,IAAI8D,EAAQiJ,QAAQ9M,IAAI,I,4DAOtD,eAWM,MAXN,GAWM,CAVF,eAES,UAFA,QAAK,+BAAE,EAAA2G,oBAAmBrH,GAAG,e,IAGtC,eAMO,QANDF,MAAM,GAAI,SAAM,+CAAU,EAAAgO,oBAAmB,yB,gBAC/C,eACiD,SAD1C9N,GAAG,iBAAiBI,KAAK,OAAOuH,YAAY,sC,qDACtC,EAAAoG,iCAAgC,K,mBAAhC,EAAAA,oCACb,I,+BAOiC,mBAAb,EAAA1L,e,iBAAhC,eAuBM,MAvBN,GAuBM,CAtBF,GAMA,eAeM,MAfN,GAeM,E,mBAdF,eAaW,2BAb0B,EAAAxB,KAAKyM,gBAAc,SAAtClE,EAAS/D,G,wBACvB,eAWM,O,IAZsDA,EACvDvF,MAAM,eAAgBc,MAAMwI,EAAQtI,U,CACrC,eAAkC,OAA5BL,IAAI2I,EAAQpI,OAAON,IAAI,I,WAC7B,eAEM,MAFN,GAEM,CADF,eAAoD,KAApD,GAAoD,eAAxB0I,EAAQtI,UAAQ,KAEhD,eAKM,MALN,GAKM,CAJF,eACgG,UADxFhB,MAAM,iBACT,QAAK,qBAAOkO,oBAAmB,OAAU5E,EAAQxG,MAAK,cAAmB,YAAS,MACvF,eAC+F,UADvF9C,MAAM,eACT,QAAK,qBAAOkO,oBAAmB,OAAU5E,EAAQxG,MAAK,cAAoB,UAAO,S,0CAO7D,aAAb,EAAAP,e,iBAAhC,eAiBM,MAjBN,GAiBM,CAhBF,GAMA,eASM,MATN,GASM,E,mBARF,eAOW,2BAP0B,EAAAxB,KAAKsI,UAAQ,SAAhCC,EAAS/D,G,wBACvB,eAKM,O,IANgDA,EACjDvF,MAAM,eAAgBc,MAAMwI,EAAQtI,U,CACrC,eAAkC,OAA5BL,IAAI2I,EAAQpI,OAAON,IAAI,I,WAC7B,eAEM,MAFN,GAEM,CADF,eAAoD,KAApD,GAAoD,eAAxB0I,EAAQtI,UAAQ,M,0CAOT,cAAb,EAAAuB,e,iBAA1C,eAIM,MAJN,GAIM,K,sBAEwD,mBAAb,EAAAA,e,iBAAjD,eAKM,MALN,GAKM,CAJF,GACA,eAAgG,SAA7F,YAAS,oBAAQxB,KAAKC,SAASN,OAAM,KAAMK,KAAKC,SAAS6C,WAAWsK,YAAW,UAClF,GACA,M,2BASO,QACX5P,KAAM,UACN2H,MAAO,GAGPC,WAAY,GAEZC,QAPW,aASXjK,KATW,WAUP,IAAIkK,EAAQlE,IACZ,EAAwB,eAAYkE,GAA9B9D,EAAN,EAAMA,cACN,EAA2B,eAAY8D,GAAjC7D,EAAN,EAAMA,iBACN,EAAe,eAAY6D,GAArBtF,EAAN,EAAMA,KACN,EAA4B,eAAYsF,GAAhC5D,EAAR,EAAQA,gBACR,MAAO,CACHF,gBACAwL,yBAA0B,GAC1BE,iCAAkC,GAClCvB,IAAK,GACLlK,mBACAzB,OACA6M,iBAAkB,GAClBnL,oBAGRuG,SAAU,CACNtG,SADM,WAEF,OAAGZ,KAAKW,gBAAgBC,SAAS/F,OAAS,EAC/BmF,KAAKW,gBAAgBC,SAErB,KAInB4D,MAAO,CACH/D,cADG,SACW6L,EAAUC,GAAU,WACb,qBAAbD,GACArJ,YAAW,WAEF,EAAKvC,kBAMN,EAAK8L,gBAAe,GACpB,EAAKC,kBAAiB,GACtB,EAAKC,iBAAgB,KAPrB,EAAKF,gBAAe,GACpB,EAAKC,kBAAiB,GACtB,EAAKC,iBAAgB,IAOzB3J,QAAQC,IAAIuJ,KACb,KAGXN,yBAA0B,CACtBU,MAAM,EACNC,QAFsB,WAGlB7J,QAAQC,IAAI,YACZC,YAAW,WACP,IAAMC,EAAIC,SAASC,cAAc,iBACjCF,EAAEG,UAA6B,EAAjBH,EAAEI,eACjB,QAIfmB,QAAS,CACLoF,cADK,WAED5G,YAAW,WACH,IAAMC,EAAIC,SAASC,cAAc,iBACjCF,EAAEG,UAA6B,EAAjBH,EAAEI,eACjB,MAEXuI,kBAPK,SAOarN,GAAM,IAEhBmE,EAFgB,OACpBI,QAAQC,IAAI,uBAEC,SAATxE,GAA6C,KAA1BwB,KAAK8L,mBACxBnJ,EAAU,CAAEiJ,QAAS5L,KAAK8L,iBAAkBtN,KAAMA,EAAO2D,OAAQnC,KAAKW,gBAAgBE,MAE7E,UAATrC,IACAmE,EAAU,CAAEiJ,QAAS5L,KAAK4K,IAAKpM,KAAMA,EAAO2D,OAAQnC,KAAKW,gBAAgBE,KACzEb,KAAK4K,IAAM,IAEf,EAAgBiB,kBAAkBlJ,GAAS,SAAAwB,GAEvCpB,QAAQC,IAAImB,GACZ,EAAKxD,gBAAgBC,SAASzF,KAA9B,iCACOwH,GADP,IAEIgB,SAAUQ,EAAGR,SACb2D,MAAO,EAAKrI,KAAK4B,OAErB,EAAKgJ,gBAEL,EAAKiC,iBAAmB,OAGhCrG,gBA9BK,WA8Ba,WACd1H,OAAOiM,WAAWC,mBACd,CACIC,WAAY,YACZC,cAAe,WACfC,iBAAkB,IAClBC,cAAc,EACdC,QAAS,CAAC,SACVC,qBAAsB,CAAC,SACvBC,SAAU,IAEd,SAACC,EAAO/O,IACC+O,GAAS/O,GAA2B,YAAjBA,EAAOgP,QAC3B3H,QAAQC,IAAI,qBAAsBtH,EAAOiP,MACzC,EAAKC,IAAMlP,EAAOiP,KAAKC,IACvB7H,QAAQC,IAAI,EAAK4H,KACe,QAA7B,EAAKjK,gBAAgBE,IACpB,EAAKqL,oBAAoB,SAEzB,EAAKL,kBAAkB,aAGhCX,QAQXa,sBA5DK,WA4DmB,WACpB9I,YAAW,WACP,IAAMO,EAAW,EAAK9C,iBACtBqC,QAAQC,IAAIQ,GACK,KAAbA,GACA,EAAKyI,yBAA2B,CAAC,CAAEL,QAAS,wBAAyBnP,KAAM,QAG3E,EAAK+P,gBAAe,GACpB,EAAKC,kBAAiB,GACtB,EAAKC,iBAAgB,GACrB,EAAgBG,iBAAiBrJ,KAGjC,EAAgBsJ,gCAEhB,EAAgBC,oBAAmB,SAACjK,EAAKzI,GAmBrC,GAlBA0I,QAAQC,IAAI3I,GACS,0BAAjBA,EAAKuR,UACL,EAAKY,gBAAe,GACpB,EAAKC,kBAAiB,GACtB,EAAKC,iBAAgB,IAErBrS,EAAKuR,QAAQzF,SAAS,aACtB9L,EAAKuR,QAAU,4CAGf,EAAKY,gBAAe,GACpB,EAAKC,kBAAiB,GACtB,EAAKC,iBAAgB,GACrB,EAAK/K,oBAAoB,KAEpB,EAAKsK,yBAAyBpR,OAAS,IAC5C,EAAKoR,yBAA2B,IAEhC5R,EAAKuR,QAAQzF,SAAS,yBAA0B,CAChD,IAAM,EAAW9L,EAAKuR,QAAQhN,OAAOvE,EAAKuR,QAAQoB,QAAQ,KAAO,EAAG3S,EAAKuR,QAAQ/Q,OAAS,GAC1F,EAAK8G,oBAAoB,GACzBtH,EAAKuR,QAAUvR,EAAKuR,QAAQhN,OAAO,EAAGvE,EAAKuR,QAAQoB,QAAQ,MAC3D,EAAKR,gBAAe,GACpB,EAAKC,kBAAiB,GACtB,EAAKC,iBAAgB,GAIJ,sDAAjBrS,EAAKuR,UAGL,EAAKY,gBAAe,GACpB,EAAKC,kBAAiB,GACtB,EAAKC,iBAAgB,IAGzB,EAAKT,yBAAyB9Q,KAAK,CAC/BsB,KAAMpC,EAAKoC,KACXmP,QAASvR,EAAKuR,QACdpN,KAAM,OACNmF,SAAUtJ,EAAKsJ,cAGvB,EAAgBsJ,wBAAuB,SAACnK,EAAKzI,GACzC0I,QAAQC,IAAI3I,GACZ,EAAK4R,yBAAyB9Q,KAAKd,SAG5C,KAEP6R,oBA/HK,SA+He1N,GAAM,IAElBmE,EAFkB,OACtBI,QAAQC,IAAI,uBAEC,SAATxE,GAA6D,KAA1CwB,KAAKmM,mCACxBxJ,EAAU,CAAEiJ,QAAS5L,KAAKmM,iCAAkC3N,KAAMA,IAEzD,UAATA,IACAmE,EAAU,CAAEiJ,QAAS5L,KAAK4K,IAAKpM,KAAMA,GACrCwB,KAAK4K,IAAM,IAEf,EAAgBsB,oBAAoBvJ,GAAS,SAAAwB,GAEzCpB,QAAQC,IAAImB,GACZ,EAAK8H,yBAAyB9Q,KAA9B,iCACOwH,GADP,IAEIgB,SAAUQ,EAAGR,SACblH,KAAM,QAGV,EAAK0P,iCAAmC,OAGhDH,iBArJK,WAqJc,WACf/I,YAAW,WACP,EAAgBiK,qBAChB,EAAKjB,yBAAyB9Q,KAAK,CAC/BqD,KAAM,OACNmF,SAAU,EAAKwJ,UACfvB,QAAS,0BACTnP,KAAM,QAGV,EAAKkF,oBAAoB,IACzB,EAAK6K,gBAAe,GACpB,EAAKC,kBAAiB,GACtB,EAAKC,iBAAgB,GAGrB,EAAKP,iCAAmC,KACzC,IACHnM,KAAKiM,yBAA2B,IAEpCkB,QAzKK,WA0KD,IAAIC,EAAQ,IAAIC,KACZC,EAAOF,EAAMG,UAAY,KAAOH,EAAMI,WAAa,GAAK,IAAMJ,EAAMK,cACpEC,EAAON,EAAMO,WAAa,IAAMP,EAAMQ,aACtCC,EAAWH,EAAO,IAAMJ,EAC5B,OAAOO,GAEXlM,oBAhLK,SAgLeC,GAChBvB,IAAWsB,oBAAoBC,IAEnC4K,eAnLK,SAmLUsB,GACX3K,SAASC,cAAc,gBAAgB2K,SAAWD,GAEtDrB,iBAtLK,SAsLYqB,GACb3K,SAASC,cAAc,gBAAgB2K,SAAWD,EAClD3K,SAASC,cAAc,iBAAiB2K,SAAWD,EACnD3K,SAASC,cAAc,mBAAmB2K,SAAWD,GAEzDpB,gBA3LK,SA2LWoB,GACZ3K,SAASC,cAAc,iBAAiB2K,SAAWD,GAEvD1B,oBA9LK,SA8Le/R,GAChB,EAAgB+R,oBAAoB/R,KAI5C0K,cApQW,WAqQP,EAAgBmI,qBAChB,EAAgB1K,e,UCxgBxB,GAAOwC,OAAS,GAChB,GAAO2G,UAAY,kBAEJ,U,wBV4BA,IACblP,KAAM,MACN4H,WAAY,CACV2J,OACAC,WACAC,YAEF5J,QAPa,aAUbjK,KAVa,WAWX,IAAIkK,EAAQlE,IACZ,EAAqB,eAAYkE,GAA3BtD,EAAN,EAAMA,WACN,MAAO,CACLA,aACAtC,WAAY,GACZwP,KAAM,IAMV3J,MAAO,CACLvD,WADK,WAEHjB,KAAKrB,WAAaqB,KAAKiB,WAAWc,WAAa/B,KAAKmO,KAAKpM,WACzD/B,KAAKmO,KAAO,EAAInO,KAAKmO,KAErBnO,KAAKqB,eAGToD,QAAS,CACPpD,WADO,WAEL,IAAM+M,EAAmBjL,SAASkL,eAAe,aAC3CC,EAAQ,IAAI,KAAUC,MAAMH,GAElCE,EAAME,SAGVzJ,cAtCa,WAuCX,EAAgBvC,aAChB,EAAgB0K,uB,UWvEpB,GAAOlI,OAASA,EAChB,GAAO2G,UAAY,kBAEJ,U,8BCDf8C,eAAUC,IAAKC,IAAIC,kBAAeC,MAAM,S,oFCPxC,W,kCCAA,W,qBCAAzS,EAAOD,QAAU,IAA0B","file":"js/app.8f2be5f2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Redi/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/redi.10f611f2.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Content.vue?vue&type=style&index=0&id=34844884&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/avatar-bot.c72e65e8.png\";","module.exports = __webpack_public_path__ + \"img/avatar-stranger.b0ed6063.png\";","<template>\n  <div class=\"App\">\n    <div class=\"layout_main\">\n      <!-- <Menu :statusMenu = \"statusMenu\"/>\n      <Sidebar :statusSidebar = \"statusSidebar\"/>\n      <Content :statusContent = \"statusContent\"/> -->\n      <Menu></Menu>\n      <Sidebar></Sidebar>\n      <Content></Content>\n    </div>\n\n    <div class=\"toast-container\" style=\"position: fixed; bottom: 10px; right: 10px;\">\n\n      <div id=\"liveToast\" class=\"toast align-items-center border-1\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n        <div class=\"d-flex\">\n          <div class=\"toast-body notify-success\">\n            {{ this.textNotify.substr(0, this.textNotify.length -2) }}\n          </div>\n          <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\"\n            aria-label=\"Close\"></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import SocketioService from './services/socketio.service.js';\n// import { useStore } from './stores/Store';\nimport Menu from './components/Menu.vue';\nimport Sidebar from './components/Sidebar.vue';\nimport Content from './components/Content.vue';\nimport bootstrap from 'bootstrap/dist/js/bootstrap';\nimport { useStore } from './stores/Store';\nimport { storeToRefs } from 'pinia'\nimport SocketioService from './services/socketio.service';\nexport default {\n  name: 'App',\n  components: {\n    Menu,\n    Sidebar,\n    Content\n  },\n  mounted() {\n\n  },\n  data() {\n    let store = useStore();\n    let { notifyText } = storeToRefs(store);\n    return {\n      notifyText,\n      textNotify: '',\n      flag: 0,\n      // statusMenu: \"SignIn\",\n      // statusSidebar: \"chat\",\n      // statusContent: \"chat\",\n    };\n  },\n  watch: {\n    notifyText() {\n      this.textNotify = this.notifyText.toString() + this.flag.toString();\n      this.flag = 1 - this.flag;\n      // alert(\"ok\")\n      this.showNotify();\n    }\n  },\n  methods: {\n    showNotify() {\n      const toastLiveExample = document.getElementById('liveToast')\n      const toast = new bootstrap.Toast(toastLiveExample);\n\n      toast.show();\n    },\n  },\n  beforeUnmount() {\n    SocketioService.disconnect();\n    SocketioService.disconnectStranger();\n  }\n\n}\n</script>\n\n<style scoped>\n  #liveToast {\n    background-color: #0091ff;\n    width: max-content;\n}\n\n.notify-success {\n    color: #fff;\n    font-size: 20px;\n    padding: 10px;\n    word-spacing: normal;\n}\n</style>","<template>\r\n    <ul class=\"menu\">\r\n        <li class=\"menu_item\">\r\n            <div class=\"menu_avatar\" :title=this.user.fullName href=\"#\">\r\n                <img :src=this.user.avatar alt=\"avatar\"  v-if=\"statusMenu !== 'notSignIn'\" />\r\n                <img src=\"../assets/redi.svg\" alt=\"avatar\" v-else />\r\n            </div>\r\n        </li>\r\n        <li @click=\"clickChatMenu()\" :class=\"[(statusMenu === 'chat'||statusMenu==='notSignIn') ? 'active' : '']\" class=\"menu_item\">\r\n            <div class=\"icon-message\" href=\"#\"><i class=\"bx bxs-message-rounded-dots\"></i></div>\r\n        </li>\r\n        <li @click=\"clickContactMenu()\" class=\"menu_item\" :class=\"[(statusMenu === 'contacts') ? 'active' : '']\"\r\n            v-if=\"statusMenu !== 'notSignIn'\">\r\n            <a class=\"icon-message\"><i class=\"bx bxs-contact\"></i></a>\r\n        </li>\r\n        <li class=\"menu_item menu_item-logout\" v-if=\"statusMenu !== 'notSignIn'\" @click=\"signOut()\">\r\n            <div class=\"icon-message\"><i class=\"bx bxs-log-out\"></i></div>\r\n        </li>\r\n    </ul>\r\n</template>\r\n  \r\n<script>\r\nimport SocketioService from '../services/socketio.service.js';\r\nimport { useStore } from '../stores/Store';\r\nimport { storeToRefs } from 'pinia'\r\nimport AuthService from '../services/auth.service';\r\nexport default {\r\n    name: 'Menu',\r\n    props: {\r\n        // statusMenu: {type: String, require: true, default: \"notSignIn\"},\r\n    },\r\n    components: {\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n    data() {\r\n        let store = useStore();\r\n        const { statusMenu } = storeToRefs(store);\r\n        const { user } = storeToRefs(store);\r\n        return {\r\n            statusMenu,\r\n            user\r\n        };\r\n    },\r\n    watch: {\r\n\r\n    },\r\n    methods: {\r\n        clickContactMenu() {\r\n            useStore().clickContactMenu();\r\n        },\r\n        clickChatMenu() {\r\n            if(this.statusMenu !== 'notSignIn'){\r\n                useStore().clickChatMenu();\r\n            } else {\r\n                alert(\"Bạn phải đăng nhập để thực hiện chức năng này !\");\r\n            }\r\n        },\r\n        async signOut(){\r\n            try {\r\n                if(confirm(\"Bạn muốn đăng xuất khỏi tài khoản này ?\")){\r\n                    await AuthService.signOut({\r\n                        phone: this.user.phone\r\n                    })\r\n                    SocketioService.disconnect()\r\n                    localStorage.removeItem('token');\r\n                    useStore().signOut();\r\n                    location.reload();\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n    },\r\n    beforeUnmount() {\r\n\r\n    }\r\n\r\n}\r\n</script>","import axios from \"axios\";\r\nconst commonConfig = {\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n    },\r\n};\r\nexport default (baseURL) => {\r\n    return axios.create({\r\n        baseURL,\r\n        ...commonConfig,\r\n    });\r\n};","import createApiClient from \"./api.service\";\r\nclass AuthService {\r\n    constructor(baseUrl = process.env.VUE_APP_SOCKET_ENDPOINT_AUTH) { //https://redichat-server-test.onrender.com\r\n        this.api = createApiClient(baseUrl);\r\n    }\r\n    async signIn(data) {\r\n        return (await this.api.post(\"/signin\", data)).data;\r\n    }\r\n    async signUp(data) {\r\n        return (await this.api.post(\"/signup\", data)).data;\r\n    }\r\n    async signOut(data){\r\n        return (await this.api.put(\"/signout\", data)).data;\r\n    }\r\n    async verifyToken(data) {\r\n        return (await this.api.post(\"/getinfo\", data)).data;\r\n    }\r\n}\r\nexport default new AuthService();","import { defineStore } from \"pinia\";\r\nimport AuthService from \"../services/auth.service\"\r\nimport SocketioService from \"../services/socketio.service\";\r\n\r\nexport const useStore = defineStore(\"store\", {\r\n    state: () => {\r\n        return {\r\n            statusMenu: \"notSignIn\",\r\n            statusSidebar: \"notSignIn\",\r\n            statusContent: \"notSignIn\",//\"chat\"\r\n            chatRoomStranger: '',\r\n            user: {\r\n                '_id': '',\r\n                'phone': '',\r\n                'fullName': '',\r\n                'avatar': '',\r\n                'requestContact': [],\r\n                'contacts': [],\r\n                'chatRooms': [],\r\n                'token': ''\r\n            },\r\n            currentChatRoom: {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n                online: false\r\n            },\r\n            foundUserByPhone: {\r\n                fullName: \"\",\r\n                _id: \"\",\r\n                avatar: \"\",\r\n                phone: \"\"\r\n            },\r\n            notifyText: \"\"\r\n        }\r\n    },\r\n    getters: {\r\n        // showNotify(text){\r\n        //     this.notify = !this.notify;\r\n        //     let x = (this.notify)?1:0;\r\n        //     return {x, text};\r\n        // }\r\n    },\r\n    actions: {\r\n        setFoundUserByPhone(foundUserByPhone){\r\n            this.foundUserByPhone = foundUserByPhone;\r\n        },\r\n        showNotify(text) {\r\n            this.notifyText = text;\r\n        },\r\n        clickContactMenu() {\r\n            this.statusMenu = 'contacts'\r\n            this.statusSidebar = 'contacts';\r\n            this.statusContent = 'contacts';\r\n            this.currentChatRoom = {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n            }\r\n        },\r\n        clickChatMenu() {\r\n            this.statusMenu = 'chat'\r\n            this.statusSidebar = 'chat';\r\n            this.statusContent = 'noChatSelected';\r\n        },\r\n        clickContactsSidebar() {\r\n            this.statusMenu = 'contacts'\r\n            this.statusSidebar = 'contacts';\r\n            this.statusContent = 'contacts';\r\n        },\r\n        clickRequestContactSidebar() {\r\n            this.statusMenu = 'contacts'\r\n            this.statusSidebar = 'requestContact';\r\n            this.statusContent = 'requestContact';\r\n        },\r\n        signOut() {\r\n\r\n            // await \r\n\r\n            this.statusMenu = 'notSignIn'\r\n            this.statusSidebar = 'notSignIn';\r\n            this.statusContent = 'notSignIn';\r\n            \r\n            this.user = {\r\n                '_id': '',\r\n                'phone': '',\r\n                'fullName': '',\r\n                'avatar': '',\r\n                'requestContact': [],\r\n                'contacts': [],\r\n                'chatRooms': [],\r\n                'token': ''\r\n            };\r\n            this.currentChatRoom = {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n            }\r\n        },\r\n        chatWithStranger() {\r\n            this.statusContent = 'chatWithStranger';\r\n        },\r\n        switchChatContent() {\r\n            this.statusContent = 'chat';\r\n        },\r\n        setChatRoomStranger(roomName) {\r\n            this.chatRoomStranger = roomName;\r\n        },\r\n        setInfoUser(data) {\r\n            this.user = data\r\n            this.user.token = this.user.token.toString();\r\n            localStorage.setItem('token', data.token);\r\n        },\r\n        changeOnlineStatus(roomID, online) {\r\n            const length = this.user.chatRooms.length;\r\n            for (let i = 0; i < length; i++) {\r\n                if (this.user.chatRooms[i]._id === roomID) {\r\n                    this.user.chatRooms[i].online = online;\r\n                    break;\r\n                }\r\n\r\n            }\r\n        },\r\n        async reloadData(){\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                if (token) {\r\n                    SocketioService.disconnect();\r\n                    const userUpdated = await AuthService.verifyToken({ token: token });\r\n                    if (userUpdated) {\r\n                        this.user = userUpdated.message;\r\n                    }\r\n                    SocketioService.setupSocketFriendConnection(this.user.token, this.user.phone);\r\n                    SocketioService.receiveMessageFriend((err, data) => {\r\n                        console.log(data);\r\n                        if (data.roomID === this.currentChatRoom._id) {\r\n                            this.currentChatRoom.messages.push(data);\r\n                            setTimeout(() => {\r\n                                const e = document.querySelector(\".content_body\")\r\n                                e.scrollTop = e.scrollHeight * 2;\r\n                            }, 100);\r\n                        }\r\n                        this.user.chatRooms.forEach((chatRoom, index) => {\r\n                            if (data.roomID === chatRoom._id) {\r\n                                this.user.chatRooms[index].lastMessageDate = data.createAt;\r\n                                return\r\n                            }\r\n                        })\r\n                    });\r\n\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        },\r\n        setMessagesChatRoom(messages){\r\n            this.currentChatRoom.messages = messages;\r\n        }\r\n    }\r\n})","import { io } from 'socket.io-client';\nimport { useStore } from '../stores/Store';\n// import { storeToRefs } from 'pinia'\n\nclass SocketioService {\n  socketStranger;\n  socketFriend;\n  chatRoom ='';\n  user\n  constructor() {\n    // const { user } = storeToRefs(store);\n    // this.user = user;\n  }\n\n  setupSocketStrangerConnection() {\n    this.socketStranger = io(process.env.VUE_APP_SOCKET_ENDPOINT_CHAT_WITH_STRANGER, {\n      // auth: {\n      //   token,\n      // },\n    });\n    console.log(`Connecting socket...`);\n\n    // this.socket.on('infoUser', (data) => {\n    //   console.log(data);\n    //   // lưu data vào Pinia\n    // });\n  }\n\n  setupSocketFriendConnection(token, phone) {\n    this.socketFriend = io(process.env.VUE_APP_SOCKET_ENDPOINT_CHAT_WITH_FRIEND, {\n      auth: {\n        token,\n      },\n    });\n    // useStore().showNotify(`Connecting socket...`);\n    console.log(`Connecting socket...`);\n    console.log(`socketFriend`, this.socketFriend);\n    this.socketFriend.on('onlineStatus', data => {\n      useStore().changeOnlineStatus(data.roomID, data.online);\n    })\n\n    this.socketFriend.emit('sendUser', phone)\n\n    this.socketFriend.on('message',data => {\n      useStore().reloadData();\n\n      useStore().showNotify(data);\n\n      console.log(\"message\",data);\n\n    })\n    this.socketFriend.on('receiveContentChatRoom', (messages) => {\n      console.log(messages);\n      // lưu data vào Pinia\n      useStore().setMessagesChatRoom(messages);\n    });\n  }\n\n  loadContentChatRoom(roomID){\n    this.socketFriend.emit(\"loadContentChatRoom\", roomID)\n  }\n\n  findUserByPhone(phone){\n    this.socketFriend.emit('findUser',phone);\n    this.socketFriend.on('foundUser', data => {\n      console.log('foundUser',data)\n      useStore().setFoundUserByPhone(data);\n    })\n  }\n\n  actionFriendRequest(data){\n    this.socketFriend.emit('actionFriendRequest', data);\n\n  }\n\n  sendFriendRequest(data){\n    \n    this.socketFriend.emit('sendFriendRequest',data);\n  }\n\n  receiveMessageFriend(cb){\n    if(!this.socketFriend) return true;\n    console.log(\"receiveMessageFriend\")\n    this.socketFriend.on(\"receiveMessageFriend\", data => {\n      return cb(null, data);\n    })\n  }\n\n  sendMessageFriend(message, cb) {\n    if(this.socketFriend) this.socketFriend.emit('sendMessageFriend',message,cb);\n  }\n\n  // subscribeToMessages(cb) {\n  //   if (!this.socket) return(true);\n  //   this.socket.on('message', msg => {\n  //     console.log('Room event received!');\n  //     return cb(null, msg);\n  //   });\n  // }\n  receiveMessageStranger(cb){\n    if(!this.socketStranger) return true;\n    this.socketStranger.on(\"receiveMessageStranger\", data => {\n      return cb(null, {\n        ...data,\n        name: \"Người lạ\",\n      });\n    })\n  }\n\n  statusRoomStranger(cb){\n    if(!this.socketStranger) return true;\n    this.socketStranger.on(\"statusRoomStranger\", message => {\n      return cb(null, {...message, name: \"Bot\"});\n    })\n  }\n\n  nextRoomStranger(chatRoom){\n    //console.log(\"nextRoom\",localStorage.getItem(\"chatRoom\"))\n    // if(localStorage.getItem(\"chatRoom\")){\n      this.socketStranger.emit(\"nextRoomStranger\",chatRoom);\n    console.log(\"id\",this.socketStranger.id);\n\n    // }\n  }\n  \n  // sendMessage({message, roomName}, cb) {\n  //   if (this.socket) this.socket.emit('message', { message, roomName }, cb);\n  // }\n\n  sendMessageStranger(message, cb) {\n    if(this.socketStranger) this.socketStranger.emit('sendMessageStranger',message,cb);\n  }\n  \n  disconnectStranger() {\n    if(this.socketStranger) {\n      this.socketStranger.disconnect();\n    }\n  }\n\n  disconnect() {\n    if(this.socketFriend) {\n      this.socketFriend.disconnect();\n    }\n  }\n}\n\nexport default new SocketioService();\n\n\n\n// import { io } from 'socket.io-client';\n\n// class SocketioService {\n//   socket;\n//   constructor() {}\n\n//   setupSocketConnection() {\n//     this.socket = io(process.env.VUE_APP_SOCKET_ENDPOINT);\n//     this.socket.emit('my message', 'Hello there from Vue.');\n    \n//     this.socket.on('my broadcast', (data) => {\n//       console.log(data, this.socket);\n//     });\n//   }\n  \n//   disconnect() {\n//     if(this.socket) {\n//       this.socket.disconnect();\n//     }\n//   }\n// }\n\n// export default new SocketioService();","import { render } from \"./Menu.vue?vue&type=template&id=59668165\"\nimport script from \"./Menu.vue?vue&type=script&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n    <div class=\"overlay\"></div>\r\n    <div class=\"modal_form-sign\">\r\n        <div class=\"modal_form-sign-heading\">\r\n            <h1>Đăng Ký</h1>\r\n        </div>\r\n        <div class=\"icon-close\">\r\n            <i class=\"bx bx-x\"></i>\r\n        </div>\r\n        <!--<form action=\"./index.html\" class=\"form-sign\" @submit.prevent=\"signUp()\">\r\n             <div class=\"input__field\">\r\n                <input id=\"numberphone\" type=\"text\" placeholder=\"Số điện thoại\" />\r\n            </div>\r\n            <div class=\"input__field\">\r\n                <input id=\"username\" type=\"text\" placeholder=\"Họ và tên\" />\r\n            </div>\r\n            <div class=\"input__field\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Mật khẩu\" />\r\n            </div>\r\n            <div class=\"input__field\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Xác nhận lại mật khẩu\" />\r\n            </div> -->\r\n\r\n        <Form @submit=\"signUp()\" :validation-schema=\"dataSignUpFormSchema\" class=\"form-sign\" ref=\"formSignUp\">\r\n            <div class=\"form-group\">\r\n                <label for=\"fullName\">Họ và tên</label>\r\n                <Field name=\"fullName\" type=\"text\" class=\"form-control\" v-model=\"dataSignUp.fullName\" />\r\n                <ErrorMessage name=\"fullName\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"phone\">Điện thoại</label>\r\n                <Field name=\"phone\" type=\"tel\" class=\"form-control\" v-model=\"dataSignUp.phone\" />\r\n                <ErrorMessage name=\"phone\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"password\">Mật Khẩu</label>\r\n                <Field name=\"password\" type=\"password\" class=\"form-control\" v-model=\"dataSignUp.password\" />\r\n                <ErrorMessage name=\"password\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"confirmPassword\">Xác nhận lại mật khẩu</label>\r\n                <Field name=\"confirmPassword\" type=\"password\" class=\"form-control\" v-model=\"dataSignUp.confirmPassword\" />\r\n                <ErrorMessage name=\"confirmPassword\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label>Ảnh đại diện: </label>\r\n                <button type=\"button\" @click=\"openUploadModal()\">\r\n                    {{ (this.dataSignUp.avatar === '') ? \"Upload ảnh làm ảnh đại diện.\" : this.nameFileAvatar }}\r\n                </button>\r\n            </div>\r\n            <!-- <div class=\"auth-form-submit bg-white form-group\">\r\n                            <button type=\"submit\" class=\"auth-form-btn-submit cach\">ĐĂNG KÝ</button>\r\n                        </div> -->\r\n            <button class=\"btn btn-signup\">Đăng ký</button>\r\n            <div class=\"login-signup\">\r\n                <span class=\"text\">Đã có tài khoản</span>\r\n                <a href=\"#\" class=\"text login-link\">Đăng nhập</a>\r\n            </div>\r\n        </Form>\r\n\r\n        <!-- </form>  -->\r\n    </div>\r\n    <!-- modal form sign in -->\r\n    <div class=\"modal_form-login\">\r\n        <div class=\"modal_form-sign-heading\">\r\n            <h1>Đăng Nhập</h1>\r\n        </div>\r\n        <div class=\"icon-close\">\r\n            <i class=\"bx bx-x\"></i>\r\n        </div>\r\n        <!-- <form action=\"index.html\" class=\"form-sign\">\r\n            <div class=\"input__field\">\r\n                <input id=\"numberphone\" type=\"text\" placeholder=\"Số điện thoại\" />\r\n            </div>\r\n            <div class=\"input__field\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Mật khẩu\" />\r\n            </div>\r\n            <button class=\"btn btn-signup\">Đăng Nhập</button>\r\n        </form> -->\r\n        <Form @submit=\"signIn()\" :validation-schema=\"dataSignInFormSchema\" class=\"form-sign\" ref=\"formSignIn\">\r\n            <div class=\"form-group\">\r\n                <label for=\"phone\">Điện thoại</label>\r\n                <Field name=\"phone\" type=\"tel\" class=\"form-control\" v-model=\"dataSignIn.phone\" />\r\n                <ErrorMessage name=\"phone\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"password\">Mật Khẩu</label>\r\n                <Field name=\"password\" type=\"password\" class=\"form-control\" v-model=\"dataSignIn.password\" />\r\n                <ErrorMessage name=\"password\" class=\"error-feedback\" />\r\n            </div>\r\n            <!-- <div class=\"auth-form-submit bg-white form-group\">\r\n                            <button type=\"submit\" class=\"auth-form-btn-submit cach\">ĐĂNG KÝ</button>\r\n                        </div> -->\r\n            <button class=\"btn btn-signup\">Đăng nhập</button>\r\n            <div class=\"login-signup\">\r\n              <span class=\"text\">Bạn chưa có tài khoản? Hãy chọn</span>\r\n              <a href=\"#\" class=\"text signup-link\">Đăng ký</a>\r\n            </div>\r\n        </Form>\r\n    </div>\r\n    <div class=\"sidebar\">\r\n        <div class=\"sidebar_list\">\r\n            <div class=\"sidebar_item-search\" v-if=\"statusSidebar !== 'notSignIn'\">\r\n                <form @submit.prevent=\"this.findUserByPhone()\">\r\n                    <input type=\"text\" placeholder=\"Tìm kiếm\" v-model=\"this.searchByPhone\" />\r\n                </form>\r\n                <i class=\"bx bx-search\"></i>\r\n            </div>\r\n\r\n            <template v-if=\"statusSidebar === 'notSignIn' || statusSidebar === 'chat'\">\r\n                <template v-for=\"(chatRoom, index) in this.chatRooms\" :key=\"index\">\r\n                    <div class=\"sidebar_item\" :title=chatRoom.fullNameFriend @click=\"openChatContent(chatRoom)\"\r\n                        :class=\"[(chatRoom._id === this.currentChatRoom._id) ? 'active' : '']\">\r\n                        <img :src=chatRoom.avatar alt=\"\" />\r\n                        <i class=\"fa-solid fa-circle\" v-if=\"chatRoom.online\"></i>\r\n                        <div class=\"sidebar_content\">\r\n                            <h3 class=\"sidebar_name\">{{ chatRoom.fullNameFriend }}</h3>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n\r\n            </template>\r\n\r\n            <!-- SignUp - SignIn Button -->\r\n            <div class=\"content_body-signup\" v-show=\"statusSidebar === 'notSignIn'\">\r\n                <button href=\"#\" class=\"btn btn-sign\" id=\"open-form-dangnhap1\">Đăng Ký</button>\r\n                <button href=\"#\" class=\"btn btn-log\">Đăng Nhập</button>\r\n                <div class=\"note\">\r\n                    *Bằng cách bấm vào phần \"Người lạ\", bạn có thể trò chuyện ngay với người lạ mà không cần Đăng nhập.\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Contacts -->\r\n            <template v-if=\"statusSidebar.includes('ontact') && !this.checkSearchByPhone\">\r\n                <div @click=\"clickContactsSidebar()\">\r\n                    <div class=\"sidebar_item\" :class=\"[(statusSidebar === 'contacts') ? 'active' : '']\">\r\n                        <i class=\"bx bxs-group\"></i>\r\n                        <div class=\"sidebar_content\">\r\n                            <h3 class=\"sidebar_name\">Danh sách bạn bè</h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div @click=\"clickRequestContactSidebar() && !this.checkSearchByPhone\">\r\n                    <div class=\"sidebar_item\" :class=\"[(statusSidebar === 'requestContact') ? 'active' : '']\">\r\n                        <i class=\"bx bxs-user-plus\"></i>\r\n                        <div class=\"sidebar_content\">\r\n                            <h3 class=\"sidebar_name\">Danh sách kết bạn</h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n\r\n\r\n            <div class=\"sidebar_item\" :title=this.foundUserByPhone.fullName\r\n                v-if=\"this.foundUserByPhone.fullName && this.chatRooms.length < 1\">\r\n                <img :src=this.foundUserByPhone.avatar alt=\"\" />\r\n                <div class=\"sidebar_content\">\r\n                    <h3 class=\"sidebar_name\">{{ this.foundUserByPhone.fullName }}</h3>\r\n                </div>\r\n                <button id=\"btn-requestContact\" @click=\"sendFriendRequest()\">\r\n                    Kết bạn\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\n// import SocketioService from '../services/socketio.service.js';\r\nimport * as yup from \"yup\";\r\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\r\nimport AuthService from \"../services/auth.service\"\r\nimport SocketioService from \"../services/socketio.service\";\r\nimport { useStore } from '../stores/Store';\r\nimport { storeToRefs } from 'pinia'\r\nexport default {\r\n    name: 'Sidebar',\r\n    props: {\r\n        // statusSidebar: { type: String, require: true, default: \"notSignIn\" },\r\n    },\r\n    components: {\r\n        Form,\r\n        Field,\r\n        ErrorMessage,\r\n    },\r\n    mounted() {\r\n        //this.setup_dangNhap_DangKy()\r\n        this.processFormSignInSignUp()\r\n        this.verifyToken()\r\n    },\r\n    data() {\r\n        let store = useStore();\r\n        const { statusSidebar } = storeToRefs(store);\r\n        const { statusContent } = storeToRefs(store);\r\n        const { user } = storeToRefs(store);\r\n        const { currentChatRoom } = storeToRefs(store);\r\n        const { foundUserByPhone } = storeToRefs(store);\r\n        const dataSignUpFormSchema = yup.object().shape({\r\n            fullName: yup\r\n                .string()\r\n                .required(\"Họ và tên phải có giá trị.\")\r\n                .min(8, \"Họ và tên phải ít nhất 8 ký tự.\")\r\n                .matches('[a-zA-Z]', \"Họ và tên phải ít một ký tự chữ cái.\")\r\n                .max(50, \"Họ và tên có nhiều nhất 50 ký tự.\"),\r\n            password: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            phone: yup\r\n                .string()\r\n                .matches(\r\n                    /((09|03|07|08|05)+([0-9]{8})\\b)/g,\r\n                    \"Số điện thoại không hợp lệ.\"\r\n                ),\r\n            confirmPassword: yup.string().oneOf([yup.ref('password'), null], 'Mật khẩu phải trùng khớp.')\r\n        });\r\n\r\n        const dataSignInFormSchema = yup.object().shape({\r\n            password: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            phone: yup\r\n                .string()\r\n                .matches(\r\n                    /((09|03|07|08|05)+([0-9]{8})\\b)/g,\r\n                    \"Số điện thoại không hợp lệ.\"\r\n                ),\r\n        });\r\n        return {\r\n            statusSidebar,\r\n            statusContent,\r\n            dataSignUp: {\r\n                phone: \"\",\r\n                password: \"\",\r\n                fullName: \"\",\r\n                confirmPassword: \"\",\r\n                avatar: \"\"\r\n            },\r\n            dataSignIn: {\r\n                phone: \"\",\r\n                password: \"\",\r\n            },\r\n            dataSignUpFormSchema,\r\n            dataSignInFormSchema,\r\n            nameFileAvatar: '',\r\n            user,\r\n            searchByPhone: '',\r\n            currentChatRoom,\r\n            foundUserByPhone,\r\n            checkSearchByPhone: false\r\n        };\r\n    },\r\n    watch: {\r\n        searchByPhone() {\r\n            let check = this.searchByPhone.match(/((09|03|07|08|05)+([0-9]{8})\\b)/);\r\n            if (!check) {\r\n                this.foundUserByPhone = {\r\n                    fullName: \"\",\r\n                    _id: \"\",\r\n                    avatar: \"\",\r\n                    phone: \"\"\r\n                }\r\n                this.checkSearchByPhone = false\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        chatRoomsString() {\r\n            let x = this.user.chatRooms.map(chatRoom => {\r\n                if (chatRoom._id === \"000\") return \"\";\r\n                console.log(chatRoom.owner)\r\n                const id = (chatRoom.owner[0] === this.user._id) ? chatRoom.owner[1] : chatRoom.owner[0];\r\n                let phone;\r\n                // console.log(chatRoom.owner[0]._id, this.user._id)\r\n                this.user.contacts.forEach(contact => {\r\n                    if (id === contact._id) {\r\n                        phone = contact.phone;\r\n                    }\r\n                })\r\n                return [phone, chatRoom.fullNameFriend].join(\"\");\r\n            })\r\n            console.log(x);\r\n            return x;\r\n        },\r\n        chatRooms() {\r\n            if (this.searchByPhone === \"\") {\r\n                let stranger = {\r\n                    _id: \"000\",\r\n                    owner: [],\r\n                    lastMessageDate: \"0:0 0-0-0\",\r\n                    fullNameFriend: \"Người lạ\",\r\n                    avatar: \"http://res.cloudinary.com/dwnunieno/image/upload/v1679058005/sdrdzt5t2bhs5lvgsflj.png\",\r\n                    online: false\r\n                };\r\n                let filteredChatRooms = this.user.chatRooms;\r\n                filteredChatRooms.sort(this.compareFn);\r\n                return [stranger].concat(filteredChatRooms);\r\n            } else {\r\n                // this.statusContent = 'noChatSelected'\r\n                let filteredChatRooms = this.user.chatRooms.filter((chatRoom, index) => {\r\n                    return this.chatRoomsString[index].includes(this.searchByPhone);\r\n                }).sort(this.compareFn);\r\n                return filteredChatRooms;\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        compareFn(a, b) {\r\n            let datetimeA = a.lastMessageDate.split(\" \");\r\n            let datetimeB = b.lastMessageDate.split(\" \");\r\n\r\n            let hourA, minuteA, dateA, monthA, yearA, hourB, minuteB, dateB, monthB, yearB;\r\n            hourA = parseInt(datetimeA[0].split(\":\")[0]); minuteA = parseInt(datetimeA[0].split(\":\")[1]);\r\n            dateA = parseInt(datetimeA[1].split(\"-\")[0]); monthA = parseInt(datetimeA[1].split(\"-\")[1]); yearA = parseInt(datetimeA[1].split(\"-\")[2]);\r\n\r\n            hourB = parseInt(datetimeB[0].split(\":\")[0]); minuteB = parseInt(datetimeB[0].split(\":\")[1]);\r\n            dateB = parseInt(datetimeB[1].split(\"-\")[0]); monthB = parseInt(datetimeB[1].split(\"-\")[1]); yearB = parseInt(datetimeB[1].split(\"-\")[2]);\r\n\r\n            if (yearA !== yearB) return yearB - yearA;\r\n            if (monthA !== monthB) return monthB - monthA;\r\n            if (dateA !== dateB) return dateB - dateA;\r\n            if (hourA !== hourB) return hourB - hourA;\r\n            if (minuteA !== minuteB) return minuteB - minuteA;\r\n            return 0;\r\n        },\r\n\r\n        processFormSignInSignUp() {\r\n            const btnSign = document.querySelector(\".btn-sign\");\r\n            const mdalSign = document.querySelector(\".modal_form-sign\");\r\n            const btnClose = document.querySelectorAll(\".icon-close\");\r\n            const btnLog = document.querySelector(\".btn-log\");\r\n            const mdalLog = document.querySelector(\".modal_form-login\");\r\n            const overlay = document.querySelector(\".overlay\");\r\n            const signUp = document.querySelector(\".signup-link\");\r\n            const login = document.querySelector(\".login-link\");\r\n            // khi click vào button đăng ký nào thì modal nào mở ra và mở luôn lớp phủ mờ\r\n            btnSign.addEventListener(\"click\", function () {\r\n                // click open modal\r\n                mdalSign.classList.add(\"open\");\r\n                overlay.classList.add(\"open\");\r\n            });\r\n            // khi click vào button đăng nhập nào thì modal nào mở ra và mở luôn lớp phủ mờ\r\n            btnLog.addEventListener(\"click\", function () {\r\n                // click close modal\r\n                mdalLog.classList.add(\"open\");\r\n                overlay.classList.add(\"open\");\r\n            });\r\n            // khi click vào icon close thì đóng modal lại và tắt lớp phủ mờ\r\n            btnClose.forEach((btn) => {\r\n                btn.addEventListener(\"click\", function () {\r\n                    // click close modal\r\n                    mdalSign.classList.remove(\"open\");\r\n                    mdalLog.classList.remove(\"open\");\r\n                    overlay.classList.remove(\"open\");\r\n                });\r\n            });\r\n            //chuyển đổi đăng nhập và đăng ký\r\n            signUp.addEventListener(\"click\", function () {\r\n                mdalSign.classList.add(\"open\");\r\n                mdalLog.classList.remove(\"open\");\r\n            });\r\n            login.addEventListener(\"click\", function () {\r\n                mdalLog.classList.add(\"open\");\r\n                mdalSign.classList.remove(\"open\");\r\n            });\r\n        },\r\n        autoSrcollTop() {\r\n            setTimeout(() => {\r\n                const e = document.querySelector(\".content_body\")\r\n                e.scrollTop = e.scrollHeight * 2;\r\n            }, 500);\r\n        },\r\n        async verifyToken() {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                if (token) {\r\n                    const user = await AuthService.verifyToken({ token: token });\r\n                    if (user) {\r\n                        useStore().setInfoUser(user.message);\r\n                        SocketioService.setupSocketFriendConnection(user.message.token, user.message.phone);\r\n                        SocketioService.receiveMessageFriend((err, data) => {\r\n                            console.log(data);\r\n                            if (data.roomID === this.currentChatRoom._id) {\r\n                                this.currentChatRoom.messages.push(data);\r\n                                this.autoSrcollTop()\r\n                            }\r\n                            this.user.chatRooms.forEach((chatRoom, index) => {\r\n                                if (data.roomID === chatRoom._id) {\r\n                                    this.user.chatRooms[index].lastMessageDate = data.createAt;\r\n                                    return\r\n                                }\r\n                            })\r\n                        });\r\n                        useStore().clickChatMenu();\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        clickContactsSidebar() {\r\n            useStore().clickContactsSidebar();\r\n        },\r\n        clickRequestContactSidebar() {\r\n            useStore().clickRequestContactSidebar();\r\n        },\r\n        openChatContent(chatRoom) {\r\n            this.currentChatRoom = { ...chatRoom, messages: [] };\r\n            if (chatRoom._id === \"000\")\r\n                useStore().chatWithStranger();\r\n            else {\r\n                SocketioService.loadContentChatRoom(chatRoom._id.toString());\r\n                this.autoSrcollTop()\r\n                useStore().switchChatContent();\r\n            }\r\n        },\r\n        openUploadModal() {\r\n            const widget = window.cloudinary.createUploadWidget(\r\n                {\r\n                    cloud_name: 'dwnunieno',\r\n                    upload_preset: 'ma9pfovj',\r\n                    maxImageFileSize: 10000000,\r\n                    autoMinimize: true,\r\n                    sources: [\"local\"],\r\n                    clientAllowedFormats: [\"image\"],\r\n                    maxFiles: 1\r\n                },\r\n                async (error, result) => {\r\n                    if (!error && result && result.event === \"success\") {\r\n                        console.log('Done uploading..: ', result.info);\r\n                        this.dataSignUp.avatar = result.info.url;\r\n                        console.log(result.info)\r\n                        console.log(this.dataSignUp.avatar);\r\n                        this.nameFileAvatar = result.info.original_filename + \".\" + result.info.format;\r\n                        await widget.destroy({ removeThumbnails: true })\r\n                            .then(() => {\r\n                                console.log(\"Widget was destroyed\");\r\n                            });\r\n                    }\r\n                }).open();\r\n\r\n            // widget.destroy({ removeThumbnails: true })\r\n            //     .then(() => {\r\n            //         console.log(\"Widget was destroyed\");\r\n            //     });\r\n\r\n        },\r\n        async signUp() {\r\n            try {\r\n                if (this.dataSignUp.avatar === '') {\r\n                    this.dataSignUp.avatar = \"https://res.cloudinary.com/dwnunieno/image/upload/v1678895187/ojzoerhuvkv8ealatzqz.png\"\r\n                }\r\n                const meg = await AuthService.signUp(this.dataSignUp);\r\n                document.querySelector(\".modal_form-sign\").classList.remove('open');\r\n                document.querySelector(\".modal_form-login\").classList.add('open');\r\n                //document.getElementById(\"Modaldangky\").style.display = \"none\";\r\n                //document.getElementById(\"Modaldangnhap\").style.display = \"block\";\r\n                this.dataSignUp = {\r\n                    phone: \"\",\r\n                    password: \"\",\r\n                    fullName: \"\",\r\n                    address: \"\",\r\n                    avatar: \"\"\r\n                };\r\n                setTimeout(this.$refs.formSignUp.resetForm, 1500);\r\n                if (meg) alert(meg.message);\r\n            } catch (error) {\r\n                alert(error.response.data.message.toString())\r\n                // console.log(error)\r\n            }\r\n        },\r\n        async signIn() {\r\n            try {\r\n                const meg = await AuthService.signIn(this.dataSignIn);\r\n                useStore().setInfoUser(meg.message)\r\n                SocketioService.setupSocketFriendConnection(meg.message.token, meg.message.phone);\r\n                document.querySelector(\".modal_form-login\").classList.remove('open');\r\n                document.querySelector(\".overlay\").classList.remove('open');\r\n                useStore().clickChatMenu();\r\n                // document.querySelector(\".modal_form-login\").classList.add('open');\r\n                // //document.getElementById(\"Modaldangky\").style.display = \"none\";\r\n                // //document.getElementById(\"Modaldangnhap\").style.display = \"block\";\r\n                this.dataSignIn = {\r\n                    phone: \"\",\r\n                    password: \"\",\r\n                };\r\n                SocketioService.receiveMessageFriend((err, data) => {\r\n                    console.log(data);\r\n                    if (data.roomID === this.currentChatRoom._id) {\r\n                        this.currentChatRoom.messages.push(data);\r\n                        this.autoSrcollTop()\r\n                    }\r\n                    this.user.chatRooms.forEach((chatRoom, index) => {\r\n                        if (data.roomID === chatRoom._id) {\r\n                            this.user.chatRooms[index].lastMessageDate = data.createAt;\r\n                            return\r\n                        }\r\n                    })\r\n                });\r\n                // await this.$nextTick()\r\n                // await this.$nextTick(this.$refs.formSignIn.resetForm)\r\n                setTimeout(this.$refs.formSignIn.resetForm, 1000);\r\n                if (meg) console.log(meg.message);\r\n            } catch (error) {\r\n                alert(error.response.data.message.toString())\r\n                //console.log(error)\r\n            }\r\n        },\r\n        findUserByPhone() {\r\n            if (this.chatRooms.length > 0) return\r\n            if (this.searchByPhone === this.user.phone) {\r\n                alert(this.user.phone + \" là số điện thoại của bạn mà !\");\r\n                this.searchByPhone = ''\r\n                return;\r\n            }\r\n\r\n            // useStore().clickChatMenu();\r\n\r\n            let check = this.searchByPhone.match(/((09|03|07|08|05)+([0-9]{8})\\b)/);\r\n\r\n            if (!check) {\r\n                alert(`Số điện thoại: \"${this.searchByPhone}\" chưa hợp lệ !`);\r\n                return;\r\n            }\r\n\r\n            this.user.requestContact.forEach(contact => {\r\n                if (contact.phone === this.searchByPhone) {\r\n                    alert(`Số điện thoại: \"${this.searchByPhone}\" (${contact.fullName}) đã gửi lời mời kết bạn cho bạn !`)\r\n                    this.searchByPhone = '';\r\n                    check = false;\r\n                    return;\r\n                }\r\n            })\r\n            if (!check) return;\r\n            SocketioService.findUserByPhone(this.searchByPhone);\r\n            this.checkSearchByPhone = true;\r\n            console.log(this.searchByPhone);\r\n            this.currentChatRoom = {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n            }\r\n            this.statusContent = 'noChatSelected'\r\n            // this.searchByPhone = ''\r\n\r\n        },\r\n        sendFriendRequest() {\r\n            SocketioService.sendFriendRequest(this.foundUserByPhone.phone);\r\n            this.searchByPhone = \"\"\r\n            this.foundUserByPhone = {\r\n                fullName: \"\",\r\n                _id: \"\",\r\n                avatar: \"\",\r\n                phone: \"\"\r\n            }\r\n            // setTimeout(useStore().reloadData(),100);\r\n        }\r\n    },\r\n    beforeUnmount() {\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ndiv.note {\r\n    text-align: justify;\r\n    font-size: 14px;\r\n    font-weight: 300;\r\n}\r\n\r\nform,\r\nform * {\r\n    width: 100%;\r\n}\r\n\r\n.form-group {\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.form-control {\r\n    outline: none;\r\n    border: 1px solid black;\r\n    border-radius: 5px;\r\n    padding: 5px 10px;\r\n    font-size: 18px;\r\n}\r\n\r\n.error-feedback {\r\n    font-size: 13px;\r\n    color: red;\r\n}\r\n\r\n#btn-requestContact {\r\n    width: 120px;\r\n    background-color: #0091ff;\r\n    border: none;\r\n    color: white;\r\n    border-radius: 3px;\r\n    padding: 8px 3px;\r\n}\r\n\r\n.login-signup{\r\n    margin-top: 10px;\r\n    text-align: right;\r\n}\r\n\r\n.login-signup a{\r\n    margin-left: 5px;\r\n}\r\n</style>\r\n","import { render } from \"./Sidebar.vue?vue&type=template&id=a8eb7e24&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\nimport \"./Sidebar.vue?vue&type=style&index=0&id=a8eb7e24&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-a8eb7e24\"\n\nexport default script","<template>\r\n    <div class=\"content\" v-if=\"statusContent === 'chat'\">\r\n        <div class=\"content_header\">\r\n            <img class=\"content_header-img\" :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n            <span>\r\n                <i class=\"fa-solid fa-circle\" v-if=\"this.currentChatRoom.online\"></i>\r\n            </span>\r\n            <div class=\"content_header-title\">\r\n                <h1> {{ this.currentChatRoom.fullNameFriend }}</h1>\r\n            </div>\r\n            <!-- <div class=\"content_header-right\">\r\n                <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n            </div> -->\r\n        </div>\r\n        <div class=\"content_body\">\r\n            <div class=\"chat-box\">\r\n                <template v-for=\"(message, index) in this.messages\" :key=\"index\">\r\n                    <div v-if=\"index === (this.currentChatRoom.messages.length - 1) && index > 2\">\r\n                        <div class=\"mess-incoming\" v-if=\"message.owner !== this.user._id\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\" style=\"margin-bottom: 10px;\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ this.currentChatRoom.fullNameFriend }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" style=\"margin-bottom: 10px;\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-outgoing\" v-else>\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\" style=\"margin-bottom: 10px;\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" style=\"margin-bottom: 10px;\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div v-else>\r\n                        <div class=\"mess-incoming\" v-if=\"message.owner !== this.user._id\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ this.currentChatRoom.fullNameFriend }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" style=\"margin-bottom: 10px;\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class=\"mess-outgoing\" v-else>\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" style=\"margin-bottom: 10px;\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n        <div class=\"chat-footer\">\r\n            <div class=\"chat-footer\">\r\n                <button @click=\"openUploadModal()\">\r\n                    <i class=\"fa-solid fa-image\"></i>\r\n                </button>\r\n                <form class=\"\" @submit.prevent=\"sendMessageFriend('text')\">\r\n                    <input type=\"text\" placeholder=\"Nhập vào nội dung bạn muốn nhắn....\" v-model=\"inputMessageText\" />\r\n                    <button type=\"submit\">\r\n                        <i class=\"fa-solid fa-paper-plane\"></i>\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"content\" v-if=\"statusContent === 'chatWithStranger'\">\r\n        <div class=\"content_header\">\r\n            <img class=\"content_header-img\" src=\"../assets/avatar-stranger.png\" alt=\"\" />\r\n            <div class=\"content_header-title\">\r\n                <h1>Người lạ</h1>\r\n            </div>\r\n            <div class=\"content_header-right \">\r\n                <!-- <i class=\"fa fa-search\" aria-hidden=\"true\"></i> -->\r\n                <button id=\"btn-newChat\" style=\"margin-right: 15px;\" @click=\"connectSocketStranger()\">\r\n                    <i class=\"fa-solid fa-comment-medical\"></i> Phòng nhắn tin mới\r\n                </button>\r\n                <button id=\"btn-stopChat\" @click=\"stopChatStranger()\">\r\n                    <i class=\"fa-solid fa-comment-slash\"></i> Kết thúc\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class=\"content_body\">\r\n            <div class=\"chat-box\">\r\n                <template v-for=\"(message, index) in messagesChatWithStranger\" :key=\"index\">\r\n                    <div v-if=\"index === (this.messagesChatWithStranger.length - 1) && index > 2\">\r\n                        <div class=\"mess-incoming\" v-if=\"message.name === 'Người lạ'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-stranger.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\" style=\"margin-bottom: 10px;\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-incoming\" v-else-if=\"message.name === 'Bot'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-bot.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\">\r\n                                <div class=\"mess-text\" style=\"margin-bottom: 10px;\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-outgoing\" v-else>\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\" style=\"margin-bottom: 10px;\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div v-else>\r\n                        <div class=\"mess-incoming\" v-if=\"message.name === 'Người lạ'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-stranger.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-incoming\" v-else-if=\"message.name === 'Bot'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-bot.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-outgoing\" v-else>\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ message.createAt }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n        <div class=\"chat-footer\">\r\n            <button @click=\"openUploadModal()\" id=\"btn-sendImg\">\r\n                <i class=\"fa-solid fa-image\"></i>\r\n            </button>\r\n            <form class=\"\" @submit.prevent=\"sendMessageStranger('text')\">\r\n                <input id=\"input-sendMess\" type=\"text\" placeholder=\"Nhập vào nội dung bạn muốn nhắn....\"\r\n                    v-model=\"inputMessageTextChatWithStranger\" />\r\n                <button id=\"btn-sendMess\" type=\"submit\">\r\n                    <i class=\"fa-solid fa-paper-plane\"></i>\r\n                </button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contact_main\" v-if=\"statusContent === 'requestContact'\">\r\n        <div class=\"content_header\">\r\n            <i class=\"bx bxs-user-plus\"></i>\r\n            <div class=\"content_header-title\">\r\n                <h1>Danh sách kết bạn</h1>\r\n            </div>\r\n        </div>\r\n        <div class=\"contact_list\">\r\n            <template v-for=\"(contact, index) in user.requestContact\" :key=\"index\">\r\n                <div class=\"contact_item\" :title=contact.fullName>\r\n                    <img :src=contact.avatar alt=\"\" />\r\n                    <div class=\"contact_content\">\r\n                        <h3 class=\"contact_name\">{{ contact.fullName }}</h3>\r\n                    </div>\r\n                    <div class=\"contact_action\">\r\n                        <button class=\"btn btn_accept\"\r\n                            @click=\"this.actionFriendRequest({ phone: contact.phone, accept: true })\">Chấp nhận</button>\r\n                        <button class=\"btn btn_deny\"\r\n                            @click=\"this.actionFriendRequest({ phone: contact.phone, accept: false })\">Từ chối</button>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contact_main\" v-if=\"statusContent === 'contacts'\">\r\n        <div class=\"content_header\">\r\n            <i class=\"bx bxs-group\"></i>\r\n            <div class=\"content_header-title\">\r\n                <h1>Danh sách bạn bè</h1>\r\n            </div>\r\n        </div>\r\n        <div class=\"contact_list\">\r\n            <template v-for=\"(contact, index) in user.contacts\" :key=\"index\">\r\n                <div class=\"contact_item\" :title=contact.fullName>\r\n                    <img :src=contact.avatar alt=\"\" />\r\n                    <div class=\"contact_content\">\r\n                        <h3 class=\"contact_name\">{{ contact.fullName }}</h3>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contact_main introduce\" v-if=\"statusContent === 'notSignIn'\">\r\n        <img src=\"../assets/redi-chat.svg\" alt=\"\">\r\n        <h1>REDI</h1>\r\n        <h2>XOÁ NHOÀ KHOẢNG CÁCH</h2>\r\n    </div>\r\n\r\n    <div class=\"contact_main no-chat-selected\" v-if=\"statusContent === 'noChatSelected'\">\r\n        <img src=\"../assets/redi-chat.svg\" alt=\"\">\r\n        <p>Xin chào {{ this.user.fullName.substr(this.user.fullName.toString().lastIndexOf(\" \")) }} </p>\r\n        <p>chào mừng bạn đến với REDI, </p>\r\n        <p>bắt đầu trò chuyện với những người mà bạn yêu thương nào !</p>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport SocketioService from '../services/socketio.service.js';\r\n// import AuthService from \"../services/auth.service\"\r\nimport { useStore } from '../stores/Store';\r\nimport { storeToRefs } from 'pinia'\r\nexport default {\r\n    name: 'Content',\r\n    props: {\r\n        // statusContent: { type: String, require: true, default: \"notSignIn\" },\r\n    },\r\n    components: {\r\n    },\r\n    mounted() {\r\n    },\r\n    data() {\r\n        let store = useStore();\r\n        let { statusContent } = storeToRefs(store);\r\n        let { chatRoomStranger } = storeToRefs(store);\r\n        let { user } = storeToRefs(store);\r\n        const { currentChatRoom } = storeToRefs(store);\r\n        return {\r\n            statusContent,\r\n            messagesChatWithStranger: [],\r\n            inputMessageTextChatWithStranger: '',\r\n            url: '',\r\n            chatRoomStranger,\r\n            user,\r\n            inputMessageText: \"\",\r\n            currentChatRoom\r\n        };\r\n    },\r\n    computed: {\r\n        messages(){\r\n            if(this.currentChatRoom.messages.length > 0){\r\n                return this.currentChatRoom.messages;\r\n            } else {\r\n                return [];\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        statusContent(newValue, oldValue) {\r\n            if (newValue === \"chatWithStranger\") {\r\n                setTimeout(() => {\r\n                    // const temp = localStorage.getItem('chatRoomStranger')\r\n                    if (!this.chatRoomStranger) {\r\n                        this.disableNewChat(false);\r\n                        this.disableFormInput(true);\r\n                        this.disableStopChat(true);\r\n                    }\r\n                    else {\r\n                        this.disableNewChat(false);\r\n                        this.disableFormInput(false);\r\n                        this.disableStopChat(false);\r\n                    }\r\n                    console.log(oldValue);\r\n                }, 80);\r\n            }\r\n        },\r\n        messagesChatWithStranger: {\r\n            deep: true,\r\n            handler() {\r\n                console.log(\"hey.....\")\r\n                setTimeout(() => {\r\n                    const e = document.querySelector(\".content_body\")\r\n                    e.scrollTop = e.scrollHeight * 2;\r\n                }, 100);\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        autoSrcollTop(){\r\n            setTimeout(() => {\r\n                    const e = document.querySelector(\".content_body\")\r\n                    e.scrollTop = e.scrollHeight * 2;\r\n                }, 100);\r\n        },\r\n        sendMessageFriend(type) {\r\n            console.log(\"sending message....\");\r\n            let message;\r\n            if (type === \"text\" && this.inputMessageText !== '') {\r\n                message = { content: this.inputMessageText, type: type , roomID: this.currentChatRoom._id};\r\n            }\r\n            if (type === 'image') {\r\n                message = { content: this.url, type: type , roomID: this.currentChatRoom._id};\r\n                this.url = ''\r\n            }\r\n            SocketioService.sendMessageFriend(message, cb => {\r\n                // callback is acknowledgement from server\r\n                console.log(cb);\r\n                this.currentChatRoom.messages.push({\r\n                    ...message,\r\n                    createAt: cb.createAt,\r\n                    owner: this.user._id\r\n                });\r\n                this.autoSrcollTop()\r\n                // clear the input after the message is sent\r\n                this.inputMessageText = '';\r\n            });\r\n        },\r\n        openUploadModal() {\r\n            window.cloudinary.createUploadWidget(\r\n                {\r\n                    cloud_name: 'dwnunieno',\r\n                    upload_preset: 'ma9pfovj',\r\n                    maxImageFileSize: 10000000,\r\n                    autoMinimize: true,\r\n                    sources: [\"local\"],\r\n                    clientAllowedFormats: [\"image\"],\r\n                    maxFiles: 5\r\n                },\r\n                (error, result) => {\r\n                    if (!error && result && result.event === \"success\") {\r\n                        console.log('Done uploading..: ', result.info);\r\n                        this.url = result.info.url;\r\n                        console.log(this.url)\r\n                        if(this.currentChatRoom._id === '000'){\r\n                            this.sendMessageStranger('image');\r\n                        } else {\r\n                            this.sendMessageFriend('image');\r\n                        }\r\n                    }\r\n                }).open();\r\n\r\n            // widget.destroy({ removeThumbnails: true })\r\n            //     .then(() => {\r\n            //         console.log(\"Widget was destroyed\");\r\n            //     });\r\n\r\n        },\r\n        connectSocketStranger() {\r\n            setTimeout(() => {\r\n                const chatRoom = this.chatRoomStranger;\r\n                console.log(chatRoom)\r\n                if (chatRoom !== '') {\r\n                    this.messagesChatWithStranger = [{ content: \"Đang đợi người lạ ...\", name: \"Bot\" }];\r\n                    //this.stop = false; this.next = false;\r\n                    // this.submitToken();\r\n                    this.disableNewChat(true);\r\n                    this.disableFormInput(true);\r\n                    this.disableStopChat(false);\r\n                    SocketioService.nextRoomStranger(chatRoom);\r\n                }\r\n                else {\r\n                    SocketioService.setupSocketStrangerConnection();\r\n\r\n                    SocketioService.statusRoomStranger((err, data) => {\r\n                        console.log(data);\r\n                        if (data.content === 'Đang đợi người lạ ...') {\r\n                            this.disableNewChat(true);\r\n                            this.disableFormInput(true);\r\n                            this.disableStopChat(false);\r\n                        }\r\n                        if (data.content.includes(\"NextRoom\")) {\r\n                            data.content = \"Người lạ đã rời đi. Đang đợi người lạ ...\"\r\n                            // this.stop = false; this.next = false;\r\n                            // this.disableFormElements(\"form.input-div\", true);\r\n                            this.disableNewChat(true);\r\n                            this.disableFormInput(true);\r\n                            this.disableStopChat(false);\r\n                            this.setChatRoomStranger('');\r\n                        }\r\n                        else if (this.messagesChatWithStranger.length > 0) {\r\n                            this.messagesChatWithStranger = [];\r\n                        }\r\n                        if (data.content.includes(\"Người lạ đã vào phòng\")) {\r\n                            const chatRoom = data.content.substr(data.content.indexOf(\"|\") + 1, data.content.length - 1);\r\n                            this.setChatRoomStranger(chatRoom)\r\n                            data.content = data.content.substr(0, data.content.indexOf(\"|\"));\r\n                            this.disableNewChat(false);\r\n                            this.disableFormInput(false);\r\n                            this.disableStopChat(false);\r\n                            // this.disableFormElements(\"form.input-div\", false);\r\n                            // this.stop = true; this.next = true;\r\n                        }\r\n                        if (data.content === 'Người lạ đã rời đi. Đang đợi người lạ kế tiếp ...') {\r\n                            // this.stop = false; this.next = false;\r\n                            // this.disableFormElements(\"form.input-div\", true);\r\n                            this.disableNewChat(true);\r\n                            this.disableFormInput(true);\r\n                            this.disableStopChat(false);\r\n                        }\r\n                        // console.log(data.name)\r\n                        this.messagesChatWithStranger.push({\r\n                            name: data.name,\r\n                            content: data.content,\r\n                            type: \"text\",\r\n                            createAt: data.createAt\r\n                        });\r\n                    });\r\n                    SocketioService.receiveMessageStranger((err, data) => {\r\n                        console.log(data);\r\n                        this.messagesChatWithStranger.push(data);\r\n                    });\r\n                }\r\n            }, 80);\r\n        },\r\n        sendMessageStranger(type) {\r\n            console.log(\"sending message....\");\r\n            let message;\r\n            if (type === \"text\" && this.inputMessageTextChatWithStranger !== '') {\r\n                message = { content: this.inputMessageTextChatWithStranger, type: type };\r\n            }\r\n            if (type === 'image') {\r\n                message = { content: this.url, type: type };\r\n                this.url = ''\r\n            }\r\n            SocketioService.sendMessageStranger(message, cb => {\r\n                // callback is acknowledgement from server\r\n                console.log(cb);\r\n                this.messagesChatWithStranger.push({\r\n                    ...message,\r\n                    createAt: cb.createAt,\r\n                    name: \"Me\"\r\n                });\r\n                // clear the input after the message is sent\r\n                this.inputMessageTextChatWithStranger = '';\r\n            });\r\n        },\r\n        stopChatStranger() {\r\n            setTimeout(() => {\r\n                SocketioService.disconnectStranger();\r\n                this.messagesChatWithStranger.push({\r\n                    type: \"text\",\r\n                    createAt: this.getTime(),\r\n                    content: \"Bạn đã rời khỏi phòng !\",\r\n                    name: \"Bot\"\r\n                });\r\n                // this.disableFormElements(\"form.input-div\", true);\r\n                this.setChatRoomStranger('')\r\n                this.disableNewChat(false);\r\n                this.disableFormInput(true);\r\n                this.disableStopChat(true);\r\n                // clear the input after the message is sent\r\n                // this.stop = false; this.next = false;\r\n                this.inputMessageTextChatWithStranger = '';\r\n            }, 69)\r\n            this.messagesChatWithStranger = [];\r\n        },\r\n        getTime() {\r\n            let today = new Date();\r\n            let date = today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();\r\n            let time = today.getHours() + \":\" + today.getMinutes();\r\n            let dateTime = time + ' ' + date;\r\n            return dateTime;\r\n        },\r\n        setChatRoomStranger(roomName) {\r\n            useStore().setChatRoomStranger(roomName);\r\n        },\r\n        disableNewChat(bDisabled) {\r\n            document.querySelector('#btn-newChat').disabled = bDisabled;\r\n        },\r\n        disableFormInput(bDisabled) {\r\n            document.querySelector('#btn-sendImg').disabled = bDisabled;\r\n            document.querySelector('#btn-sendMess').disabled = bDisabled;\r\n            document.querySelector('#input-sendMess').disabled = bDisabled;\r\n        },\r\n        disableStopChat(bDisabled) {\r\n            document.querySelector('#btn-stopChat').disabled = bDisabled;\r\n        },\r\n        actionFriendRequest(data) {\r\n            SocketioService.actionFriendRequest(data)\r\n            // setTimeout(useStore().reloadData(),900);   \r\n        }\r\n    },\r\n    beforeUnmount() {\r\n        SocketioService.disconnectStranger();\r\n        SocketioService.disconnect();\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.introduce {\r\n    background-color: rgb(244, 239, 233);\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 30px;\r\n}\r\n\r\n;\r\n\r\n.introduce img {\r\n    max-width: 50vh;\r\n}\r\n\r\n.introduce h1 {\r\n    font-size: 100px;\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n    font-weight: 800;\r\n    color: #0091ff;\r\n    letter-spacing: 20px;\r\n    margin-top: -30px;\r\n}\r\n\r\n.introduce h2 {\r\n    margin-left: -20px;\r\n    margin-top: -20px;\r\n    font-size: 20px;\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n    font-weight: 800;\r\n    color: #0091ff;\r\n    /* letter-spacing: 10px; */\r\n}\r\n\r\n.no-chat-selected {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-weight: 800;\r\n    color: #0091ff;\r\n    font-size: 21px;\r\n    background-color: rgb(244, 239, 233);\r\n}\r\n\r\n.no-chat-selected img {\r\n    max-width: 200px;\r\n}\r\n\r\n.no-chat-selected p {\r\n    text-align: center;\r\n    margin-bottom: 0;\r\n}\r\n\r\n.content_header-right button {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 4px;\r\n    border-radius: 8px;\r\n}\r\n\r\n.content_header-right button i {\r\n    margin-right: 4px;\r\n}\r\n\r\n.chat-footer button {\r\n    border: none;\r\n    background-color: transparent;\r\n}\r\n</style>","import { render } from \"./Content.vue?vue&type=template&id=34844884&scoped=true\"\nimport script from \"./Content.vue?vue&type=script&lang=js\"\nexport * from \"./Content.vue?vue&type=script&lang=js\"\n\nimport \"./Content.vue?vue&type=style&index=0&id=34844884&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-34844884\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=99c93060&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=99c93060&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-99c93060\"\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport 'bootstrap'\nimport './assets/main.css';\nimport { createPinia } from 'pinia';\n\ncreateApp(App).use(createPinia()).mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=99c93060&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Sidebar.vue?vue&type=style&index=0&id=a8eb7e24&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/redi-chat.a3f95067.svg\";"],"sourceRoot":""}