{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/redi.svg","webpack:///./src/App.vue?316c","webpack:///./src/components/Content.vue?b0c5","webpack:///./src/assets/avatar-bot.png","webpack:///./src/assets/avatar-stranger.png","webpack:///./src/App.vue","webpack:///./src/components/Menu.vue","webpack:///./src/services/api.service.js","webpack:///./src/services/auth.service.js","webpack:///./src/services/user.service.js","webpack:///./src/stores/Store.js","webpack:///./src/services/socketio.service.js","webpack:///./src/components/Menu.vue?0885","webpack:///./src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?b6ad","webpack:///./src/components/Content.vue","webpack:///./src/components/Content.vue?ab32","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/components/Sidebar.vue?e3fb","webpack:///./src/assets/redi-chat.svg","webpack:///./src/components/Menu.vue?2ce4"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","style","id","role","aria-live","aria-atomic","type","data-bs-dismiss","aria-label","textNotify","tabindex","aria-labelledby","aria-hidden","data-bs-toggle","data-bs-target","aria-controls","aria-selected","disable","for","src","alt","href","clickCloseUpdateMenu","updateInfo","validation-schema","dataUpdateInfoFormSchema","ref","user","phone","disabled","dataUpdateInfo","fullName","openUploadModal","avatar","changePassword","dataChangePasswordFormSchema","dataChangePassword","currentPassword","password","confirmPassword","title","statusMenu","clickChatMenu","clickContactMenu","clickUpdateMenu","signOut","commonConfig","headers","Accept","baseURL","axios","AuthService","baseUrl","process","this","api","createApiClient","post","put","UserService","useStore","defineStore","state","statusSidebar","statusContent","chatRoomStranger","currentChatRoom","messages","_id","online","foundUserByPhone","sentFriendRequest","notifyText","flag","getters","actions","setFoundUserByPhone","showNotify","text","clickContactsSidebar","clickRequestContactSidebar","chatWithStranger","switchChatContent","setChatRoomStranger","roomName","setInfoUser","token","toString","localStorage","setItem","changeOnlineStatus","roomID","chatRooms","reloadData","getItem","SocketioService","disconnect","verifyToken","userUpdated","message","setupSocketFriendConnection","receiveMessageFriend","err","console","log","seen","seenAllMessage","setTimeout","e","document","querySelector","scrollTop","scrollHeight","forEach","chatRoom","index","lastMessageDate","createAt","lastMessage","setMessagesChatRoom","updateMessages","roomId","response","socketStranger","io","on","reason","connect","socketFriend","auth","emit","cb","props","components","Form","Field","ErrorMessage","mounted","store","shape","required","min","matches","max","oneOf","nameFileAvatar","watch","methods","widget","cloudinary","createUploadWidget","cloud_name","upload_preset","maxImageFileSize","autoMinimize","sources","clientAllowedFormats","maxFiles","error","event","info","url","original_filename","format","destroy","removeThumbnails","then","open","alert","confirm","removeItem","location","reload","$refs","formChangePassWord","resetForm","beforeUnmount","render","__scopeId","signUp","dataSignUpFormSchema","dataSignUp","signIn","dataSignInFormSchema","dataSignIn","findUserByPhone","placeholder","searchByPhone","sender","fullNameFriend","openChatContent","content","includes","checkSearchByPhone","sendFriendRequest","processFormSignInSignUp","check","match","computed","chatRoomsString","x","map","owner","contacts","contact","removeAccents","join","stranger","filteredChatRooms","sort","compareFn","concat","filter","str","toLowerCase","replace","a","b","btnSign","mdalSign","btnClose","querySelectorAll","btnLog","mdalLog","overlay","login","addEventListener","classList","add","btn","remove","autoSrcollTop","loadContentChatRoom","room","meg","address","formSignUp","formSignIn","requestContact","formatTime","lastSeenMessage","sendMessageFriend","inputMessageText","connectSocketStranger","stopChatStranger","messagesChatWithStranger","sendMessageStranger","inputMessageTextChatWithStranger","actionFriendRequest","substr","lastIndexOf","newValue","oldValue","disableNewChat","disableFormInput","disableStopChat","deep","handler","nextRoomStranger","setupSocketStrangerConnection","statusRoomStranger","indexOf","receiveMessageStranger","disconnectStranger","getTime","Date","utc","getTimezoneOffset","offset","gmt7","time","toLocaleString","timeZone","split","bDisabled","Menu","Sidebar","Content","toastLiveExample","getElementById","toast","Toast","show","test","setInterval","createApp","App","use","createPinia","mount"],"mappings":"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","file":"js/app.57832530.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Redi/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/redi.10f611f2.svg\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=35e79318&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Content.vue?vue&type=style&index=0&id=a6fd5982&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/avatar-bot.c72e65e8.png\";","module.exports = __webpack_public_path__ + \"img/avatar-stranger.b0ed6063.png\";","<template>\n  <div class=\"App\">\n    <div class=\"layout_main\">\n      <!-- <Menu :statusMenu = \"statusMenu\"/>\n      <Sidebar :statusSidebar = \"statusSidebar\"/>\n      <Content :statusContent = \"statusContent\"/> -->\n      <Menu></Menu>\n      <Sidebar></Sidebar>\n      <Content></Content>\n    </div>\n\n    <div class=\"toast-container\" style=\"position: fixed; bottom: 60px; right: 10px;\">\n\n      <div id=\"liveToast\" class=\"toast align-items-center border-1\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n        <div class=\"d-flex\">\n          <div class=\"toast-body notify-success\">\n            {{ this.textNotify }}\n          </div>\n          <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\"\n            aria-label=\"Close\"></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import SocketioService from './services/socketio.service.js';\n// import { useStore } from './stores/Store';\nimport Menu from './components/Menu.vue';\nimport Sidebar from './components/Sidebar.vue';\nimport Content from './components/Content.vue';\nimport bootstrap from 'bootstrap/dist/js/bootstrap';\nimport { useStore } from './stores/Store';\nimport { storeToRefs } from 'pinia'\nimport SocketioService from './services/socketio.service';\nexport default {\n  name: 'App',\n  components: {\n    Menu,\n    Sidebar,\n    Content\n  },\n  mounted() {\n    // this.test()\n  },\n  data() {\n    let store = useStore();\n    let { notifyText } = storeToRefs(store);\n    let { flag } = storeToRefs(store);\n    return {\n      notifyText,\n      flag,\n      textNotify: '',\n      // statusMenu: \"SignIn\",\n      // statusSidebar: \"chat\",\n      // statusContent: \"chat\",\n    };\n  },\n  watch: {\n    flag() {\n      this.textNotify = this.notifyText.toString();\n      this.showNotify();\n    }\n  },\n  methods: {\n    showNotify() {\n      const toastLiveExample = document.getElementById('liveToast')\n      const toast = new bootstrap.Toast(toastLiveExample);\n\n      toast.show();\n    },\n    test(){\n      setInterval(() => {\n        this.showNotify();\n      }, 1000);\n    }\n  },\n  beforeUnmount() {\n    SocketioService.disconnect();\n    SocketioService.disconnectStranger();\n  }\n\n}\n</script>\n\n<style scoped>\n  #liveToast {\n    background-color: #0091ff;\n    width: max-content;\n}\n\n.notify-success {\n    color: #fff;\n    font-size: 20px;\n    padding: 10px;\n    word-spacing: normal;\n}\n</style>","<template>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog  modal-dialog-centered modal-dialog-scrollable\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\" style=\"align-items: center;\">Cập nhật thông tin</h1>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                        @click=\"clickCloseUpdateMenu()\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <ul class=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <button class=\"nav-link active\" id=\"pills-home-tab\" data-bs-toggle=\"pill\"\r\n                                data-bs-target=\"#pills-home\" type=\"button\" role=\"tab\" aria-controls=\"pills-home\"\r\n                                aria-selected=\"true\">Cập nhật thông tin cơ bản</button>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <button class=\"nav-link\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\"\r\n                                data-bs-target=\"#pills-profile\" type=\"button\" role=\"tab\" aria-controls=\"pills-profile\"\r\n                                aria-selected=\"false\">Đổi mật khẩu</button>\r\n                        </li>\r\n                    </ul>\r\n                    <div class=\"tab-content\" id=\"pills-tabContent\">\r\n                        <div class=\"tab-pane fade show active\" id=\"pills-home\" role=\"tabpanel\"\r\n                            aria-labelledby=\"pills-home-tab\" tabindex=\"0\">\r\n                            <Form @submit=\"updateInfo()\" :validation-schema=\"dataUpdateInfoFormSchema\" class=\"form-sign\"\r\n                                ref=\"formUpdateInfo\">\r\n                                <div class=\"form-group\" disable>\r\n                                    <label for=\"phone\">Số điện thoại</label>\r\n                                    <input type=\"text\" name=\"\" id=\"phone\" :value=\"this.user.phone\" class=\"form-control\"\r\n                                        disabled>\r\n                                    <!-- <Field name=\"phone\" type=\"text\" class=\"form-control\"\r\n                                        :model-value=\"this.user.phone\" />\r\n                                        <ErrorMessage name=\"phone\" class=\"error-feedback\" /> -->\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"fullName\">Họ và tên</label>\r\n                                    <Field name=\"fullName\" type=\"text\" class=\"form-control\"\r\n                                        v-model=\"dataUpdateInfo.fullName\" />\r\n                                    <ErrorMessage name=\"fullName\" class=\"error-feedback\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label>Ảnh đại diện: </label>\r\n                                    <button type=\"button\" @click=\"openUploadModal()\">\r\n                                        {{ (this.dataUpdateInfo.avatar === '') ? \"Upload ảnh làm ảnh đại diện.\" :\r\n                                            this.nameFileAvatar }}\r\n                                    </button>\r\n                                </div>\r\n                                <button class=\"btn btn-signup\">Cập nhật</button>\r\n                            </Form>\r\n                        </div>\r\n                        <div class=\"tab-pane fade\" id=\"pills-profile\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\"\r\n                            tabindex=\"0\">\r\n                            <Form @submit=\"changePassword()\" :validation-schema=\"dataChangePasswordFormSchema\"\r\n                                class=\"form-sign\" ref=\"formChangePassWord\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"currentPassword\">Mật khẩu hiện tại</label>\r\n                                    <Field name=\"currentPassword\" type=\"password\" class=\"form-control\"\r\n                                        v-model=\"dataChangePassword.currentPassword\" />\r\n                                    <ErrorMessage name=\"currentPassword\" class=\"error-feedback\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"password\">Mật Khẩu mới</label>\r\n                                    <Field name=\"password\" type=\"password\" class=\"form-control\"\r\n                                        v-model=\"dataChangePassword.password\" />\r\n                                    <ErrorMessage name=\"password\" class=\"error-feedback\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"confirmPassword\">Xác nhận lại mật khẩu mới</label>\r\n                                    <Field name=\"confirmPassword\" type=\"password\" class=\"form-control\"\r\n                                        v-model=\"dataChangePassword.confirmPassword\" />\r\n                                    <ErrorMessage name=\"confirmPassword\" class=\"error-feedback\" />\r\n                                </div>\r\n                                <button class=\"btn btn-signup\">Cập nhật</button>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                    <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <ul class=\"menu\">\r\n        <li class=\"menu_item\">\r\n            <div class=\"menu_avatar\" :title=this.user.fullName href=\"#\">\r\n                <img :src=this.user.avatar alt=\"avatar\" v-if=\"statusMenu !== 'notSignIn'\" />\r\n                <img src=\"../assets/redi.svg\" alt=\"avatar\" v-else />\r\n            </div>\r\n        </li>\r\n        <li @click=\"clickChatMenu()\" :class=\"[(statusMenu === 'chat' || statusMenu === 'notSignIn') ? 'active' : '']\"\r\n            class=\"menu_item\">\r\n            <div class=\"icon-message\" href=\"#\"><i class=\"bx bxs-message-rounded-dots\"></i></div>\r\n        </li>\r\n        <li @click=\"clickContactMenu()\" class=\"menu_item\" :class=\"[(statusMenu === 'contacts') ? 'active' : '']\"\r\n            v-if=\"statusMenu !== 'notSignIn'\">\r\n            <a class=\"icon-message\"><i class=\"bx bxs-contact\"></i></a>\r\n        </li>\r\n        <li @click=\"clickUpdateMenu()\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" class=\"menu_item\"\r\n            :class=\"[(statusMenu === 'update') ? 'active' : '']\" v-if=\"statusMenu !== 'notSignIn'\">\r\n            <a class=\"icon-message\"><i class=\"fa-sharp fa-solid fa-square-pen\"></i></a>\r\n        </li>\r\n        <li class=\"menu_item menu_item-logout\" v-if=\"statusMenu !== 'notSignIn'\" @click=\"signOut()\">\r\n            <div class=\"icon-message\"><i class=\"fa-solid fa-right-from-bracket\"></i></div>\r\n        </li>\r\n    </ul>\r\n</template>\r\n  \r\n<script>\r\nimport SocketioService from '../services/socketio.service.js';\r\nimport { useStore } from '../stores/Store';\r\nimport { storeToRefs } from 'pinia'\r\nimport * as yup from \"yup\";\r\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\r\nimport AuthService from '../services/auth.service.js';\r\nexport default {\r\n    name: 'Menu',\r\n    props: {\r\n        // statusMenu: {type: String, require: true, default: \"notSignIn\"},\r\n    },\r\n    components: {\r\n        Form,\r\n        Field,\r\n        ErrorMessage,\r\n    },\r\n\r\n    mounted() {\r\n\r\n    },\r\n    data() {\r\n        let store = useStore();\r\n        const { statusMenu } = storeToRefs(store);\r\n        const { user } = storeToRefs(store);\r\n        const dataUpdateInfoFormSchema = yup.object().shape({\r\n            fullName: yup\r\n                .string()\r\n                .required(\"Họ và tên phải có giá trị.\")\r\n                .min(8, \"Họ và tên phải ít nhất 8 ký tự.\")\r\n                .matches('[a-zA-Z]', \"Họ và tên phải ít một ký tự chữ cái.\")\r\n                .max(50, \"Họ và tên có nhiều nhất 50 ký tự.\"),\r\n        });\r\n\r\n        const dataChangePasswordFormSchema = yup.object().shape({\r\n            currentPassword: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            password: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            confirmPassword: yup.string().oneOf([yup.ref('password'), null], 'Mật khẩu phải trùng khớp.')\r\n        });\r\n        return {\r\n            statusMenu,\r\n            user,\r\n            dataChangePasswordFormSchema,\r\n            dataUpdateInfoFormSchema,\r\n            dataUpdateInfo: {\r\n                fullName: \"\",\r\n                avatar: \"\"\r\n            },\r\n            dataChangePassword: {\r\n                currentPassword: \"\",\r\n                password: \"\",\r\n                confirmPassword: \"\"\r\n            },\r\n            nameFileAvatar: \"\"\r\n        };\r\n    },\r\n    watch: {\r\n        user() {\r\n            this.dataUpdateInfo.fullName = this.user.fullName\r\n        }\r\n    },\r\n    methods: {\r\n        openUploadModal() {\r\n            const widget = window.cloudinary.createUploadWidget(\r\n                {\r\n                    cloud_name: 'dwnunieno',\r\n                    upload_preset: 'ma9pfovj',\r\n                    maxImageFileSize: 10000000,\r\n                    autoMinimize: true,\r\n                    sources: [\"local\"],\r\n                    clientAllowedFormats: [\"image\"],\r\n                    maxFiles: 1\r\n                },\r\n                async (error, result) => {\r\n                    if (!error && result && result.event === \"success\") {\r\n                        console.log('Done uploading..: ', result.info);\r\n                        this.dataUpdateInfo.avatar = result.info.url;\r\n                        console.log(result.info)\r\n                        console.log(this.dataUpdateInfo.avatar);\r\n                        this.nameFileAvatar = result.info.original_filename + \".\" + result.info.format;\r\n                        await widget.destroy({ removeThumbnails: true })\r\n                            .then(() => {\r\n                                console.log(\"Widget was destroyed\");\r\n                            });\r\n                    }\r\n                }).open();\r\n\r\n            // widget.destroy({ removeThumbnails: true })\r\n            //     .then(() => {\r\n            //         console.log(\"Widget was destroyed\");\r\n            //     });\r\n\r\n        },\r\n        clickContactMenu() {\r\n            useStore().clickContactMenu();\r\n        },\r\n        clickUpdateMenu() {\r\n            useStore().clickUpdateMenu();\r\n        },\r\n        clickChatMenu() {\r\n            if (this.statusMenu !== 'notSignIn') {\r\n                useStore().clickChatMenu();\r\n            } else {\r\n                alert(\"Bạn phải đăng nhập để thực hiện chức năng này !\");\r\n            }\r\n        },\r\n        clickCloseUpdateMenu() {\r\n            useStore().clickCloseUpdateMenu();\r\n        },\r\n        async signOut() {\r\n            try {\r\n                if (confirm(\"Bạn muốn đăng xuất khỏi tài khoản này ?\")) {\r\n                    await AuthService.signOut({\r\n                        phone: this.user.phone\r\n                    })\r\n                    SocketioService.disconnect()\r\n                    localStorage.removeItem('token');\r\n                    useStore().signOut();\r\n                    location.reload();\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        },\r\n        async updateInfo() {\r\n            if (this.dataUpdateInfo.avatar !== \"\" || this.dataUpdateInfo.fullName !== this.user.fullName) {\r\n                if (this.dataUpdateInfo.avatar === \"\") {\r\n                    this.dataUpdateInfo.avatar = this.user.avatar;\r\n                    this.nameFileAvatar = \"Ảnh đại diện hiện tại.\"\r\n                }\r\n                await useStore().updateInfo({ ...this.dataUpdateInfo, \"_id\": this.user._id });\r\n                this.user.avatar = this.dataUpdateInfo.avatar;\r\n                this.dataUpdateInfo.avatar = \"\" ;\r\n                // setTimeout(this.$refs.formUpdateInfo.resetForm, 100);\r\n            } else {\r\n                alert(\"Không có thông tin mới để cập nhật !\");\r\n            }\r\n        },\r\n        async changePassword() {\r\n            await useStore().changePassword({ ...this.dataChangePassword, \"_id\": this.user._id });\r\n            setTimeout(this.$refs.formChangePassWord.resetForm, 50);\r\n            this.dataChangePassword = {\r\n                currentPassword: \"\",\r\n                password: \"\",\r\n                confirmPassword: \"\"\r\n            }\r\n        }\r\n    },\r\n    beforeUnmount() {\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nform,\r\nform * {\r\n    width: 100%;\r\n}\r\n\r\n.form-group {\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.form-control {\r\n    outline: none;\r\n    border: 1px solid black;\r\n    border-radius: 5px;\r\n    padding: 5px 10px;\r\n    font-size: 18px;\r\n}\r\n\r\n.error-feedback {\r\n    font-size: 13px;\r\n    color: red;\r\n}\r\n\r\n#btn-requestContact {\r\n    width: 120px;\r\n    background-color: #0091ff;\r\n    border: none;\r\n    color: white;\r\n    border-radius: 3px;\r\n    padding: 8px 3px;\r\n}\r\n</style>","import axios from \"axios\";\r\nconst commonConfig = {\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n    },\r\n};\r\nexport default (baseURL) => {\r\n    return axios.create({\r\n        baseURL,\r\n        ...commonConfig,\r\n    });\r\n};","import createApiClient from \"./api.service\";\r\nclass AuthService {\r\n    constructor(baseUrl = process.env.VUE_APP_SOCKET_ENDPOINT_AUTH) { //https://redichat-server-test.onrender.com\r\n        this.api = createApiClient(baseUrl);\r\n    }\r\n    async signIn(data) {\r\n        return (await this.api.post(\"/signin\", data)).data;\r\n    }\r\n    async signUp(data) {\r\n        return (await this.api.post(\"/signup\", data)).data;\r\n    }\r\n    async signOut(data){\r\n        return (await this.api.put(\"/signout\", data)).data;\r\n    }\r\n    async verifyToken(data) {\r\n        return (await this.api.post(\"/getinfo\", data)).data;\r\n    }\r\n}\r\nexport default new AuthService();","import createApiClient from \"./api.service\";\r\nclass UserService {\r\n    constructor(baseUrl = process.env.VUE_APP_SOCKET_ENDPOINT_AUTH) { //https://redichat-server-test.onrender.com\r\n        this.api = createApiClient(baseUrl);\r\n    }\r\n    async updateInfo(data) {\r\n        return (await this.api.put(\"/updateinfo\", data)).data;\r\n    }\r\n    async changePassword(data) {\r\n        return (await this.api.put(\"/changepassword\", data)).data;\r\n    }\r\n}\r\nexport default new UserService();","import { defineStore } from \"pinia\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport UserService from \"../services/user.service\";\r\nimport SocketioService from \"../services/socketio.service\";\r\n\r\nexport const useStore = defineStore(\"store\", {\r\n    state: () => {\r\n        return {\r\n            statusMenu: \"notSignIn\",\r\n            statusSidebar: \"notSignIn\",\r\n            statusContent: \"notSignIn\",//\"chat\"\r\n            chatRoomStranger: '',\r\n            user: {\r\n                '_id': '',\r\n                'phone': '',\r\n                'fullName': '',\r\n                'avatar': '',\r\n                'requestContact': [],\r\n                'contacts': [],\r\n                'chatRooms': [],\r\n                'token': ''\r\n            },\r\n            currentChatRoom: {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n                online: false\r\n            },\r\n            foundUserByPhone: {\r\n                fullName: \"\",\r\n                _id: \"\",\r\n                avatar: \"\",\r\n                phone: \"\",\r\n                sentFriendRequest: false\r\n            },\r\n            notifyText: \"\",\r\n            flag: 0\r\n        }\r\n    },\r\n    getters: {\r\n        // showNotify(text){\r\n        //     this.notify = !this.notify;\r\n        //     let x = (this.notify)?1:0;\r\n        //     return {x, text};\r\n        // }\r\n    },\r\n    actions: {\r\n        setFoundUserByPhone(foundUserByPhone){\r\n            this.foundUserByPhone = foundUserByPhone;\r\n        },\r\n        showNotify(text) {\r\n            this.flag = 1-this.flag;\r\n            this.notifyText = text;\r\n        },\r\n        clickContactMenu() {\r\n            this.statusMenu = 'contacts'\r\n            this.statusSidebar = 'contacts';\r\n            this.statusContent = 'contacts';\r\n            this.currentChatRoom = {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n            }\r\n        },\r\n        clickChatMenu() {\r\n            this.statusMenu = 'chat'\r\n            this.statusSidebar = 'chat';\r\n            this.statusContent = 'noChatSelected';\r\n        },\r\n        clickContactsSidebar() {\r\n            this.statusMenu = 'contacts'\r\n            this.statusSidebar = 'contacts';\r\n            this.statusContent = 'contacts';\r\n        },\r\n        clickRequestContactSidebar() {\r\n            this.statusMenu = 'contacts'\r\n            this.statusSidebar = 'requestContact';\r\n            this.statusContent = 'requestContact';\r\n        },\r\n        clickUpdateMenu(){\r\n            this.statusMenu = 'update'\r\n        },\r\n        clickCloseUpdateMenu(){\r\n            if(this.statusSidebar === 'chat'){\r\n                this.statusMenu = 'chat'\r\n            } else {\r\n                this.statusMenu = 'contacts'\r\n            }\r\n        },\r\n        signOut() {\r\n\r\n            // await \r\n\r\n            this.statusMenu = 'notSignIn'\r\n            this.statusSidebar = 'notSignIn';\r\n            this.statusContent = 'notSignIn';\r\n            \r\n            this.user = {\r\n                '_id': '',\r\n                'phone': '',\r\n                'fullName': '',\r\n                'avatar': '',\r\n                'requestContact': [],\r\n                'contacts': [],\r\n                'chatRooms': [],\r\n                'token': ''\r\n            };\r\n            this.currentChatRoom = {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n            }\r\n        },\r\n        chatWithStranger() {\r\n            this.statusContent = 'chatWithStranger';\r\n        },\r\n        switchChatContent() {\r\n            this.statusContent = 'chat';\r\n        },\r\n        setChatRoomStranger(roomName) {\r\n            this.chatRoomStranger = roomName;\r\n        },\r\n        setInfoUser(data) {\r\n            this.user = data\r\n            this.user.token = this.user.token.toString();\r\n            localStorage.setItem('token', data.token);\r\n        },\r\n        changeOnlineStatus(roomID, online) {\r\n            const length = this.user.chatRooms.length;\r\n            if(roomID === this.currentChatRoom._id)\r\n                this.currentChatRoom.online = online;\r\n\r\n            for (let i = 0; i < length; i++) {\r\n                if (this.user.chatRooms[i]._id === roomID) {\r\n                    this.user.chatRooms[i].online = online;\r\n                    break;\r\n                }\r\n\r\n            }\r\n        },\r\n        async reloadData(){\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                if (token) {\r\n                    SocketioService.disconnect();\r\n                    const userUpdated = await AuthService.verifyToken({ token: token });\r\n                    if (userUpdated) {\r\n                        this.user = userUpdated.message;\r\n                    }\r\n                    SocketioService.setupSocketFriendConnection(this.user.token, this.user.phone);\r\n                    SocketioService.receiveMessageFriend((err, data) => {\r\n                        console.log(data);\r\n                        if (data.roomID === this.currentChatRoom._id) {\r\n                            data.seen = true\r\n                            this.currentChatRoom.messages.push(data);\r\n                            SocketioService.seenAllMessage(this.currentChatRoom._id);\r\n                            setTimeout(() => {\r\n                                const e = document.querySelector(\".content_body\")\r\n                                e.scrollTop = e.scrollHeight * 2;\r\n                            }, 100);\r\n                        }\r\n                        this.user.chatRooms.forEach((chatRoom, index) => {\r\n                            if (data.roomID === chatRoom._id) {\r\n                                this.user.chatRooms[index].lastMessageDate = data.createAt;\r\n                                this.user.chatRooms[index].lastMessage = data;\r\n                                return\r\n                            }\r\n                        })\r\n                    });\r\n\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        },\r\n        setMessagesChatRoom(messages){\r\n            this.currentChatRoom.messages = messages;\r\n            setTimeout(() => {\r\n                const e = document.querySelector(\".content_body\")\r\n                e.scrollTop = e.scrollHeight * 2;\r\n            }, 50);\r\n        },\r\n        updateMessages(roomId){\r\n            console.log(\"updateMessages\");\r\n            if(this.currentChatRoom._id === roomId){\r\n                console.log(\"updating Messages\");\r\n                this.currentChatRoom.messages.forEach(message => {\r\n                    if(!message.seen){\r\n                        message.seen = true;\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        async updateInfo(data){\r\n            try {\r\n                await UserService.updateInfo(data);\r\n                this.user.fullName = data.fullName;\r\n                this.user.avatar = data.avatar;\r\n                this.showNotify(\"Cập nhật thông tin cơ bản thành công !\");\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n\r\n        async changePassword(data){\r\n            try {\r\n                await UserService.changePassword(data);\r\n                this.showNotify(\"Cập nhật mật khẩu thành công !\");\r\n            } catch (error) {\r\n                this.showNotify(error.response.data.message)\r\n            }\r\n        }\r\n    }\r\n})","import { io } from 'socket.io-client';\nimport { useStore } from '../stores/Store';\n// import { storeToRefs } from 'pinia'\n\nclass SocketioService {\n  socketStranger;\n  socketFriend;\n  chatRoom ='';\n  user\n  constructor() {\n    // const { user } = storeToRefs(store);\n    // this.user = user;\n  }\n\n  setupSocketStrangerConnection() {\n    this.socketStranger = io(process.env.VUE_APP_SOCKET_ENDPOINT_CHAT_WITH_STRANGER, {\n      // auth: {\n      //   token,\n      // },\n    });\n    console.log(`Connecting socket...`);\n\n    // this.socket.on('infoUser', (data) => {\n    //   console.log(data);\n    //   // lưu data vào Pinia\n    // });\n    this.socketStranger.on(\"disconnect\", (reason) => {\n      if (reason === \"io server disconnect\" || reason === \"ping timeout\" || reason === \"transport error\") {\n        // the disconnection was initiated by the server, you need to reconnect manually\n        console.log(\"Bị mất kết nối do: \"+reason);\n        this.socketStranger.connect();\n      }\n      // else the socket will automatically try to reconnect\n    });\n  }\n\n  setupSocketFriendConnection(token, phone) {\n    this.socketFriend = io(process.env.VUE_APP_SOCKET_ENDPOINT_CHAT_WITH_FRIEND, {\n      auth: {\n        token,\n      },\n    });\n    // useStore().showNotify(`Connecting socket...`);\n    console.log(`Connecting socket...`);\n    console.log(`socketFriend`, this.socketFriend);\n    this.socketFriend.on('onlineStatus', data => {\n      useStore().changeOnlineStatus(data.roomID, data.online);\n    })\n\n    this.socketFriend.emit('sendUser', phone)\n\n    this.socketFriend.on('message',data => {\n      useStore().reloadData();\n\n      useStore().showNotify(data);\n\n      console.log(\"message\",data);\n\n    })\n\n    this.socketFriend.on('updateMessages', (roomId) => {\n      useStore().updateMessages(roomId);\n    });\n\n    this.socketFriend.on('receiveContentChatRoom', (messages) => {\n      console.log(messages);\n      // lưu data vào Pinia\n      useStore().setMessagesChatRoom(messages);\n    });\n\n    this.socketFriend.on(\"disconnect\", (reason) => {\n      if (reason === \"transport close\" || reason === \"ping timeout\" || reason === \"transport error\") {\n        // the disconnection was initiated by the server, you need to reconnect manually\n        console.log(\"Bị mất kết nối do: \"+reason);\n        this.socketFriend.connect();\n      }\n      // else the socket will automatically try to reconnect\n    });\n  }\n\n  loadContentChatRoom(roomID){\n    this.socketFriend.emit(\"loadContentChatRoom\", roomID)\n  }\n\n  findUserByPhone(phone){\n    this.socketFriend.emit('findUser',phone);\n    this.socketFriend.on('foundUser', data => {\n      console.log('foundUser',data)\n      useStore().setFoundUserByPhone(data);\n    })\n  }\n\n  actionFriendRequest(data){\n    this.socketFriend.emit('actionFriendRequest', data);\n\n  }\n\n  sendFriendRequest(data){\n    \n    this.socketFriend.emit('sendFriendRequest',data);\n  }\n\n  receiveMessageFriend(cb){\n    if(!this.socketFriend) return true;\n    console.log(\"receiveMessageFriend\")\n    this.socketFriend.on(\"receiveMessageFriend\", data => {\n      return cb(null, data);\n    })\n  }\n\n  sendMessageFriend(message, cb) {\n    console.log(message);\n    if(this.socketFriend) this.socketFriend.emit('sendMessageFriend',message,cb);\n  }\n\n  seenAllMessage(roomId){\n    console.log(\"seenAllMessage\")\n    if(this.socketFriend) this.socketFriend.emit('seenAllMessage',roomId);\n  }\n\n  // subscribeToMessages(cb) {\n  //   if (!this.socket) return(true);\n  //   this.socket.on('message', msg => {\n  //     console.log('Room event received!');\n  //     return cb(null, msg);\n  //   });\n  // }\n  receiveMessageStranger(cb){\n    if(!this.socketStranger) return true;\n    this.socketStranger.on(\"receiveMessageStranger\", data => {\n      return cb(null, {\n        ...data,\n        name: \"Người lạ\",\n      });\n    })\n  }\n\n  statusRoomStranger(cb){\n    if(!this.socketStranger) return true;\n    this.socketStranger.on(\"statusRoomStranger\", message => {\n      return cb(null, {...message, name: \"Bot\"});\n    })\n  }\n\n  nextRoomStranger(chatRoom){\n    //console.log(\"nextRoom\",localStorage.getItem(\"chatRoom\"))\n    // if(localStorage.getItem(\"chatRoom\")){\n      this.socketStranger.emit(\"nextRoomStranger\",chatRoom);\n    console.log(\"id\",this.socketStranger.id);\n\n    // }\n  }\n  \n  // sendMessage({message, roomName}, cb) {\n  //   if (this.socket) this.socket.emit('message', { message, roomName }, cb);\n  // }\n\n  sendMessageStranger(message, cb) {\n    if(this.socketStranger) this.socketStranger.emit('sendMessageStranger',message,cb);\n  }\n  \n  disconnectStranger() {\n    if(this.socketStranger) {\n      this.socketStranger.disconnect();\n    }\n  }\n\n  disconnect() {\n    if(this.socketFriend) {\n      this.socketFriend.disconnect();\n    }\n  }\n}\n\nexport default new SocketioService();\n\n\n\n// import { io } from 'socket.io-client';\n\n// class SocketioService {\n//   socket;\n//   constructor() {}\n\n//   setupSocketConnection() {\n//     this.socket = io(process.env.VUE_APP_SOCKET_ENDPOINT);\n//     this.socket.emit('my message', 'Hello there from Vue.');\n    \n//     this.socket.on('my broadcast', (data) => {\n//       console.log(data, this.socket);\n//     });\n//   }\n  \n//   disconnect() {\n//     if(this.socket) {\n//       this.socket.disconnect();\n//     }\n//   }\n// }\n\n// export default new SocketioService();","import { render } from \"./Menu.vue?vue&type=template&id=502f5c76&scoped=true\"\nimport script from \"./Menu.vue?vue&type=script&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&lang=js\"\n\nimport \"./Menu.vue?vue&type=style&index=0&id=502f5c76&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-502f5c76\"\n\nexport default script","<template>\r\n    <div class=\"overlay\"></div>\r\n    <div class=\"modal_form-sign\">\r\n        <div class=\"modal_form-sign-heading\">\r\n            <h1>Đăng Ký</h1>\r\n        </div>\r\n        <div class=\"icon-close\">\r\n            <i class=\"bx bx-x\"></i>\r\n        </div>\r\n        <!--<form action=\"./index.html\" class=\"form-sign\" @submit.prevent=\"signUp()\">\r\n             <div class=\"input__field\">\r\n                <input id=\"numberphone\" type=\"text\" placeholder=\"Số điện thoại\" />\r\n            </div>\r\n            <div class=\"input__field\">\r\n                <input id=\"username\" type=\"text\" placeholder=\"Họ và tên\" />\r\n            </div>\r\n            <div class=\"input__field\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Mật khẩu\" />\r\n            </div>\r\n            <div class=\"input__field\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Xác nhận lại mật khẩu\" />\r\n            </div> -->\r\n\r\n        <Form @submit=\"signUp()\" :validation-schema=\"dataSignUpFormSchema\" class=\"form-sign\" ref=\"formSignUp\">\r\n            <div class=\"form-group\">\r\n                <label for=\"fullName\">Họ và tên</label>\r\n                <Field name=\"fullName\" type=\"text\" class=\"form-control\" v-model=\"dataSignUp.fullName\" />\r\n                <ErrorMessage name=\"fullName\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"phone\">Điện thoại</label>\r\n                <Field name=\"phone\" type=\"tel\" class=\"form-control\" v-model=\"dataSignUp.phone\" />\r\n                <ErrorMessage name=\"phone\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"password\">Mật Khẩu</label>\r\n                <Field name=\"password\" type=\"password\" class=\"form-control\" v-model=\"dataSignUp.password\" />\r\n                <ErrorMessage name=\"password\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"confirmPassword\">Xác nhận lại mật khẩu</label>\r\n                <Field name=\"confirmPassword\" type=\"password\" class=\"form-control\" v-model=\"dataSignUp.confirmPassword\" />\r\n                <ErrorMessage name=\"confirmPassword\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label>Ảnh đại diện: </label>\r\n                <button type=\"button\" @click=\"openUploadModal()\">\r\n                    {{ (this.dataSignUp.avatar === '') ? \"Upload ảnh làm ảnh đại diện.\" : this.nameFileAvatar }}\r\n                </button>\r\n            </div>\r\n            <!-- <div class=\"auth-form-submit bg-white form-group\">\r\n                            <button type=\"submit\" class=\"auth-form-btn-submit cach\">ĐĂNG KÝ</button>\r\n                        </div> -->\r\n            <button class=\"btn btn-signup\">Đăng ký</button>\r\n            <div class=\"login-signup\">\r\n                <span class=\"text\">Đã có tài khoản</span>\r\n                <span href=\"#\" class=\"text login-link\">Đăng nhập</span>\r\n            </div>\r\n        </Form>\r\n\r\n        <!-- </form>  -->\r\n    </div>\r\n    <!-- modal form sign in -->\r\n    <div class=\"modal_form-login\">\r\n        <div class=\"modal_form-sign-heading\">\r\n            <h1>Đăng Nhập</h1>\r\n        </div>\r\n        <div class=\"icon-close\">\r\n            <i class=\"bx bx-x\"></i>\r\n        </div>\r\n        <!-- <form action=\"index.html\" class=\"form-sign\">\r\n            <div class=\"input__field\">\r\n                <input id=\"numberphone\" type=\"text\" placeholder=\"Số điện thoại\" />\r\n            </div>\r\n            <div class=\"input__field\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Mật khẩu\" />\r\n            </div>\r\n            <button class=\"btn btn-signup\">Đăng Nhập</button>\r\n        </form> -->\r\n        <Form @submit=\"signIn()\" :validation-schema=\"dataSignInFormSchema\" class=\"form-sign\" ref=\"formSignIn\">\r\n            <div class=\"form-group\">\r\n                <label for=\"phone\">Điện thoại</label>\r\n                <Field name=\"phone\" type=\"tel\" class=\"form-control\" v-model=\"dataSignIn.phone\" />\r\n                <ErrorMessage name=\"phone\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"password\">Mật Khẩu</label>\r\n                <Field name=\"password\" type=\"password\" class=\"form-control\" v-model=\"dataSignIn.password\" />\r\n                <ErrorMessage name=\"password\" class=\"error-feedback\" />\r\n            </div>\r\n            <!-- <div class=\"auth-form-submit bg-white form-group\">\r\n                            <button type=\"submit\" class=\"auth-form-btn-submit cach\">ĐĂNG KÝ</button>\r\n                        </div> -->\r\n            <button class=\"btn btn-signup\">Đăng nhập</button>\r\n            <div class=\"login-signup\">\r\n                <span class=\"text\">Bạn chưa có tài khoản? Hãy chọn</span>\r\n                <span class=\"text signup-link\">Đăng ký</span>\r\n            </div>\r\n        </Form>\r\n    </div>\r\n    <div class=\"sidebar\">\r\n        <div class=\"sidebar_list\">\r\n            <div class=\"sidebar_item-search\" v-if=\"statusSidebar !== 'notSignIn'\">\r\n                <form @submit.prevent=\"this.findUserByPhone()\">\r\n                    <input type=\"text\" placeholder=\"Tìm kiếm\" v-model=\"this.searchByPhone\" />\r\n                </form>\r\n                <i class=\"bx bx-search\"></i>\r\n            </div>\r\n\r\n            <template v-if=\"statusSidebar === 'notSignIn' || statusSidebar === 'chat'\">\r\n                <template v-for=\"(chatRoom, index) in this.chatRooms\" :key=\"index\">\r\n                    <div class=\"sidebar_item\" :title=chatRoom.fullNameFriend @click=\"openChatContent(chatRoom)\"\r\n                        :class=\"[(chatRoom._id === this.currentChatRoom._id) ? 'active' : '', (chatRoom.lastMessage) ? (!chatRoom.lastMessage.seen && chatRoom.lastMessage.sender !== this.user._id ? 'new' : '') : '']\">\r\n                        <img :src=chatRoom.avatar alt=\"\" />\r\n                        <i class=\"fa-solid fa-circle\" v-if=\"chatRoom.online\"></i>\r\n                        <div class=\"sidebar_content\">\r\n                            <h3 class=\"sidebar_name\">{{ chatRoom.fullNameFriend }}</h3>\r\n                            <template v-if=\"chatRoom.lastMessage\">\r\n                                <span class=\"sidebar_message\" v-if=\"chatRoom.lastMessage.type === 'image'\">Hình ảnh</span>\r\n                                <span class=\"sidebar_message\" v-else>{{ chatRoom.lastMessage.content }}</span>\r\n                            </template>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n\r\n            </template>\r\n\r\n            <!-- SignUp - SignIn Button -->\r\n            <div class=\"content_body-signup\" v-show=\"statusSidebar === 'notSignIn'\">\r\n                <button href=\"#\" class=\"btn btn-sign\" id=\"open-form-dangnhap1\">Đăng Ký</button>\r\n                <button href=\"#\" class=\"btn btn-log\">Đăng Nhập</button>\r\n                <div class=\"note\">\r\n                    *Bằng cách bấm vào phần \"Người lạ\", bạn có thể trò chuyện ngay với người lạ mà không cần Đăng nhập.\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Contacts -->\r\n            <template v-if=\"statusSidebar.includes('ontact') && !this.checkSearchByPhone\">\r\n                <div @click=\"clickContactsSidebar()\">\r\n                    <div class=\"sidebar_item\" :class=\"[(statusSidebar === 'contacts') ? 'active' : '']\">\r\n                        <i class=\"bx bxs-group\"></i>\r\n                        <div class=\"sidebar_content\">\r\n                            <h3 class=\"sidebar_name\">Danh sách bạn bè</h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div @click=\"clickRequestContactSidebar() && !this.checkSearchByPhone\">\r\n                    <div class=\"sidebar_item\" :class=\"[(statusSidebar === 'requestContact') ? 'active' : '']\">\r\n                        <i class=\"bx bxs-user-plus\"></i>\r\n                        <div class=\"sidebar_content\">\r\n                            <h3 class=\"sidebar_name\">Danh sách kết bạn</h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n\r\n\r\n            <div class=\"sidebar_item\" :title=this.foundUserByPhone.fullName\r\n                v-if=\"this.foundUserByPhone.fullName && this.chatRooms.length < 1\">\r\n                <img :src=this.foundUserByPhone.avatar alt=\"\" />\r\n                <div class=\"sidebar_content\">\r\n                    <h3 class=\"sidebar_name\">{{ this.foundUserByPhone.fullName }}</h3>\r\n                </div>\r\n                <button id=\"btn-requestContact\" @click=\"sendFriendRequest()\"\r\n                    v-if=\"!this.foundUserByPhone.sentFriendRequest\">\r\n                    Kết bạn\r\n                </button>\r\n                <button id=\"btn-requestContact\" disabled v-else>\r\n                    Đã gửi lời mời kết bạn\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n  \r\n<script lang=\"js\">\r\n// import SocketioService from '../services/socketio.service.js';\r\nimport * as yup from \"yup\";\r\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\r\nimport AuthService from \"../services/auth.service\"\r\nimport SocketioService from \"../services/socketio.service\";\r\nimport { useStore } from '../stores/Store';\r\nimport { storeToRefs } from 'pinia'\r\nexport default {\r\n    name: 'Sidebar',\r\n    props: {\r\n        // statusSidebar: { type: String, require: true, default: \"notSignIn\" },\r\n    },\r\n    components: {\r\n        Form,\r\n        Field,\r\n        ErrorMessage,\r\n    },\r\n    mounted() {\r\n        //this.setup_dangNhap_DangKy()\r\n        this.processFormSignInSignUp()\r\n        this.verifyToken()\r\n    },\r\n    data() {\r\n        let store = useStore();\r\n        const { statusSidebar } = storeToRefs(store);\r\n        const { statusContent } = storeToRefs(store);\r\n        const { statusMenu } = storeToRefs(store);\r\n        const { user } = storeToRefs(store);\r\n        const { currentChatRoom } = storeToRefs(store);\r\n        const { foundUserByPhone } = storeToRefs(store);\r\n        const dataSignUpFormSchema = yup.object().shape({\r\n            fullName: yup\r\n                .string()\r\n                .required(\"Họ và tên phải có giá trị.\")\r\n                .min(8, \"Họ và tên phải ít nhất 8 ký tự.\")\r\n                .matches('[a-zA-Z]', \"Họ và tên phải ít một ký tự chữ cái.\")\r\n                .max(50, \"Họ và tên có nhiều nhất 50 ký tự.\"),\r\n            password: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            phone: yup\r\n                .string()\r\n                .matches(\r\n                    /((09|03|07|08|05)+([0-9]{8})\\b)/g,\r\n                    \"Số điện thoại không hợp lệ.\"\r\n                ),\r\n            confirmPassword: yup.string().oneOf([yup.ref('password'), null], 'Mật khẩu phải trùng khớp.')\r\n        });\r\n\r\n        const dataSignInFormSchema = yup.object().shape({\r\n            password: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            phone: yup\r\n                .string()\r\n                .matches(\r\n                    /((09|03|07|08|05)+([0-9]{8})\\b)/g,\r\n                    \"Số điện thoại không hợp lệ.\"\r\n                ),\r\n        });\r\n        return {\r\n            statusSidebar,\r\n            statusContent,\r\n            statusMenu,\r\n            dataSignUp: {\r\n                phone: \"\",\r\n                password: \"\",\r\n                fullName: \"\",\r\n                confirmPassword: \"\",\r\n                avatar: \"\"\r\n            },\r\n            dataSignIn: {\r\n                phone: \"\",\r\n                password: \"\",\r\n            },\r\n            dataSignUpFormSchema,\r\n            dataSignInFormSchema,\r\n            nameFileAvatar: '',\r\n            user,\r\n            searchByPhone: '',\r\n            currentChatRoom,\r\n            foundUserByPhone,\r\n            checkSearchByPhone: false\r\n        };\r\n    },\r\n    watch: {\r\n        searchByPhone() {\r\n            let check = this.searchByPhone.match(/((09|03|07|08|05)+([0-9]{8})\\b)/);\r\n            if (!check) {\r\n                this.foundUserByPhone = {\r\n                    fullName: \"\",\r\n                    _id: \"\",\r\n                    avatar: \"\",\r\n                    phone: \"\",\r\n                    sentFriendRequest: false\r\n                }\r\n                this.checkSearchByPhone = false\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        chatRoomsString() {\r\n            let x = this.user.chatRooms.map(chatRoom => {\r\n                if (chatRoom._id === \"000\") return \"\";\r\n                console.log(chatRoom.owner)\r\n                const id = (chatRoom.owner[0] === this.user._id) ? chatRoom.owner[1] : chatRoom.owner[0];\r\n                let phone;\r\n                // console.log(chatRoom.owner[0]._id, this.user._id)\r\n                this.user.contacts.forEach(contact => {\r\n                    if (id === contact._id) {\r\n                        phone = contact.phone;\r\n                    }\r\n                })\r\n\r\n                return [phone, this.removeAccents(chatRoom.fullNameFriend)].join(\"\");\r\n            })\r\n            console.log(x);\r\n            return x;\r\n        },\r\n        chatRooms() {\r\n            if (this.searchByPhone === \"\") {\r\n                let stranger = {\r\n                    _id: \"000\",\r\n                    owner: [],\r\n                    lastMessageDate: \"0:0 0-0-0\",\r\n                    fullNameFriend: \"Người lạ\",\r\n                    avatar: \"http://res.cloudinary.com/dwnunieno/image/upload/v1679058005/sdrdzt5t2bhs5lvgsflj.png\",\r\n                    online: false\r\n                };\r\n                let filteredChatRooms = this.user.chatRooms;\r\n                filteredChatRooms.sort(this.compareFn);\r\n                return [stranger].concat(filteredChatRooms);\r\n            } else {\r\n                // this.statusContent = 'noChatSelected'\r\n                let searchByPhone = this.removeAccents(this.searchByPhone);\r\n                let filteredChatRooms = this.user.chatRooms.filter((chatRoom, index) => {\r\n                    return this.chatRoomsString[index].includes(searchByPhone);\r\n                }).sort(this.compareFn);\r\n                return filteredChatRooms;\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        removeAccents(str) {\r\n            str = str.toLowerCase();\r\n            str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n            str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n            str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n            str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n            str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n            str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n            str = str.replace(/đ/g, \"d\");\r\n            return str;\r\n        },\r\n        compareFn(a, b) {\r\n            // let datetimeA = a.lastMessageDate.split(\" \");\r\n            // let datetimeB = b.lastMessageDate.split(\" \");\r\n\r\n            // let hourA, minuteA, dateA, monthA, yearA, hourB, minuteB, dateB, monthB, yearB;\r\n            // hourA = parseInt(datetimeA[0].split(\":\")[0]); minuteA = parseInt(datetimeA[0].split(\":\")[1]);\r\n            // dateA = parseInt(datetimeA[1].split(\"-\")[0]); monthA = parseInt(datetimeA[1].split(\"-\")[1]); yearA = parseInt(datetimeA[1].split(\"-\")[2]);\r\n\r\n            // hourB = parseInt(datetimeB[0].split(\":\")[0]); minuteB = parseInt(datetimeB[0].split(\":\")[1]);\r\n            // dateB = parseInt(datetimeB[1].split(\"-\")[0]); monthB = parseInt(datetimeB[1].split(\"-\")[1]); yearB = parseInt(datetimeB[1].split(\"-\")[2]);\r\n\r\n            // if (yearA !== yearB) return yearB - yearA;\r\n            // if (monthA !== monthB) return monthB - monthA;\r\n            // if (dateA !== dateB) return dateB - dateA;\r\n            // if (hourA !== hourB) return hourB - hourA;\r\n            // if (minuteA !== minuteB) return minuteB - minuteA;\r\n            if (a.lastMessageDate > b.lastMessageDate) return -1;\r\n            else if (a.lastMessageDate < b.lastMessageDate) return 1;\r\n            else return 0;\r\n        },\r\n\r\n        processFormSignInSignUp() {\r\n            const btnSign = document.querySelector(\".btn-sign\");\r\n            const mdalSign = document.querySelector(\".modal_form-sign\");\r\n            const btnClose = document.querySelectorAll(\".icon-close\");\r\n            const btnLog = document.querySelector(\".btn-log\");\r\n            const mdalLog = document.querySelector(\".modal_form-login\");\r\n            const overlay = document.querySelector(\".overlay\");\r\n            const signUp = document.querySelector(\".signup-link\");\r\n            const login = document.querySelector(\".login-link\");\r\n            // khi click vào button đăng ký nào thì modal nào mở ra và mở luôn lớp phủ mờ\r\n            btnSign.addEventListener(\"click\", function () {\r\n                // click open modal\r\n                mdalSign.classList.add(\"open\");\r\n                overlay.classList.add(\"open\");\r\n            });\r\n            // khi click vào button đăng nhập nào thì modal nào mở ra và mở luôn lớp phủ mờ\r\n            btnLog.addEventListener(\"click\", function () {\r\n                // click close modal\r\n                mdalLog.classList.add(\"open\");\r\n                overlay.classList.add(\"open\");\r\n            });\r\n            // khi click vào icon close thì đóng modal lại và tắt lớp phủ mờ\r\n            btnClose.forEach((btn) => {\r\n                btn.addEventListener(\"click\", function () {\r\n                    // click close modal\r\n                    mdalSign.classList.remove(\"open\");\r\n                    mdalLog.classList.remove(\"open\");\r\n                    overlay.classList.remove(\"open\");\r\n                });\r\n            });\r\n            //chuyển đổi đăng nhập và đăng ký\r\n            signUp.addEventListener(\"click\", function () {\r\n                mdalSign.classList.add(\"open\");\r\n                mdalLog.classList.remove(\"open\");\r\n            });\r\n            login.addEventListener(\"click\", function () {\r\n                mdalLog.classList.add(\"open\");\r\n                mdalSign.classList.remove(\"open\");\r\n            });\r\n        },\r\n        autoSrcollTop() {\r\n            setTimeout(() => {\r\n                const e = document.querySelector(\".content_body\")\r\n                e.scrollTop = e.scrollHeight * 2;\r\n            }, 500);\r\n        },\r\n        async verifyToken() {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                if (token) {\r\n                    const user = await AuthService.verifyToken({ token: token });\r\n                    if (user) {\r\n                        useStore().setInfoUser(user.message);\r\n                        SocketioService.setupSocketFriendConnection(user.message.token, user.message.phone);\r\n                        SocketioService.receiveMessageFriend((err, data) => {\r\n                            console.log(data);\r\n                            if (data.roomID === this.currentChatRoom._id) {\r\n                                data.seen = true;\r\n                                this.currentChatRoom.messages.push(data);\r\n                                SocketioService.seenAllMessage(this.currentChatRoom._id);\r\n                                this.autoSrcollTop();\r\n                            }\r\n                            this.user.chatRooms.forEach((chatRoom, index) => {\r\n                                if (data.roomID === chatRoom._id) {\r\n                                    this.user.chatRooms[index].lastMessage = data;\r\n                                    this.user.chatRooms[index].lastMessageDate = data.createAt;\r\n                                    return\r\n                                }\r\n                            })\r\n                        });\r\n                        useStore().clickChatMenu();\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        clickContactsSidebar() {\r\n            useStore().clickContactsSidebar();\r\n        },\r\n        clickRequestContactSidebar() {\r\n            useStore().clickRequestContactSidebar();\r\n        },\r\n        openChatContent(chatRoom) {\r\n            if (chatRoom._id === this.currentChatRoom._id)\r\n                return;\r\n            this.currentChatRoom = { ...chatRoom, messages: [] };\r\n            if (chatRoom._id === \"000\")\r\n                useStore().chatWithStranger();\r\n            else {\r\n                SocketioService.loadContentChatRoom(chatRoom._id.toString());\r\n                // this.autoSrcollTop()\r\n                this.user.chatRooms.forEach(room => {\r\n                    if (chatRoom._id === room._id && room.lastMessage) {\r\n                        room.lastMessage.seen = true;\r\n                    }\r\n                })\r\n                SocketioService.seenAllMessage(chatRoom._id);\r\n                useStore().switchChatContent();\r\n            }\r\n        },\r\n        openUploadModal() {\r\n            const widget = window.cloudinary.createUploadWidget(\r\n                {\r\n                    cloud_name: 'dwnunieno',\r\n                    upload_preset: 'ma9pfovj',\r\n                    maxImageFileSize: 10000000,\r\n                    autoMinimize: true,\r\n                    sources: [\"local\"],\r\n                    clientAllowedFormats: [\"image\"],\r\n                    maxFiles: 1\r\n                },\r\n                async (error, result) => {\r\n                    if (!error && result && result.event === \"success\") {\r\n                        console.log('Done uploading..: ', result.info);\r\n                        this.dataSignUp.avatar = result.info.url;\r\n                        console.log(result.info)\r\n                        console.log(this.dataSignUp.avatar);\r\n                        this.nameFileAvatar = result.info.original_filename + \".\" + result.info.format;\r\n                        await widget.destroy({ removeThumbnails: true })\r\n                            .then(() => {\r\n                                console.log(\"Widget was destroyed\");\r\n                            });\r\n                    }\r\n                }).open();\r\n\r\n            // widget.destroy({ removeThumbnails: true })\r\n            //     .then(() => {\r\n            //         console.log(\"Widget was destroyed\");\r\n            //     });\r\n\r\n        },\r\n        async signUp() {\r\n            try {\r\n                if (this.dataSignUp.avatar === '') {\r\n                    this.dataSignUp.avatar = \"https://res.cloudinary.com/dwnunieno/image/upload/v1678895187/ojzoerhuvkv8ealatzqz.png\"\r\n                }\r\n                const meg = await AuthService.signUp(this.dataSignUp);\r\n                document.querySelector(\".modal_form-sign\").classList.remove('open');\r\n                document.querySelector(\".modal_form-login\").classList.add('open');\r\n                //document.getElementById(\"Modaldangky\").style.display = \"none\";\r\n                //document.getElementById(\"Modaldangnhap\").style.display = \"block\";\r\n                this.dataSignUp = {\r\n                    phone: \"\",\r\n                    password: \"\",\r\n                    fullName: \"\",\r\n                    address: \"\",\r\n                    avatar: \"\"\r\n                };\r\n                setTimeout(this.$refs.formSignUp.resetForm, 1500);\r\n                if (meg) alert(meg.message);\r\n            } catch (error) {\r\n                alert(error.response.data.message.toString())\r\n                if(this.dataSignUp.avatar === \"https://res.cloudinary.com/dwnunieno/image/upload/v1678895187/ojzoerhuvkv8ealatzqz.png\"){\r\n                    this.dataSignUp.avatar = \"\";\r\n                }\r\n                // console.log(error)\r\n            }\r\n        },\r\n        async signIn() {\r\n            try {\r\n                const meg = await AuthService.signIn(this.dataSignIn);\r\n                useStore().setInfoUser(meg.message)\r\n                SocketioService.setupSocketFriendConnection(meg.message.token, meg.message.phone);\r\n                document.querySelector(\".modal_form-login\").classList.remove('open');\r\n                document.querySelector(\".overlay\").classList.remove('open');\r\n                useStore().clickChatMenu();\r\n                // document.querySelector(\".modal_form-login\").classList.add('open');\r\n                // //document.getElementById(\"Modaldangky\").style.display = \"none\";\r\n                // //document.getElementById(\"Modaldangnhap\").style.display = \"block\";\r\n                this.dataSignIn = {\r\n                    phone: \"\",\r\n                    password: \"\",\r\n                };\r\n                SocketioService.receiveMessageFriend((err, data) => {\r\n                    console.log(data);\r\n                    if (data.roomID === this.currentChatRoom._id) {\r\n                        data.seen = true;\r\n                        this.currentChatRoom.messages.push(data);\r\n                        SocketioService.seenAllMessage(this.currentChatRoom._id);\r\n                        this.autoSrcollTop()\r\n                    }\r\n                    this.user.chatRooms.forEach((chatRoom, index) => {\r\n                        if (data.roomID === chatRoom._id) {\r\n                            this.user.chatRooms[index].lastMessage = data;\r\n                            this.user.chatRooms[index].lastMessageDate = data.createAt;\r\n                            return\r\n                        }\r\n                    })\r\n                });\r\n                // await this.$nextTick()\r\n                // await this.$nextTick(this.$refs.formSignIn.resetForm)\r\n                setTimeout(this.$refs.formSignIn.resetForm, 1000);\r\n                if (meg) console.log(meg.message);\r\n            } catch (error) {\r\n                alert(error.response.data.message.toString())\r\n                //console.log(error)\r\n            }\r\n        },\r\n        findUserByPhone() {\r\n            if (this.chatRooms.length > 0) return\r\n            if (this.searchByPhone === this.user.phone) {\r\n                alert(this.user.phone + \" là số điện thoại của bạn mà !\");\r\n                this.searchByPhone = ''\r\n                return;\r\n            }\r\n\r\n            // useStore().clickChatMenu();\r\n\r\n            let check = this.searchByPhone.match(/((09|03|07|08|05)+([0-9]{8})\\b)/);\r\n\r\n            if (!check) {\r\n                alert(`Số điện thoại: \"${this.searchByPhone}\" chưa hợp lệ !`);\r\n                return;\r\n            }\r\n\r\n            this.user.requestContact.forEach(contact => {\r\n                if (contact.phone === this.searchByPhone) {\r\n                    alert(`Số điện thoại: \"${this.searchByPhone}\" (${contact.fullName}) đã gửi lời mời kết bạn cho bạn !`)\r\n                    this.searchByPhone = '';\r\n                    check = false;\r\n                    return;\r\n                }\r\n            })\r\n            if (!check) return;\r\n            SocketioService.findUserByPhone(this.searchByPhone);\r\n            this.checkSearchByPhone = true;\r\n            console.log(this.searchByPhone);\r\n            this.currentChatRoom = {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n            }\r\n            this.statusContent = 'noChatSelected'\r\n            // this.searchByPhone = ''\r\n\r\n        },\r\n        sendFriendRequest() {\r\n            SocketioService.sendFriendRequest(this.foundUserByPhone.phone);\r\n            this.searchByPhone = \"\"\r\n            this.foundUserByPhone = {\r\n                fullName: \"\",\r\n                _id: \"\",\r\n                avatar: \"\",\r\n                phone: \"\",\r\n                sentFriendRequest: false\r\n            }\r\n            this.statusSidebar = 'chat';\r\n            this.statusMenu = 'chat'\r\n            // setTimeout(useStore().reloadData(),100);\r\n        }\r\n    },\r\n    beforeUnmount() {\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ndiv.note {\r\n    text-align: justify;\r\n    font-size: 14px;\r\n    font-weight: 300;\r\n}\r\n\r\nform,\r\nform * {\r\n    width: 100%;\r\n}\r\n\r\n.form-group {\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.form-control {\r\n    outline: none;\r\n    border: 1px solid black;\r\n    border-radius: 5px;\r\n    padding: 5px 10px;\r\n    font-size: 18px;\r\n}\r\n\r\n.error-feedback {\r\n    font-size: 13px;\r\n    color: red;\r\n}\r\n\r\n#btn-requestContact {\r\n    width: 120px;\r\n    background-color: #0091ff;\r\n    border: none;\r\n    color: white;\r\n    border-radius: 3px;\r\n    padding: 8px 3px;\r\n}\r\n\r\n.login-signup {\r\n    margin-top: 10px;\r\n    text-align: right;\r\n}\r\n\r\n/* \r\n.login-signup a {\r\n    margin-left: 5px;\r\n} */\r\n</style>\r\n","import { render } from \"./Sidebar.vue?vue&type=template&id=8974a7ee&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\nimport \"./Sidebar.vue?vue&type=style&index=0&id=8974a7ee&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-8974a7ee\"\n\nexport default script","<template>\r\n    <div class=\"content\" v-if=\"statusContent === 'chat'\">\r\n        <div class=\"content_header\">\r\n            <img class=\"content_header-img\" :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n            <span>\r\n                <i class=\"fa-solid fa-circle\" v-if=\"this.currentChatRoom.online\"></i>\r\n            </span>\r\n            <div class=\"content_header-title\">\r\n                <h1> {{ this.currentChatRoom.fullNameFriend }}</h1>\r\n            </div>\r\n            <!-- <div class=\"content_header-right\">\r\n                <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n            </div> -->\r\n        </div>\r\n        <div class=\"content_body\">\r\n            <div class=\"chat-box\">\r\n                <template v-for=\"(message, index) in this.messages\" :key=\"index\">\r\n                    <div v-if=\"index === (this.currentChatRoom.messages.length - 1) && index > 2\">\r\n                        <div class=\"mess-incoming\" v-if=\"message.sender !== this.user._id\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\" style=\"margin-bottom: 10px;\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ this.currentChatRoom.fullNameFriend }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" style=\"margin-bottom: 10px;\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-outgoing\" v-else >\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\" :style=\"[((index !== this.lastSeenMessage))?'margin-bottom: 10px;':'']\" :title=\"[(message.seen)?'Đã xem':'Đã gửi']\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" :style=\"[((index !== this.lastSeenMessage))?'margin-bottom: 10px;':'']\" :title=\"[(message.seen)?'Đã xem':'Đã gửi']\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div v-if=\"(index === this.lastSeenMessage)\" class=\"mess-seen\">\r\n                            <img :src=\"this.currentChatRoom.avatar\" alt=\"\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div v-else>\r\n                        <div class=\"mess-incoming\" v-if=\"message.sender !== this.user._id\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ this.currentChatRoom.fullNameFriend }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" style=\"margin-bottom: 10px;\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"mess-outgoing\" v-else >\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\" :title=\"[(message.seen)?'Đã xem':'Đã gửi']\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" style=\"margin-bottom: 10px;\" :title=\"[(message.seen)?'Đã xem':'Đã gửi']\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div v-if=\"(index === this.lastSeenMessage)\" class=\"mess-seen\">\r\n                            <img :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n        <div class=\"chat-footer\">\r\n            <div class=\"chat-footer\">\r\n                <button @click=\"openUploadModal()\">\r\n                    <i class=\"fa-solid fa-image\"></i>\r\n                </button>\r\n                <form class=\"\" @submit.prevent=\"sendMessageFriend('text')\">\r\n                    <input type=\"text\" placeholder=\"Nhập vào nội dung bạn muốn nhắn....\" v-model=\"inputMessageText\" />\r\n                    <button type=\"submit\">\r\n                        <i class=\"fa-solid fa-paper-plane\"></i>\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"content\" v-if=\"statusContent === 'chatWithStranger'\">\r\n        <div class=\"content_header\">\r\n            <img class=\"content_header-img\" src=\"../assets/avatar-stranger.png\" alt=\"\" />\r\n            <div class=\"content_header-title\">\r\n                <h1>Người lạ</h1>\r\n            </div>\r\n            <div class=\"content_header-right \">\r\n                <!-- <i class=\"fa fa-search\" aria-hidden=\"true\"></i> -->\r\n                <button id=\"btn-newChat\" style=\"margin-right: 15px;\" @click=\"connectSocketStranger()\">\r\n                    <i class=\"fa-solid fa-comment-medical\"></i> Phòng nhắn tin mới\r\n                </button>\r\n                <button id=\"btn-stopChat\" @click=\"stopChatStranger()\">\r\n                    <i class=\"fa-solid fa-comment-slash\"></i> Kết thúc\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class=\"content_body\">\r\n            <div class=\"chat-box\">\r\n                <template v-for=\"(message, index) in messagesChatWithStranger\" :key=\"index\">\r\n                    <div v-if=\"index === (this.messagesChatWithStranger.length - 1) && index > 2\">\r\n                        <div class=\"mess-incoming\" v-if=\"message.name === 'Người lạ'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-stranger.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\" style=\"margin-bottom: 10px;\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-incoming\" v-else-if=\"message.name === 'Bot'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-bot.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\">\r\n                                <div class=\"mess-text\" style=\"margin-bottom: 10px;\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-outgoing\" v-else>\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\" style=\"margin-bottom: 10px;\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div v-else>\r\n                        <div class=\"mess-incoming\" v-if=\"message.name === 'Người lạ'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-stranger.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-incoming\" v-else-if=\"message.name === 'Bot'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-bot.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-outgoing\" v-else>\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n        <div class=\"chat-footer\">\r\n            <button @click=\"openUploadModal()\" id=\"btn-sendImg\">\r\n                <i class=\"fa-solid fa-image\"></i>\r\n            </button>\r\n            <form class=\"\" @submit.prevent=\"sendMessageStranger('text')\">\r\n                <input id=\"input-sendMess\" type=\"text\" placeholder=\"Nhập vào nội dung bạn muốn nhắn....\"\r\n                    v-model=\"inputMessageTextChatWithStranger\" />\r\n                <button id=\"btn-sendMess\" type=\"submit\">\r\n                    <i class=\"fa-solid fa-paper-plane\"></i>\r\n                </button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contact_main\" v-if=\"statusContent === 'requestContact'\">\r\n        <div class=\"content_header\">\r\n            <i class=\"bx bxs-user-plus\"></i>\r\n            <div class=\"content_header-title\">\r\n                <h1>Danh sách kết bạn</h1>\r\n            </div>\r\n        </div>\r\n        <div class=\"contact_list\">\r\n            <template v-for=\"(contact, index) in user.requestContact\" :key=\"index\">\r\n                <div class=\"contact_item\" :title=contact.fullName>\r\n                    <img :src=contact.avatar alt=\"\" />\r\n                    <div class=\"contact_content\">\r\n                        <h3 class=\"contact_name\">{{ contact.fullName }}</h3>\r\n                    </div>\r\n                    <div class=\"contact_action\">\r\n                        <button class=\"btn btn_accept\"\r\n                            @click=\"this.actionFriendRequest({ phone: contact.phone, accept: true })\">Chấp nhận</button>\r\n                        <button class=\"btn btn_deny\"\r\n                            @click=\"this.actionFriendRequest({ phone: contact.phone, accept: false })\">Từ chối</button>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contact_main\" v-if=\"statusContent === 'contacts'\">\r\n        <div class=\"content_header\">\r\n            <i class=\"bx bxs-group\"></i>\r\n            <div class=\"content_header-title\">\r\n                <h1>Danh sách bạn bè</h1>\r\n            </div>\r\n        </div>\r\n        <div class=\"contact_list\">\r\n            <template v-for=\"(contact, index) in user.contacts\" :key=\"index\">\r\n                <div class=\"contact_item\" :title=contact.fullName>\r\n                    <img :src=contact.avatar alt=\"\" />\r\n                    <div class=\"contact_content\">\r\n                        <h3 class=\"contact_name\">{{ contact.fullName }}</h3>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contact_main introduce\" v-if=\"statusContent === 'notSignIn'\">\r\n        <img src=\"../assets/redi-chat.svg\" alt=\"\">\r\n        <h1>REDI</h1>\r\n        <h2>XOÁ NHOÀ KHOẢNG CÁCH</h2>\r\n    </div>\r\n\r\n    <div class=\"contact_main no-chat-selected\" v-if=\"statusContent === 'noChatSelected'\">\r\n        <img src=\"../assets/redi-chat.svg\" alt=\"\">\r\n        <p>Xin chào {{ this.user.fullName.substr(this.user.fullName.toString().lastIndexOf(\" \")) }} </p>\r\n        <p>chào mừng bạn đến với REDI, </p>\r\n        <p>bắt đầu trò chuyện với những người mà bạn yêu thương nào !</p>\r\n    </div>\r\n</template>\r\n  \r\n<script lang=\"js\">\r\nimport SocketioService from '../services/socketio.service.js';\r\n// import AuthService from \"../services/auth.service\"\r\nimport { useStore } from '../stores/Store';\r\nimport { storeToRefs } from 'pinia'\r\nexport default {\r\n    name: 'Content',\r\n    props: {\r\n        // statusContent: { type: String, require: true, default: \"notSignIn\" },\r\n    },\r\n    components: {\r\n    },\r\n    mounted() {\r\n    },\r\n    data() {\r\n        let store = useStore();\r\n        let { statusContent } = storeToRefs(store);\r\n        let { chatRoomStranger } = storeToRefs(store);\r\n        let { user } = storeToRefs(store);\r\n        const { currentChatRoom } = storeToRefs(store);\r\n        return {\r\n            statusContent,\r\n            messagesChatWithStranger: [],\r\n            inputMessageTextChatWithStranger: '',\r\n            url: '',\r\n            chatRoomStranger,\r\n            user,\r\n            inputMessageText: \"\",\r\n            currentChatRoom\r\n        };\r\n    },\r\n    computed: {\r\n        messages() {\r\n            if (this.currentChatRoom.messages.length > 0) {\r\n                return this.currentChatRoom.messages;\r\n            } else {\r\n                return [];\r\n            }\r\n        },\r\n        lastSeenMessage() {\r\n            if (this.currentChatRoom.messages.length > 0) {\r\n                for(let i = this.currentChatRoom.messages.length-1; i>=0; i--){\r\n                    if(this.currentChatRoom.messages[i].sender === this.user._id &&  this.currentChatRoom.messages[i].seen){\r\n                        return i;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return -1;\r\n        }\r\n    },\r\n    watch: {\r\n        statusContent(newValue, oldValue) {\r\n            if (newValue === \"chatWithStranger\") {\r\n                setTimeout(() => {\r\n                    // const temp = localStorage.getItem('chatRoomStranger')\r\n                    if (!this.chatRoomStranger) {\r\n                        this.disableNewChat(false);\r\n                        this.disableFormInput(true);\r\n                        this.disableStopChat(true);\r\n                    }\r\n                    else {\r\n                        this.disableNewChat(false);\r\n                        this.disableFormInput(false);\r\n                        this.disableStopChat(false);\r\n                    }\r\n                    console.log(oldValue);\r\n                }, 80);\r\n            }\r\n        },\r\n        messagesChatWithStranger: {\r\n            deep: true,\r\n            handler() {\r\n                console.log(\"hey.....\")\r\n                setTimeout(() => {\r\n                    const e = document.querySelector(\".content_body\")\r\n                    e.scrollTop = e.scrollHeight * 2;\r\n                }, 100);\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        autoSrcollTop() {\r\n            setTimeout(() => {\r\n                const e = document.querySelector(\".content_body\")\r\n                e.scrollTop = e.scrollHeight * 2;\r\n            }, 100);\r\n        },\r\n        sendMessageFriend(type) {\r\n            if(!type) return;\r\n            let message;\r\n            if (type === \"text\" && this.inputMessageText !== '') {\r\n                message = { content: this.inputMessageText, type: type, roomID: this.currentChatRoom._id };\r\n            }\r\n            if (type === 'image') {\r\n                message = { content: this.url, type: type, roomID: this.currentChatRoom._id };\r\n                this.url = ''\r\n            }\r\n            if(!message) return;\r\n            console.log(\"sending message....\");\r\n            SocketioService.sendMessageFriend(message, cb => {\r\n                // callback is acknowledgement from server\r\n                console.log(cb);\r\n                this.currentChatRoom.messages.push({\r\n                    ...message,\r\n                    createAt: cb.createAt,\r\n                    sender: this.user._id,\r\n                    seen: false\r\n                });\r\n                this.autoSrcollTop()\r\n                // clear the input after the message is sent\r\n                this.inputMessageText = '';\r\n            });\r\n        },\r\n        openUploadModal() {\r\n            window.cloudinary.createUploadWidget(\r\n                {\r\n                    cloud_name: 'dwnunieno',\r\n                    upload_preset: 'ma9pfovj',\r\n                    maxImageFileSize: 10000000,\r\n                    autoMinimize: true,\r\n                    sources: [\"local\"],\r\n                    clientAllowedFormats: [\"image\"],\r\n                    maxFiles: 5\r\n                },\r\n                (error, result) => {\r\n                    if (!error && result && result.event === \"success\") {\r\n                        console.log('Done uploading..: ', result.info);\r\n                        this.url = result.info.url;\r\n                        console.log(this.url)\r\n                        if (this.currentChatRoom._id === '000') {\r\n                            this.sendMessageStranger('image');\r\n                        } else {\r\n                            this.sendMessageFriend('image');\r\n                        }\r\n                    }\r\n                }).open();\r\n\r\n            // widget.destroy({ removeThumbnails: true })\r\n            //     .then(() => {\r\n            //         console.log(\"Widget was destroyed\");\r\n            //     });\r\n\r\n        },\r\n        connectSocketStranger() {\r\n            setTimeout(() => {\r\n                const chatRoom = this.chatRoomStranger;\r\n                console.log(chatRoom)\r\n                if (chatRoom !== '') {\r\n                    this.messagesChatWithStranger = [{ content: \"Đang đợi người lạ ...\", name: \"Bot\" }];\r\n                    //this.stop = false; this.next = false;\r\n                    // this.submitToken();\r\n                    this.disableNewChat(true);\r\n                    this.disableFormInput(true);\r\n                    this.disableStopChat(false);\r\n                    SocketioService.nextRoomStranger(chatRoom);\r\n                }\r\n                else {\r\n                    SocketioService.setupSocketStrangerConnection();\r\n\r\n                    SocketioService.statusRoomStranger((err, data) => {\r\n                        console.log(data);\r\n                        if (data.content === 'Đang đợi người lạ ...') {\r\n                            this.disableNewChat(true);\r\n                            this.disableFormInput(true);\r\n                            this.disableStopChat(false);\r\n                        }\r\n                        if (data.content.includes(\"NextRoom\")) {\r\n                            data.content = \"Người lạ đã rời đi. Đang đợi người lạ ...\"\r\n                            // this.stop = false; this.next = false;\r\n                            // this.disableFormElements(\"form.input-div\", true);\r\n                            this.disableNewChat(true);\r\n                            this.disableFormInput(true);\r\n                            this.disableStopChat(false);\r\n                            this.setChatRoomStranger('');\r\n                        }\r\n                        else if (this.messagesChatWithStranger.length > 0) {\r\n                            this.messagesChatWithStranger = [];\r\n                        }\r\n                        if (data.content.includes(\"Người lạ đã vào phòng\")) {\r\n                            const chatRoom = data.content.substr(data.content.indexOf(\"|\") + 1, data.content.length - 1);\r\n                            this.setChatRoomStranger(chatRoom)\r\n                            data.content = data.content.substr(0, data.content.indexOf(\"|\"));\r\n                            this.disableNewChat(false);\r\n                            this.disableFormInput(false);\r\n                            this.disableStopChat(false);\r\n                            // this.disableFormElements(\"form.input-div\", false);\r\n                            // this.stop = true; this.next = true;\r\n                        }\r\n                        if (data.content === 'Người lạ đã rời đi. Đang đợi người lạ kế tiếp ...') {\r\n                            // this.stop = false; this.next = false;\r\n                            // this.disableFormElements(\"form.input-div\", true);\r\n                            this.disableNewChat(true);\r\n                            this.disableFormInput(true);\r\n                            this.disableStopChat(false);\r\n                        }\r\n                        // console.log(data.name)\r\n                        this.messagesChatWithStranger.push({\r\n                            name: data.name,\r\n                            content: data.content,\r\n                            type: \"text\",\r\n                            createAt: data.createAt\r\n                        });\r\n                    });\r\n                    SocketioService.receiveMessageStranger((err, data) => {\r\n                        console.log(data);\r\n                        this.messagesChatWithStranger.push(data);\r\n                    });\r\n                }\r\n            }, 80);\r\n        },\r\n        sendMessageStranger(type) {\r\n            if(!type)   return;\r\n            \r\n            let message;\r\n            if (type === \"text\" && this.inputMessageTextChatWithStranger !== '') {\r\n                message = { content: this.inputMessageTextChatWithStranger, type: type };\r\n            }\r\n            if (type === 'image') {\r\n                message = { content: this.url, type: type };\r\n                this.url = ''\r\n            }\r\n            if(!message) return;\r\n            SocketioService.sendMessageStranger(message, cb => {\r\n                // callback is acknowledgement from server\r\n                console.log(cb);\r\n                this.messagesChatWithStranger.push({\r\n                    ...message,\r\n                    createAt: cb.createAt,\r\n                    name: \"Me\"\r\n                });\r\n                // clear the input after the message is sent\r\n                this.inputMessageTextChatWithStranger = '';\r\n            });\r\n        },\r\n        stopChatStranger() {\r\n            setTimeout(() => {\r\n                SocketioService.disconnectStranger();\r\n                this.messagesChatWithStranger.push({\r\n                    type: \"text\",\r\n                    createAt: this.getTime(),\r\n                    content: \"Bạn đã rời khỏi phòng !\",\r\n                    name: \"Bot\"\r\n                });\r\n                // this.disableFormElements(\"form.input-div\", true);\r\n                this.setChatRoomStranger('')\r\n                this.disableNewChat(false);\r\n                this.disableFormInput(true);\r\n                this.disableStopChat(true);\r\n                // clear the input after the message is sent\r\n                // this.stop = false; this.next = false;\r\n                this.inputMessageTextChatWithStranger = '';\r\n            }, 69)\r\n            this.messagesChatWithStranger = [];\r\n        },\r\n        // getTime() {\r\n        //     let today = new Date();\r\n        //     let date = today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();\r\n        //     let time = today.getHours() + \":\" + today.getMinutes();\r\n        //     let dateTime = time + ' ' + date;\r\n        //     return dateTime;\r\n        // },\r\n        getTime() {\r\n            var d = new Date();\r\n            var utc = d.getTime() + (d.getTimezoneOffset() * 60000); // UTC time\r\n            var offset = 7; // UTC +7 hours\r\n            var gmt7 = new Date(utc + (3600000 * (offset - d.getTimezoneOffset() / 60)));\r\n            return gmt7;\r\n            // let str = gmt7.toLocaleString('vi-VN', { timeZone: 'UTC' }).split(\" \");\r\n            // return str[0].substr(0,str[0].lastIndexOf(\":\")) + \" \" + str[1];\r\n        },\r\n        formatTime(time){\r\n            let str = time;\r\n            if(typeof time === \"string\"){\r\n                str = new Date(time);\r\n                // console.log(str.toLocaleString('vi-VN', { timeZone: 'UTC' }).split(\" \"));\r\n            }\r\n            str = str.toLocaleString('vi-VN', { timeZone: 'UTC' }).split(\" \");\r\n            // console.log(str)\r\n            return str[0].substr(0,str[0].lastIndexOf(\":\")) + \" \" + str[1];\r\n        },\r\n        setChatRoomStranger(roomName) {\r\n            useStore().setChatRoomStranger(roomName);\r\n        },\r\n        disableNewChat(bDisabled) {\r\n            document.querySelector('#btn-newChat').disabled = bDisabled;\r\n        },\r\n        disableFormInput(bDisabled) {\r\n            document.querySelector('#btn-sendImg').disabled = bDisabled;\r\n            document.querySelector('#btn-sendMess').disabled = bDisabled;\r\n            document.querySelector('#input-sendMess').disabled = bDisabled;\r\n        },\r\n        disableStopChat(bDisabled) {\r\n            document.querySelector('#btn-stopChat').disabled = bDisabled;\r\n        },\r\n        actionFriendRequest(data) {\r\n            SocketioService.actionFriendRequest(data)\r\n            // setTimeout(useStore().reloadData(),900);   \r\n        }\r\n    },\r\n    beforeUnmount() {\r\n        SocketioService.disconnectStranger();\r\n        SocketioService.disconnect();\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.introduce {\r\n    background-color: rgb(244, 239, 233);\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 30px;\r\n}\r\n\r\n;\r\n\r\n.introduce img {\r\n    max-width: 50vh;\r\n}\r\n\r\n.introduce h1 {\r\n    font-size: 100px;\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n    font-weight: 800;\r\n    color: #0091ff;\r\n    letter-spacing: 20px;\r\n    margin-top: -30px;\r\n}\r\n\r\n.introduce h2 {\r\n    margin-left: -20px;\r\n    margin-top: -20px;\r\n    font-size: 20px;\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n    font-weight: 800;\r\n    color: #0091ff;\r\n    /* letter-spacing: 10px; */\r\n}\r\n\r\n.no-chat-selected {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-weight: 800;\r\n    color: #0091ff;\r\n    font-size: 21px;\r\n    background-color: rgb(244, 239, 233);\r\n}\r\n\r\n.no-chat-selected img {\r\n    max-width: 200px;\r\n}\r\n\r\n.no-chat-selected p {\r\n    text-align: center;\r\n    margin-bottom: 0;\r\n}\r\n\r\n.content_header-right button {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 4px;\r\n    border-radius: 8px;\r\n}\r\n\r\n.content_header-right button i {\r\n    margin-right: 4px;\r\n}\r\n\r\n.chat-footer button {\r\n    border: none;\r\n    background-color: transparent;\r\n}\r\n</style>","import { render } from \"./Content.vue?vue&type=template&id=a6fd5982&scoped=true\"\nimport script from \"./Content.vue?vue&type=script&lang=js\"\nexport * from \"./Content.vue?vue&type=script&lang=js\"\n\nimport \"./Content.vue?vue&type=style&index=0&id=a6fd5982&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-a6fd5982\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=35e79318&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=35e79318&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-35e79318\"\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport 'bootstrap'\nimport './assets/main.css';\nimport { createPinia } from 'pinia';\n\ncreateApp(App).use(createPinia()).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Sidebar.vue?vue&type=style&index=0&id=8974a7ee&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/redi-chat.a3f95067.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Menu.vue?vue&type=style&index=0&id=502f5c76&scoped=true&lang=css\""],"sourceRoot":""}