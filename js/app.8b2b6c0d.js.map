{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Content.vue?c679","webpack:///./src/assets/redi.svg","webpack:///./src/components/Menu.vue?847e","webpack:///./src/components/Sidebar.vue?1f1e","webpack:///./src/assets/avatar-bot.png","webpack:///./src/assets/avatar-stranger.png","webpack:///./src/App.vue?9129","webpack:///./src/App.vue","webpack:///./src/components/Menu.vue","webpack:///./src/services/api.service.js","webpack:///./src/services/auth.service.js","webpack:///./src/services/user.service.js","webpack:///./src/stores/Store.js","webpack:///./src/services/socketio.service.js","webpack:///./src/components/Menu.vue?0885","webpack:///./src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?b6ad","webpack:///./src/components/Content.vue","webpack:///./src/components/Content.vue?ab32","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/funtions/reid.funtion.js","webpack:///./src/assets/redi-chat.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","style","id","role","aria-live","aria-atomic","type","data-bs-dismiss","aria-label","textNotify","tabindex","aria-labelledby","aria-hidden","data-bs-toggle","data-bs-target","aria-controls","aria-selected","disable","for","src","alt","href","clickCloseUpdateMenu","updateInfo","validation-schema","dataUpdateInfoFormSchema","ref","user","phone","disabled","dataUpdateInfo","fullName","openUploadModal","avatar","changePassword","dataChangePasswordFormSchema","dataChangePassword","currentPassword","password","confirmPassword","title","statusMenu","clickChatMenu","clickContactMenu","clickUpdateMenu","signOut","commonConfig","headers","Accept","baseURL","axios","AuthService","baseUrl","process","this","api","createApiClient","post","put","UserService","useStore","defineStore","state","statusSidebar","statusContent","chatRoomStranger","currentChatRoom","messages","_id","online","foundUserByPhone","sentFriendRequest","notifyText","flag","actions","setFoundUserByPhone","showNotify","text","clickContactsSidebar","clickRequestContactSidebar","chatWithStranger","switchChatContent","setChatRoomStranger","roomName","setInfoUser","token","toString","localStorage","setItem","changeOnlineStatus","roomID","chatRooms","reloadData","getItem","SocketioService","disconnect","verifyToken","userUpdated","message","setupSocketFriendConnection","receiveMessageFriend","err","seen","seenAllMessage","Redi","autoSrcollTop","forEach","chatRoom","index","lastMessageDate","createAt","lastMessage","console","log","setMessagesChatRoom","updateMessages","roomId","response","socketFriend","io","auth","on","emit","reason","cb","socketStranger","alert","components","Form","Field","ErrorMessage","store","shape","required","min","matches","max","oneOf","nameFileAvatar","watch","methods","url","confirm","removeItem","location","reload","setTimeout","$refs","formChangePassWord","resetForm","render","__scopeId","signUp","dataSignUpFormSchema","dataSignUp","signIn","dataSignInFormSchema","dataSignIn","findUser","placeholder","searchText","sender","fullNameFriend","openChatContent","content","includes","checkSearchByPhone","sendFriendRequest","mounted","processFormSignInSignUp","check","match","computed","chatRoomsString","x","map","owner","contacts","contact","removeAccents","join","stranger","filteredChatRooms","sort","compareFn","concat","filter","btnSign","document","querySelector","mdalSign","btnClose","querySelectorAll","btnLog","mdalLog","overlay","login","addEventListener","classList","add","btn","remove","loadContentChatRoom","room","address","formSignUp","meg","formSignIn","requestContact","findUserByPhone","formatTime","lastSeenMessage","sendMessageFriend","inputMessageText","connectSocketStranger","stopChatStranger","messagesChatWithStranger","sendMessageStranger","inputMessageTextChatWithStranger","actionFriendRequest","substr","lastIndexOf","eFormInput","eNewChat","eStopChat","newValue","oldValue","disableElements","deep","handler","cloudinary","createUploadWidget","cloud_name","upload_preset","maxImageFileSize","autoMinimize","sources","clientAllowedFormats","maxFiles","error","event","info","open","nextRoomStranger","setupSocketStrangerConnection","statusRoomStranger","indexOf","receiveMessageStranger","disconnectStranger","getTime","time","beforeUnmount","Menu","Sidebar","Content","toastLiveExample","getElementById","toast","Toast","show","createApp","App","use","createPinia","mount","selector","e","scrollTop","scrollHeight","Date","utc","getTimezoneOffset","offset","gmt7","str","toLocaleString","timeZone","split","selectors","eDisabled","toLowerCase","replace","a","b","component","callback","widget","original_filename","format","destroy","removeThumbnails","then"],"mappings":"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","file":"js/app.8b2b6c0d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Redi/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Content.vue?vue&type=style&index=0&id=3300e75f&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/redi.10f611f2.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Menu.vue?vue&type=style&index=0&id=5cb4f6e2&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Sidebar.vue?vue&type=style&index=0&id=2e2c2b5a&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/avatar-bot.c72e65e8.png\";","module.exports = __webpack_public_path__ + \"img/avatar-stranger.b0ed6063.png\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=6ab2c8c6&scoped=true&lang=css\"","<template>\n  <div class=\"App\">\n    <div class=\"layout_main\">\n      <Menu></Menu>\n      <Sidebar></Sidebar>\n      <Content></Content>\n    </div>\n\n    <div class=\"toast-container\" style=\"position: fixed; bottom: 60px; right: 10px;\">\n      <div id=\"liveToast\" class=\"toast align-items-center border-1\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n        <div class=\"d-flex\">\n          <div class=\"toast-body notify-success\">\n            {{ this.textNotify }}\n          </div>\n          <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\"\n            aria-label=\"Close\"></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Menu from './components/Menu.vue';\nimport Sidebar from './components/Sidebar.vue';\nimport Content from './components/Content.vue';\nimport bootstrap from 'bootstrap/dist/js/bootstrap';\nimport { useStore } from './stores/Store';\nimport { storeToRefs } from 'pinia'\nimport SocketioService from './services/socketio.service';\nexport default {\n  name: 'App',\n  components: {\n    Menu,\n    Sidebar,\n    Content\n  },\n  data() {\n    let store = useStore();\n    let { notifyText } = storeToRefs(store);\n    let { flag } = storeToRefs(store);\n    return {\n      notifyText,\n      flag,\n      textNotify: '',\n    };\n  },\n  watch: {\n    flag() {\n      this.textNotify = this.notifyText.toString();\n      this.showNotify();\n    }\n  },\n  methods: {\n    showNotify() {\n      const toastLiveExample = document.getElementById('liveToast')\n      const toast = new bootstrap.Toast(toastLiveExample);\n\n      toast.show();\n    },\n  },\n  beforeUnmount() {\n    SocketioService.disconnect();\n    SocketioService.disconnectStranger();\n  }\n}\n</script>\n\n<style scoped>\n#liveToast {\n  background-color: #0091ff;\n  width: max-content;\n}\n\n.notify-success {\n  color: #fff;\n  font-size: 20px;\n  padding: 10px;\n  word-spacing: normal;\n}\n</style>","<template>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog  modal-dialog-centered modal-dialog-scrollable\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\" style=\"align-items: center;\">Cập nhật thông tin</h1>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                        @click=\"clickCloseUpdateMenu()\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <ul class=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <button class=\"nav-link active\" id=\"pills-home-tab\" data-bs-toggle=\"pill\"\r\n                                data-bs-target=\"#pills-home\" type=\"button\" role=\"tab\" aria-controls=\"pills-home\"\r\n                                aria-selected=\"true\">Cập nhật thông tin cơ bản</button>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <button class=\"nav-link\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\"\r\n                                data-bs-target=\"#pills-profile\" type=\"button\" role=\"tab\" aria-controls=\"pills-profile\"\r\n                                aria-selected=\"false\">Đổi mật khẩu</button>\r\n                        </li>\r\n                    </ul>\r\n                    <div class=\"tab-content\" id=\"pills-tabContent\">\r\n                        <div class=\"tab-pane fade show active\" id=\"pills-home\" role=\"tabpanel\"\r\n                            aria-labelledby=\"pills-home-tab\" tabindex=\"0\">\r\n                            <Form @submit=\"updateInfo()\" :validation-schema=\"dataUpdateInfoFormSchema\" class=\"form-sign\"\r\n                                ref=\"formUpdateInfo\">\r\n                                <div class=\"form-group\" disable>\r\n                                    <label for=\"phone\">Số điện thoại</label>\r\n                                    <input type=\"text\" name=\"\" id=\"phone\" :value=\"this.user.phone\" class=\"form-control\"\r\n                                        disabled>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"fullName\">Họ và tên</label>\r\n                                    <Field name=\"fullName\" type=\"text\" class=\"form-control\"\r\n                                        v-model=\"dataUpdateInfo.fullName\" />\r\n                                    <ErrorMessage name=\"fullName\" class=\"error-feedback\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label>Ảnh đại diện: </label>\r\n                                    <button type=\"button\" @click=\"openUploadModal()\">\r\n                                        {{ (this.dataUpdateInfo.avatar === '') ? \"Upload ảnh làm ảnh đại diện.\" :\r\n                                            this.nameFileAvatar }}\r\n                                    </button>\r\n                                </div>\r\n                                <button class=\"btn btn-signup\">Cập nhật</button>\r\n                            </Form>\r\n                        </div>\r\n                        <div class=\"tab-pane fade\" id=\"pills-profile\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\"\r\n                            tabindex=\"0\">\r\n                            <Form @submit=\"changePassword()\" :validation-schema=\"dataChangePasswordFormSchema\"\r\n                                class=\"form-sign\" ref=\"formChangePassWord\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"currentPassword\">Mật khẩu hiện tại</label>\r\n                                    <Field name=\"currentPassword\" type=\"password\" class=\"form-control\"\r\n                                        v-model=\"dataChangePassword.currentPassword\" />\r\n                                    <ErrorMessage name=\"currentPassword\" class=\"error-feedback\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"password\">Mật Khẩu mới</label>\r\n                                    <Field name=\"password\" type=\"password\" class=\"form-control\"\r\n                                        v-model=\"dataChangePassword.password\" />\r\n                                    <ErrorMessage name=\"password\" class=\"error-feedback\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"confirmPassword\">Xác nhận lại mật khẩu mới</label>\r\n                                    <Field name=\"confirmPassword\" type=\"password\" class=\"form-control\"\r\n                                        v-model=\"dataChangePassword.confirmPassword\" />\r\n                                    <ErrorMessage name=\"confirmPassword\" class=\"error-feedback\" />\r\n                                </div>\r\n                                <button class=\"btn btn-signup\">Cập nhật</button>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <ul class=\"menu\">\r\n        <li class=\"menu_item\">\r\n            <div class=\"menu_avatar\" :title=this.user.fullName href=\"#\">\r\n                <img :src=this.user.avatar alt=\"avatar\" v-if=\"statusMenu !== 'notSignIn'\" />\r\n                <img src=\"../assets/redi.svg\" alt=\"avatar\" v-else />\r\n            </div>\r\n        </li>\r\n        <li @click=\"clickChatMenu()\" :class=\"[(statusMenu === 'chat' || statusMenu === 'notSignIn') ? 'active' : '']\"\r\n            class=\"menu_item\">\r\n            <div class=\"icon-message\" href=\"#\"><i class=\"bx bxs-message-rounded-dots\"></i></div>\r\n        </li>\r\n        <li @click=\"clickContactMenu()\" class=\"menu_item\" :class=\"[(statusMenu === 'contacts') ? 'active' : '']\"\r\n            v-if=\"statusMenu !== 'notSignIn'\">\r\n            <a class=\"icon-message\"><i class=\"bx bxs-contact\"></i></a>\r\n        </li>\r\n        <li @click=\"clickUpdateMenu()\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" class=\"menu_item\"\r\n            :class=\"[(statusMenu === 'update') ? 'active' : '']\" v-if=\"statusMenu !== 'notSignIn'\">\r\n            <a class=\"icon-message\"><i class=\"fa-sharp fa-solid fa-square-pen\"></i></a>\r\n        </li>\r\n        <li class=\"menu_item menu_item-logout\" v-if=\"statusMenu !== 'notSignIn'\" @click=\"signOut()\">\r\n            <div class=\"icon-message\"><i class=\"fa-solid fa-right-from-bracket\"></i></div>\r\n        </li>\r\n    </ul>\r\n</template>\r\n  \r\n<script>\r\nimport SocketioService from '../services/socketio.service.js';\r\nimport { useStore } from '../stores/Store';\r\nimport { storeToRefs } from 'pinia'\r\nimport * as yup from \"yup\";\r\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\r\nimport AuthService from '../services/auth.service.js';\r\nimport Redi from '../funtions/reid.funtion'\r\nexport default {\r\n    name: 'Menu',\r\n    components: {\r\n        Form,\r\n        Field,\r\n        ErrorMessage,\r\n    },\r\n    data() {\r\n        let store = useStore();\r\n        const { statusMenu } = storeToRefs(store);\r\n        const { user } = storeToRefs(store);\r\n        const dataUpdateInfoFormSchema = yup.object().shape({\r\n            fullName: yup\r\n                .string()\r\n                .required(\"Họ và tên phải có giá trị.\")\r\n                .min(8, \"Họ và tên phải ít nhất 8 ký tự.\")\r\n                .matches('[a-zA-Z]', \"Họ và tên phải ít một ký tự chữ cái.\")\r\n                .max(50, \"Họ và tên có nhiều nhất 50 ký tự.\"),\r\n        });\r\n\r\n        const dataChangePasswordFormSchema = yup.object().shape({\r\n            currentPassword: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            password: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            confirmPassword: yup.string().oneOf([yup.ref('password'), null], 'Mật khẩu phải trùng khớp.')\r\n        });\r\n        return {\r\n            statusMenu,\r\n            user,\r\n            dataChangePasswordFormSchema,\r\n            dataUpdateInfoFormSchema,\r\n            dataUpdateInfo: {\r\n                fullName: \"\",\r\n                avatar: \"\"\r\n            },\r\n            dataChangePassword: {\r\n                currentPassword: \"\",\r\n                password: \"\",\r\n                confirmPassword: \"\"\r\n            },\r\n            nameFileAvatar: \"\"\r\n        };\r\n    },\r\n    watch: {\r\n        user() {\r\n            this.dataUpdateInfo.fullName = this.user.fullName\r\n        }\r\n    },\r\n    methods: {\r\n        openUploadModal() {\r\n            Redi.openUploadModal('Menu', (data) => {\r\n                this.nameFileAvatar = data.nameFileAvatar\r\n                this.dataUpdateInfo.avatar = data.url\r\n            })\r\n        },\r\n        clickContactMenu() {\r\n            useStore().clickContactMenu();\r\n        },\r\n        clickUpdateMenu() {\r\n            useStore().clickUpdateMenu();\r\n        },\r\n        clickChatMenu() {\r\n            if (this.statusMenu !== 'notSignIn') {\r\n                useStore().clickChatMenu();\r\n            } else {\r\n                alert(\"Bạn phải đăng nhập để thực hiện chức năng này !\");\r\n            }\r\n        },\r\n        clickCloseUpdateMenu() {\r\n            useStore().clickCloseUpdateMenu();\r\n        },\r\n        async signOut() {\r\n            try {\r\n                if (confirm(\"Bạn muốn đăng xuất khỏi tài khoản này ?\")) {\r\n                    await AuthService.signOut({ phone: this.user.phone });\r\n                    SocketioService.disconnect()\r\n                    localStorage.removeItem('token');\r\n                    useStore().signOut();\r\n                    location.reload();\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        },\r\n        async updateInfo() {\r\n            if (this.dataUpdateInfo.avatar !== \"\" || this.dataUpdateInfo.fullName !== this.user.fullName) {\r\n                if (this.dataUpdateInfo.avatar === \"\") {\r\n                    this.dataUpdateInfo.avatar = this.user.avatar;\r\n                    this.nameFileAvatar = \"Ảnh đại diện hiện tại.\"\r\n                }\r\n                await useStore().updateInfo({ ...this.dataUpdateInfo, \"_id\": this.user._id });\r\n                this.user.avatar = this.dataUpdateInfo.avatar;\r\n                this.dataUpdateInfo.avatar = \"\";\r\n            } else {\r\n                alert(\"Không có thông tin mới để cập nhật !\");\r\n            }\r\n        },\r\n        async changePassword() {\r\n            await useStore().changePassword({ ...this.dataChangePassword, \"_id\": this.user._id });\r\n            setTimeout(this.$refs.formChangePassWord.resetForm, 50);\r\n            this.dataChangePassword = {\r\n                currentPassword: \"\",\r\n                password: \"\",\r\n                confirmPassword: \"\"\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nform,\r\nform * {\r\n    width: 100%;\r\n}\r\n\r\n.form-group {\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.form-control {\r\n    outline: none;\r\n    border: 1px solid black;\r\n    border-radius: 5px;\r\n    padding: 5px 10px;\r\n    font-size: 18px;\r\n}\r\n\r\n.error-feedback {\r\n    font-size: 13px;\r\n    color: red;\r\n}\r\n\r\n#btn-requestContact {\r\n    width: 120px;\r\n    background-color: #0091ff;\r\n    border: none;\r\n    color: white;\r\n    border-radius: 3px;\r\n    padding: 8px 3px;\r\n}\r\n</style>","import axios from \"axios\";\r\nconst commonConfig = {\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n    },\r\n};\r\nexport default (baseURL) => {\r\n    return axios.create({\r\n        baseURL,\r\n        ...commonConfig,\r\n    });\r\n};","import createApiClient from \"./api.service\";\r\nclass AuthService {\r\n    constructor(baseUrl = process.env.VUE_APP_SOCKET_ENDPOINT_AUTH) {\r\n        this.api = createApiClient(baseUrl);\r\n    }\r\n    async signIn(data) {\r\n        return (await this.api.post(\"/signin\", data)).data;\r\n    }\r\n    async signUp(data) {\r\n        return (await this.api.post(\"/signup\", data)).data;\r\n    }\r\n    async signOut(data){\r\n        return (await this.api.put(\"/signout\", data)).data;\r\n    }\r\n    async verifyToken(data) {\r\n        return (await this.api.post(\"/getinfo\", data)).data;\r\n    }\r\n}\r\nexport default new AuthService();","import createApiClient from \"./api.service\";\r\nclass UserService {\r\n    constructor(baseUrl = process.env.VUE_APP_SOCKET_ENDPOINT_AUTH) {\r\n        this.api = createApiClient(baseUrl);\r\n    }\r\n    async updateInfo(data) {\r\n        return (await this.api.put(\"/updateinfo\", data)).data;\r\n    }\r\n    async changePassword(data) {\r\n        return (await this.api.put(\"/changepassword\", data)).data;\r\n    }\r\n}\r\nexport default new UserService();","import { defineStore } from \"pinia\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport UserService from \"../services/user.service\";\r\nimport SocketioService from \"../services/socketio.service\";\r\nimport Redi from '../funtions/reid.funtion'\r\n\r\nexport const useStore = defineStore(\"store\", {\r\n    state: () => {\r\n        return {\r\n            statusMenu: \"notSignIn\",\r\n            statusSidebar: \"notSignIn\",\r\n            statusContent: \"notSignIn\",\r\n            chatRoomStranger: '',\r\n            user: {\r\n                '_id': '',\r\n                'phone': '',\r\n                'fullName': '',\r\n                'avatar': '',\r\n                'requestContact': [],\r\n                'contacts': [],\r\n                'chatRooms': [],\r\n                'token': ''\r\n            },\r\n            currentChatRoom: {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n                online: false\r\n            },\r\n            foundUserByPhone: {\r\n                fullName: \"\",\r\n                _id: \"\",\r\n                avatar: \"\",\r\n                phone: \"\",\r\n                sentFriendRequest: false\r\n            },\r\n            notifyText: \"\",\r\n            flag: 0\r\n        }\r\n    },\r\n    actions: {\r\n        setFoundUserByPhone(foundUserByPhone) {\r\n            this.foundUserByPhone = foundUserByPhone;\r\n        },\r\n        showNotify(text) {\r\n            this.flag = 1 - this.flag;\r\n            this.notifyText = text;\r\n        },\r\n        clickContactMenu() {\r\n            this.statusMenu = 'contacts'\r\n            this.statusSidebar = 'contacts';\r\n            this.statusContent = 'contacts';\r\n            this.currentChatRoom = {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n            }\r\n        },\r\n        clickChatMenu() {\r\n            this.statusMenu = 'chat'\r\n            this.statusSidebar = 'chat';\r\n            this.statusContent = 'noChatSelected';\r\n        },\r\n        clickContactsSidebar() {\r\n            this.statusMenu = 'contacts'\r\n            this.statusSidebar = 'contacts';\r\n            this.statusContent = 'contacts';\r\n        },\r\n        clickRequestContactSidebar() {\r\n            this.statusMenu = 'contacts'\r\n            this.statusSidebar = 'requestContact';\r\n            this.statusContent = 'requestContact';\r\n        },\r\n        clickUpdateMenu() {\r\n            this.statusMenu = 'update'\r\n        },\r\n        clickCloseUpdateMenu() {\r\n            if (this.statusSidebar === 'chat') {\r\n                this.statusMenu = 'chat'\r\n            } else {\r\n                this.statusMenu = 'contacts'\r\n            }\r\n        },\r\n        signOut() {\r\n            this.statusMenu = 'notSignIn'\r\n            this.statusSidebar = 'notSignIn';\r\n            this.statusContent = 'notSignIn';\r\n            this.user = {\r\n                '_id': '',\r\n                'phone': '',\r\n                'fullName': '',\r\n                'avatar': '',\r\n                'requestContact': [],\r\n                'contacts': [],\r\n                'chatRooms': [],\r\n                'token': ''\r\n            };\r\n            this.currentChatRoom = {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n            }\r\n        },\r\n        chatWithStranger() {\r\n            this.statusContent = 'chatWithStranger';\r\n        },\r\n        switchChatContent() {\r\n            this.statusContent = 'chat';\r\n        },\r\n        setChatRoomStranger(roomName) {\r\n            this.chatRoomStranger = roomName;\r\n        },\r\n        setInfoUser(data) {\r\n            this.user = data\r\n            this.user.token = this.user.token.toString();\r\n            localStorage.setItem('token', data.token);\r\n        },\r\n        changeOnlineStatus(roomID, online) {\r\n            const length = this.user.chatRooms.length;\r\n            if (roomID === this.currentChatRoom._id)\r\n                this.currentChatRoom.online = online;\r\n\r\n            for (let i = 0; i < length; i++) {\r\n                if (this.user.chatRooms[i]._id === roomID) {\r\n                    this.user.chatRooms[i].online = online;\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n        async reloadData() {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                if (token) {\r\n                    SocketioService.disconnect();\r\n                    const userUpdated = await AuthService.verifyToken({ token: token });\r\n                    if (userUpdated) {\r\n                        this.user = userUpdated.message;\r\n                    }\r\n                    SocketioService.setupSocketFriendConnection(this.user.token, this.user.phone);\r\n                    SocketioService.receiveMessageFriend((err, data) => {\r\n                        // console.log(data);\r\n                        if (data.roomID === this.currentChatRoom._id) {\r\n                            data.seen = true\r\n                            this.currentChatRoom.messages.push(data);\r\n                            SocketioService.seenAllMessage(this.currentChatRoom._id);\r\n                            Redi.autoSrcollTop(\".content_body\");\r\n                        }\r\n                        this.user.chatRooms.forEach((chatRoom, index) => {\r\n                            if (data.roomID === chatRoom._id) {\r\n                                this.user.chatRooms[index].lastMessageDate = data.createAt;\r\n                                this.user.chatRooms[index].lastMessage = data;\r\n                                return\r\n                            }\r\n                        })\r\n                    });\r\n\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        },\r\n        setMessagesChatRoom(messages) {\r\n            this.currentChatRoom.messages = messages;\r\n            Redi.autoSrcollTop(\".content_body\");\r\n        },\r\n        updateMessages(roomId) {\r\n            // console.log(\"updateMessages\");\r\n            if (this.currentChatRoom._id === roomId) {\r\n                // console.log(\"updating Messages\");\r\n                this.currentChatRoom.messages.forEach(message => {\r\n                    if (!message.seen) {\r\n                        message.seen = true;\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        async updateInfo(data) {\r\n            try {\r\n                await UserService.updateInfo(data);\r\n                this.user.fullName = data.fullName;\r\n                this.user.avatar = data.avatar;\r\n                this.showNotify(\"Cập nhật thông tin cơ bản thành công !\");\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n\r\n        async changePassword(data) {\r\n            try {\r\n                await UserService.changePassword(data);\r\n                this.showNotify(\"Cập nhật mật khẩu thành công !\");\r\n            } catch (error) {\r\n                this.showNotify(error.response.data.message)\r\n            }\r\n        }\r\n    }\r\n})","import { io } from 'socket.io-client';\nimport { useStore } from '../stores/Store';\n\nclass SocketioService {\n  socketStranger;\n  socketFriend;\n  chatRoom ='';\n\n  setupSocketFriendConnection(token, phone) {\n    this.socketFriend = io(process.env.VUE_APP_SOCKET_ENDPOINT_CHAT_WITH_FRIEND, {\n      auth: {\n        token,\n      },\n    });\n    \n    console.log(`Connecting socket friend...`);\n    // console.log(`socketFriend`, this.socketFriend);\n    this.socketFriend.on('onlineStatus', data => {\n      useStore().changeOnlineStatus(data.roomID, data.online);\n    })\n\n    this.socketFriend.emit('sendUser', phone)\n\n    this.socketFriend.on('message',data => {\n      useStore().reloadData();\n      useStore().showNotify(data);\n      // console.log(\"message\",data);\n    })\n\n    this.socketFriend.on('updateMessages', (roomId) => {\n      useStore().updateMessages(roomId);\n    });\n\n    this.socketFriend.on('receiveContentChatRoom', (messages) => {\n      // console.log(messages);\n      // lưu data vào Pinia\n      useStore().setMessagesChatRoom(messages);\n    });\n\n    this.socketFriend.on(\"disconnect\", (reason) => {\n      if (reason === \"transport close\" || reason === \"ping timeout\" || reason === \"transport error\") {\n        // the disconnection was initiated by the server, you need to reconnect manually\n        console.log(\"[Socket Friend]Bị mất kết nối do: \"+reason);\n        useStore().reloadData();\n      }\n      // else the socket will automatically try to reconnect\n    });\n  }\n\n  loadContentChatRoom(roomID){\n    this.socketFriend.emit(\"loadContentChatRoom\", roomID)\n  }\n\n  findUserByPhone(phone){\n    this.socketFriend.emit('findUser',phone);\n    this.socketFriend.on('foundUser', data => {\n      // console.log('foundUser',data)\n      useStore().setFoundUserByPhone(data);\n    })\n  }\n\n  actionFriendRequest(data){\n    this.socketFriend.emit('actionFriendRequest', data);\n  }\n\n  sendFriendRequest(data){\n    this.socketFriend.emit('sendFriendRequest',data);\n  }\n\n  receiveMessageFriend(cb){\n    if(!this.socketFriend) return true;\n    // console.log(\"receiveMessageFriend\")\n    this.socketFriend.on(\"receiveMessageFriend\", data => {\n      return cb(null, data);\n    })\n  }\n\n  sendMessageFriend(message, cb) {\n    // console.log(message);\n    if(this.socketFriend) this.socketFriend.emit('sendMessageFriend',message,cb);\n  }\n\n  seenAllMessage(roomId){\n    // console.log(\"seenAllMessage\")\n    if(this.socketFriend) this.socketFriend.emit('seenAllMessage',roomId);\n  }\n\n  disconnect() {\n    if(this.socketFriend) {\n      this.socketFriend.disconnect();\n    }\n  }\n\n  setupSocketStrangerConnection() {\n    this.socketStranger = io(process.env.VUE_APP_SOCKET_ENDPOINT_CHAT_WITH_STRANGER);\n    console.log(`Connecting socket stranger...`);\n\n    this.socketStranger.on(\"disconnect\", (reason) => {\n      if (reason === \"ping timeout\" || reason === \"transport error\" || reason === \"transport close\") {\n        // the disconnection was initiated by the server, you need to reconnect manually\n        console.log(\"[Socket Stranger]Bị mất kết nối do: \"+reason);\n        alert(\"Phòng nhắn tin bị đóng do internet không ổn định !\")\n        this.socketStranger.disconnect();\n      }\n      // else the socket will automatically try to reconnect\n    });\n  }\n\n  receiveMessageStranger(cb){\n    if(!this.socketStranger) return true;\n    this.socketStranger.on(\"receiveMessageStranger\", data => {\n      return cb(null, {\n        ...data,\n        name: \"Người lạ\",\n      });\n    })\n  }\n\n  statusRoomStranger(cb){\n    if(!this.socketStranger) return true;\n    this.socketStranger.on(\"statusRoomStranger\", message => {\n      return cb(null, {...message, name: \"Bot\"});\n    })\n  }\n\n  nextRoomStranger(chatRoom){\n      this.socketStranger.emit(\"nextRoomStranger\",chatRoom);\n    // console.log(\"id\",this.socketStranger.id);\n  }\n\n  sendMessageStranger(message, cb) {\n    if(this.socketStranger) this.socketStranger.emit('sendMessageStranger',message,cb);\n  }\n  \n  disconnectStranger() {\n    if(this.socketStranger) {\n      this.socketStranger.disconnect();\n    }\n  }\n}\n\nexport default new SocketioService();","import { render } from \"./Menu.vue?vue&type=template&id=5cb4f6e2&scoped=true\"\nimport script from \"./Menu.vue?vue&type=script&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&lang=js\"\n\nimport \"./Menu.vue?vue&type=style&index=0&id=5cb4f6e2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5cb4f6e2\"\n\nexport default script","<template>\r\n    <div class=\"overlay\"></div>\r\n    <!-- modal form sign up -->\r\n    <div class=\"modal_form-sign\">\r\n        <div class=\"modal_form-sign-heading\">\r\n            <h1>Đăng Ký</h1>\r\n        </div>\r\n        <div class=\"icon-close\">\r\n            <i class=\"bx bx-x\"></i>\r\n        </div>\r\n        <Form @submit=\"signUp()\" :validation-schema=\"dataSignUpFormSchema\" class=\"form-sign\" ref=\"formSignUp\">\r\n            <div class=\"form-group\">\r\n                <label for=\"fullName\">Họ và tên</label>\r\n                <Field name=\"fullName\" type=\"text\" class=\"form-control\" v-model=\"dataSignUp.fullName\" />\r\n                <ErrorMessage name=\"fullName\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"phone\">Điện thoại</label>\r\n                <Field name=\"phone\" type=\"tel\" class=\"form-control\" v-model=\"dataSignUp.phone\" />\r\n                <ErrorMessage name=\"phone\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"password\">Mật Khẩu</label>\r\n                <Field name=\"password\" type=\"password\" class=\"form-control\" v-model=\"dataSignUp.password\" />\r\n                <ErrorMessage name=\"password\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"confirmPassword\">Xác nhận lại mật khẩu</label>\r\n                <Field name=\"confirmPassword\" type=\"password\" class=\"form-control\" v-model=\"dataSignUp.confirmPassword\" />\r\n                <ErrorMessage name=\"confirmPassword\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label>Ảnh đại diện: </label>\r\n                <button type=\"button\" @click=\"openUploadModal()\">\r\n                    {{ (this.dataSignUp.avatar === '') ? \"Upload ảnh làm ảnh đại diện.\" : this.nameFileAvatar }}\r\n                </button>\r\n            </div>\r\n            <button class=\"btn btn-signup\">Đăng ký</button>\r\n            <div class=\"login-signup\">\r\n                <span class=\"text\">Đã có tài khoản</span>\r\n                <span href=\"#\" class=\"text login-link\">Đăng nhập</span>\r\n            </div>\r\n        </Form>\r\n\r\n        <!-- </form>  -->\r\n    </div>\r\n    <!-- modal form sign in -->\r\n    <div class=\"modal_form-login\">\r\n        <div class=\"modal_form-sign-heading\">\r\n            <h1>Đăng Nhập</h1>\r\n        </div>\r\n        <div class=\"icon-close\">\r\n            <i class=\"bx bx-x\"></i>\r\n        </div>\r\n        <Form @submit=\"signIn()\" :validation-schema=\"dataSignInFormSchema\" class=\"form-sign\" ref=\"formSignIn\">\r\n            <div class=\"form-group\">\r\n                <label for=\"phone\">Điện thoại</label>\r\n                <Field name=\"phone\" type=\"tel\" class=\"form-control\" v-model=\"dataSignIn.phone\" />\r\n                <ErrorMessage name=\"phone\" class=\"error-feedback\" />\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label for=\"password\">Mật Khẩu</label>\r\n                <Field name=\"password\" type=\"password\" class=\"form-control\" v-model=\"dataSignIn.password\" />\r\n                <ErrorMessage name=\"password\" class=\"error-feedback\" />\r\n            </div>\r\n            <button class=\"btn btn-signup\">Đăng nhập</button>\r\n            <div class=\"login-signup\">\r\n                <span class=\"text\">Bạn chưa có tài khoản? Hãy chọn</span>\r\n                <span class=\"text signup-link\">Đăng ký</span>\r\n            </div>\r\n        </Form>\r\n    </div>\r\n\r\n    <div class=\"sidebar\">\r\n        <div class=\"sidebar_list\">\r\n            <div class=\"sidebar_item-search\" v-if=\"statusSidebar !== 'notSignIn'\">\r\n                <form @submit.prevent=\"this.findUser()\">\r\n                    <input type=\"text\" placeholder=\"Tìm kiếm\" v-model=\"this.searchText\" />\r\n                </form>\r\n                <i class=\"bx bx-search\"></i>\r\n            </div>\r\n\r\n            <template v-if=\"statusSidebar === 'notSignIn' || statusSidebar === 'chat'\">\r\n                <template v-for=\"(chatRoom, index) in this.chatRooms\" :key=\"index\">\r\n                    <div class=\"sidebar_item\" :title=chatRoom.fullNameFriend @click=\"openChatContent(chatRoom)\"\r\n                        :class=\"[(chatRoom._id === this.currentChatRoom._id) ? 'active' : '', (chatRoom.lastMessage) ? (!chatRoom.lastMessage.seen && chatRoom.lastMessage.sender !== this.user._id ? 'new' : '') : '']\">\r\n                        <img :src=chatRoom.avatar alt=\"\" />\r\n                        <i class=\"fa-solid fa-circle\" v-if=\"chatRoom.online\"></i>\r\n                        <div class=\"sidebar_content\">\r\n                            <h3 class=\"sidebar_name\">{{ chatRoom.fullNameFriend }}</h3>\r\n                            <template v-if=\"chatRoom.lastMessage\">\r\n                                <span class=\"sidebar_message\" v-if=\"chatRoom.lastMessage.type === 'image'\">Hình ảnh</span>\r\n                                <span class=\"sidebar_message\" v-else>{{ chatRoom.lastMessage.content }}</span>\r\n                            </template>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n\r\n            </template>\r\n\r\n            <!-- SignUp - SignIn Button -->\r\n            <div class=\"content_body-signup\" v-show=\"statusSidebar === 'notSignIn'\">\r\n                <button href=\"#\" class=\"btn btn-sign\" id=\"open-form-dangnhap1\">Đăng Ký</button>\r\n                <button href=\"#\" class=\"btn btn-log\">Đăng Nhập</button>\r\n                <div class=\"note\">\r\n                    *Bằng cách bấm vào phần \"Người lạ\", bạn có thể trò chuyện ngay với người lạ mà không cần Đăng nhập.\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Contacts -->\r\n            <template v-if=\"statusSidebar.includes('ontact') && !this.checkSearchByPhone\">\r\n                <div @click=\"clickContactsSidebar()\">\r\n                    <div class=\"sidebar_item\" :class=\"[(statusSidebar === 'contacts') ? 'active' : '']\">\r\n                        <i class=\"bx bxs-group\"></i>\r\n                        <div class=\"sidebar_content\">\r\n                            <h3 class=\"sidebar_name\">Danh sách bạn bè</h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div @click=\"clickRequestContactSidebar() && !this.checkSearchByPhone\">\r\n                    <div class=\"sidebar_item\" :class=\"[(statusSidebar === 'requestContact') ? 'active' : '']\">\r\n                        <i class=\"bx bxs-user-plus\"></i>\r\n                        <div class=\"sidebar_content\">\r\n                            <h3 class=\"sidebar_name\">Danh sách kết bạn</h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n\r\n\r\n            <div class=\"sidebar_item\" :title=this.foundUserByPhone.fullName\r\n                v-if=\"this.foundUserByPhone.fullName && this.chatRooms.length < 1\">\r\n                <img :src=this.foundUserByPhone.avatar alt=\"\" />\r\n                <div class=\"sidebar_content\">\r\n                    <h3 class=\"sidebar_name\">{{ this.foundUserByPhone.fullName }}</h3>\r\n                </div>\r\n                <button id=\"btn-requestContact\" @click=\"sendFriendRequest()\"\r\n                    v-if=\"!this.foundUserByPhone.sentFriendRequest\">\r\n                    Kết bạn\r\n                </button>\r\n                <button id=\"btn-requestContact\" disabled v-else>\r\n                    Đã gửi lời mời kết bạn\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n  \r\n<script lang=\"js\">\r\nimport * as yup from \"yup\";\r\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\r\nimport AuthService from \"../services/auth.service\"\r\nimport SocketioService from \"../services/socketio.service\";\r\nimport { useStore } from '../stores/Store';\r\nimport { storeToRefs } from 'pinia';\r\nimport Redi from '../funtions/reid.funtion'\r\nexport default {\r\n    name: 'Sidebar',\r\n    components: {\r\n        Form,\r\n        Field,\r\n        ErrorMessage,\r\n    },\r\n    mounted() {\r\n        this.processFormSignInSignUp()\r\n        this.verifyToken()\r\n    },\r\n    data() {\r\n        let store = useStore();\r\n        const { statusSidebar } = storeToRefs(store);\r\n        const { statusContent } = storeToRefs(store);\r\n        const { statusMenu } = storeToRefs(store);\r\n        const { user } = storeToRefs(store);\r\n        const { currentChatRoom } = storeToRefs(store);\r\n        const { foundUserByPhone } = storeToRefs(store);\r\n        const dataSignUpFormSchema = yup.object().shape({\r\n            fullName: yup\r\n                .string()\r\n                .required(\"Họ và tên phải có giá trị.\")\r\n                .min(8, \"Họ và tên phải ít nhất 8 ký tự.\")\r\n                .matches('[a-zA-Z]', \"Họ và tên phải ít một ký tự chữ cái.\")\r\n                .max(50, \"Họ và tên có nhiều nhất 50 ký tự.\"),\r\n            password: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            phone: yup\r\n                .string()\r\n                .matches(\r\n                    /((09|03|07|08|05)+([0-9]{8})\\b)/g,\r\n                    \"Số điện thoại không hợp lệ.\"\r\n                ),\r\n            confirmPassword: yup.string().oneOf([yup.ref('password'), null], 'Mật khẩu phải trùng khớp.')\r\n        });\r\n\r\n        const dataSignInFormSchema = yup.object().shape({\r\n            password: yup\r\n                .string()\r\n                .required(\"Mật khẩu phải có giá trị.\")\r\n                .min(8, \"Mật khẩu phải ít nhất 8 ký tự.\"),\r\n            phone: yup\r\n                .string()\r\n                .matches(\r\n                    /((09|03|07|08|05)+([0-9]{8})\\b)/g,\r\n                    \"Số điện thoại không hợp lệ.\"\r\n                ),\r\n        });\r\n        return {\r\n            statusSidebar,\r\n            statusContent,\r\n            statusMenu,\r\n            dataSignUp: {\r\n                phone: \"\",\r\n                password: \"\",\r\n                fullName: \"\",\r\n                confirmPassword: \"\",\r\n                avatar: \"\"\r\n            },\r\n            dataSignIn: {\r\n                phone: \"\",\r\n                password: \"\",\r\n            },\r\n            dataSignUpFormSchema,\r\n            dataSignInFormSchema,\r\n            nameFileAvatar: '',\r\n            user,\r\n            searchText: '',\r\n            currentChatRoom,\r\n            foundUserByPhone,\r\n            checkSearchByPhone: false\r\n        };\r\n    },\r\n    watch: {\r\n        searchText() {\r\n            let check = this.searchText.match(/((09|03|07|08|05)+([0-9]{8})\\b)/);\r\n            if (!check) {\r\n                this.foundUserByPhone = {\r\n                    fullName: \"\",\r\n                    _id: \"\",\r\n                    avatar: \"\",\r\n                    phone: \"\",\r\n                    sentFriendRequest: false\r\n                }\r\n                this.checkSearchByPhone = false\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        chatRoomsString() {\r\n            let x = this.user.chatRooms.map(chatRoom => {\r\n                if (chatRoom._id === \"000\") return \"\";\r\n                // console.log(chatRoom.owner)\r\n                const id = (chatRoom.owner[0] === this.user._id) ? chatRoom.owner[1] : chatRoom.owner[0];\r\n                let phone;\r\n                this.user.contacts.forEach(contact => {\r\n                    if (id === contact._id) {\r\n                        phone = contact.phone;\r\n                    }\r\n                })\r\n                return [phone, Redi.removeAccents(chatRoom.fullNameFriend)].join(\"\");\r\n            })\r\n            // console.log(x);\r\n            return x;\r\n        },\r\n        chatRooms() {\r\n            if (this.searchText === \"\") {\r\n                let stranger = {\r\n                    _id: \"000\",\r\n                    owner: [],\r\n                    lastMessageDate: \"0:0 0-0-0\",\r\n                    fullNameFriend: \"Người lạ\",\r\n                    avatar: \"http://res.cloudinary.com/dwnunieno/image/upload/v1679058005/sdrdzt5t2bhs5lvgsflj.png\",\r\n                    online: false\r\n                };\r\n                let filteredChatRooms = this.user.chatRooms;\r\n                filteredChatRooms.sort(Redi.compareFn);\r\n                return [stranger].concat(filteredChatRooms);\r\n            } else {\r\n                let searchText = Redi.removeAccents(this.searchText);\r\n                let filteredChatRooms = this.user.chatRooms.filter((chatRoom, index) => {\r\n                    return this.chatRoomsString[index].includes(searchText);\r\n                }).sort(Redi.compareFn);\r\n                return filteredChatRooms;\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        processFormSignInSignUp() {\r\n            const btnSign = document.querySelector(\".btn-sign\");\r\n            const mdalSign = document.querySelector(\".modal_form-sign\");\r\n            const btnClose = document.querySelectorAll(\".icon-close\");\r\n            const btnLog = document.querySelector(\".btn-log\");\r\n            const mdalLog = document.querySelector(\".modal_form-login\");\r\n            const overlay = document.querySelector(\".overlay\");\r\n            const signUp = document.querySelector(\".signup-link\");\r\n            const login = document.querySelector(\".login-link\");\r\n            // khi click vào button đăng ký nào thì modal nào mở ra và mở luôn lớp phủ mờ\r\n            btnSign.addEventListener(\"click\", function () {\r\n                // click open modal\r\n                mdalSign.classList.add(\"open\");\r\n                overlay.classList.add(\"open\");\r\n            });\r\n            // khi click vào button đăng nhập nào thì modal nào mở ra và mở luôn lớp phủ mờ\r\n            btnLog.addEventListener(\"click\", function () {\r\n                // click close modal\r\n                mdalLog.classList.add(\"open\");\r\n                overlay.classList.add(\"open\");\r\n            });\r\n            // khi click vào icon close thì đóng modal lại và tắt lớp phủ mờ\r\n            btnClose.forEach((btn) => {\r\n                btn.addEventListener(\"click\", function () {\r\n                    // click close modal\r\n                    mdalSign.classList.remove(\"open\");\r\n                    mdalLog.classList.remove(\"open\");\r\n                    overlay.classList.remove(\"open\");\r\n                });\r\n            });\r\n            //chuyển đổi đăng nhập và đăng ký\r\n            signUp.addEventListener(\"click\", function () {\r\n                mdalSign.classList.add(\"open\");\r\n                mdalLog.classList.remove(\"open\");\r\n            });\r\n            login.addEventListener(\"click\", function () {\r\n                mdalLog.classList.add(\"open\");\r\n                mdalSign.classList.remove(\"open\");\r\n            });\r\n        },\r\n        async verifyToken() {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                if (token) {\r\n                    const user = await AuthService.verifyToken({ token: token });\r\n                    if (user) {\r\n                        useStore().setInfoUser(user.message);\r\n                        SocketioService.setupSocketFriendConnection(user.message.token, user.message.phone);\r\n                        SocketioService.receiveMessageFriend((err, data) => {\r\n                            // console.log(data);\r\n                            if (data.roomID === this.currentChatRoom._id) {\r\n                                data.seen = true;\r\n                                this.currentChatRoom.messages.push(data);\r\n                                SocketioService.seenAllMessage(this.currentChatRoom._id);\r\n                                Redi.autoSrcollTop(\".content_body\");\r\n                            }\r\n                            this.user.chatRooms.forEach((chatRoom, index) => {\r\n                                if (data.roomID === chatRoom._id) {\r\n                                    this.user.chatRooms[index].lastMessage = data;\r\n                                    this.user.chatRooms[index].lastMessageDate = data.createAt;\r\n                                    return\r\n                                }\r\n                            })\r\n                        });\r\n                        useStore().clickChatMenu();\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        clickContactsSidebar() {\r\n            useStore().clickContactsSidebar();\r\n        },\r\n        clickRequestContactSidebar() {\r\n            useStore().clickRequestContactSidebar();\r\n        },\r\n        openChatContent(chatRoom) {\r\n            if (chatRoom._id === this.currentChatRoom._id)\r\n                return;\r\n            this.currentChatRoom = { ...chatRoom, messages: [] };\r\n            if (chatRoom._id === \"000\")\r\n                useStore().chatWithStranger();\r\n            else {\r\n                SocketioService.loadContentChatRoom(chatRoom._id.toString());\r\n                this.user.chatRooms.forEach(room => {\r\n                    if (chatRoom._id === room._id && room.lastMessage) {\r\n                        room.lastMessage.seen = true;\r\n                    }\r\n                })\r\n                SocketioService.seenAllMessage(chatRoom._id);\r\n                useStore().switchChatContent();\r\n            }\r\n        },\r\n        openUploadModal() {\r\n            Redi.openUploadModal('Sidebar', (data) => {\r\n                this.dataSignUp.avatar = data.url;\r\n                this.nameFileAvatar = data.nameFileAvatar\r\n            })\r\n        },\r\n        async signUp() {\r\n            try {\r\n                if (this.dataSignUp.avatar === '') {\r\n                    this.dataSignUp.avatar = \"https://res.cloudinary.com/dwnunieno/image/upload/v1678895187/ojzoerhuvkv8ealatzqz.png\"\r\n                }\r\n                await AuthService.signUp(this.dataSignUp);\r\n                document.querySelector(\".modal_form-sign\").classList.remove('open');\r\n                this.dataSignIn = {\r\n                    phone: this.dataSignUp.phone,\r\n                    password: this.dataSignUp.password\r\n                };\r\n                useStore().showNotify(\"Chào mừng bạn đến với Redi !\");\r\n                this.signIn();\r\n                this.dataSignUp = {\r\n                    phone: \"\",\r\n                    password: \"\",\r\n                    fullName: \"\",\r\n                    address: \"\",\r\n                    avatar: \"\"\r\n                };\r\n                setTimeout(this.$refs.formSignUp.resetForm, 500);\r\n            } catch (error) {\r\n                alert(error.response.data.message.toString())\r\n                if (this.dataSignUp.avatar === \"https://res.cloudinary.com/dwnunieno/image/upload/v1678895187/ojzoerhuvkv8ealatzqz.png\") {\r\n                    this.dataSignUp.avatar = \"\";\r\n                }\r\n            }\r\n        },\r\n        async signIn() {\r\n            try {\r\n                const meg = await AuthService.signIn(this.dataSignIn);\r\n                useStore().setInfoUser(meg.message)\r\n                SocketioService.setupSocketFriendConnection(meg.message.token, meg.message.phone);\r\n                document.querySelector(\".modal_form-login\").classList.remove('open');\r\n                document.querySelector(\".overlay\").classList.remove('open');\r\n                this.currentChatRoom = {\r\n                    fullName: \"\",\r\n                    avatar: \"\",\r\n                    messages: [],\r\n                    _id: \"\",\r\n                    online: false\r\n                },\r\n                    useStore().clickChatMenu();\r\n                this.dataSignIn = {\r\n                    phone: \"\",\r\n                    password: \"\",\r\n                };\r\n                SocketioService.receiveMessageFriend((err, data) => {\r\n                    // console.log(data);\r\n                    if (data.roomID === this.currentChatRoom._id) {\r\n                        data.seen = true;\r\n                        this.currentChatRoom.messages.push(data);\r\n                        SocketioService.seenAllMessage(this.currentChatRoom._id);\r\n                        Redi.autoSrcollTop(\".content_body\");\r\n                    }\r\n                    this.user.chatRooms.forEach((chatRoom, index) => {\r\n                        if (data.roomID === chatRoom._id) {\r\n                            this.user.chatRooms[index].lastMessage = data;\r\n                            this.user.chatRooms[index].lastMessageDate = data.createAt;\r\n                            return\r\n                        }\r\n                    })\r\n                });\r\n                setTimeout(this.$refs.formSignIn.resetForm, 1000);\r\n                // if (meg) console.log(meg.message);\r\n            } catch (error) {\r\n                alert(error.response.data.message.toString())\r\n            }\r\n        },\r\n        findUser() {\r\n            if (this.chatRooms.length > 0) return\r\n            if (this.searchText === this.user.phone) {\r\n                alert(this.user.phone + \" là số điện thoại của bạn mà !\");\r\n                this.searchText = ''\r\n                return;\r\n            }\r\n\r\n            let check = this.searchText.match(/((09|03|07|08|05)+([0-9]{8})\\b)/);\r\n\r\n            if (!check) {\r\n                alert(`Số điện thoại: \"${this.searchText}\" chưa hợp lệ !`);\r\n                return;\r\n            }\r\n\r\n            this.user.requestContact.forEach(contact => {\r\n                if (contact.phone === this.searchText) {\r\n                    alert(`Số điện thoại: \"${this.searchText}\" (${contact.fullName}) đã gửi lời mời kết bạn cho bạn !`)\r\n                    this.searchText = '';\r\n                    check = false;\r\n                    return;\r\n                }\r\n            })\r\n            if (!check) return;\r\n            SocketioService.findUserByPhone(this.searchText);\r\n            this.checkSearchByPhone = true;\r\n            // console.log(this.searchText);\r\n            this.currentChatRoom = {\r\n                fullName: \"\",\r\n                avatar: \"\",\r\n                messages: [],\r\n                _id: \"\",\r\n            }\r\n            if (this.statusMenu === 'chat')\r\n                this.statusContent = 'noChatSelected'\r\n            // this.searchText = ''\r\n        },\r\n        sendFriendRequest() {\r\n            SocketioService.sendFriendRequest(this.foundUserByPhone.phone);\r\n            this.searchText = \"\"\r\n            this.foundUserByPhone = {\r\n                fullName: \"\",\r\n                _id: \"\",\r\n                avatar: \"\",\r\n                phone: \"\",\r\n                sentFriendRequest: false\r\n            }\r\n            // this.statusSidebar = 'chat';\r\n            // this.statusMenu = 'chat'\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ndiv.note {\r\n    text-align: justify;\r\n    font-size: 14px;\r\n    font-weight: 300;\r\n}\r\n\r\nform,\r\nform * {\r\n    width: 100%;\r\n}\r\n\r\n.form-group {\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.form-control {\r\n    outline: none;\r\n    border: 1px solid black;\r\n    border-radius: 5px;\r\n    padding: 5px 10px;\r\n    font-size: 18px;\r\n}\r\n\r\n.error-feedback {\r\n    font-size: 13px;\r\n    color: red;\r\n}\r\n\r\n#btn-requestContact {\r\n    width: 120px;\r\n    background-color: #0091ff;\r\n    border: none;\r\n    color: white;\r\n    border-radius: 3px;\r\n    padding: 8px 3px;\r\n}\r\n\r\n.login-signup {\r\n    margin-top: 10px;\r\n    text-align: right;\r\n}\r\n</style>\r\n","import { render } from \"./Sidebar.vue?vue&type=template&id=2e2c2b5a&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\nimport \"./Sidebar.vue?vue&type=style&index=0&id=2e2c2b5a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2e2c2b5a\"\n\nexport default script","<template>\r\n    <div class=\"content\" v-if=\"statusContent === 'chat'\">\r\n        <div class=\"content_header\">\r\n            <img class=\"content_header-img\" :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n            <span>\r\n                <i class=\"fa-solid fa-circle\" v-if=\"this.currentChatRoom.online\"></i>\r\n            </span>\r\n            <div class=\"content_header-title\">\r\n                <h1> {{ this.currentChatRoom.fullNameFriend }}</h1>\r\n            </div>\r\n        </div>\r\n        <div class=\"content_body\">\r\n            <div class=\"chat-box\">\r\n                <template v-for=\"(message, index) in this.messages\" :key=\"index\">\r\n                    <div>\r\n                        <div class=\"mess-incoming\" v-if=\"message.sender !== this.user._id\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ this.currentChatRoom.fullNameFriend }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" style=\"margin-bottom: 10px;\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"mess-outgoing\" v-else>\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\"\r\n                                :title=\"[(message.seen) ? 'Đã xem' : 'Đã gửi']\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\" style=\"margin-bottom: 10px;\"\r\n                                :title=\"[(message.seen) ? 'Đã xem' : 'Đã gửi']\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div v-if=\"(index === this.lastSeenMessage)\" class=\"mess-seen\">\r\n                            <img :src=\"this.currentChatRoom.avatar\" alt=\"\" />\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n        <div class=\"chat-footer\">\r\n            <div class=\"chat-footer\">\r\n                <button @click=\"openUploadModal()\">\r\n                    <i class=\"fa-solid fa-image\"></i>\r\n                </button>\r\n                <form class=\"\" @submit.prevent=\"sendMessageFriend('text')\">\r\n                    <input type=\"text\" placeholder=\"Nhập vào nội dung bạn muốn nhắn....\" v-model=\"inputMessageText\" />\r\n                    <button type=\"submit\">\r\n                        <i class=\"fa-solid fa-paper-plane\"></i>\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"content\" v-if=\"statusContent === 'chatWithStranger'\">\r\n        <div class=\"content_header\">\r\n            <img class=\"content_header-img\" src=\"../assets/avatar-stranger.png\" alt=\"\" />\r\n            <div class=\"content_header-title\">\r\n                <h1>Người lạ</h1>\r\n            </div>\r\n            <div class=\"content_header-right \">\r\n                <button id=\"btn-newChat\" style=\"margin-right: 15px;\" @click=\"connectSocketStranger()\">\r\n                    <i class=\"fa-solid fa-comment-medical\"></i> Phòng nhắn tin mới\r\n                </button>\r\n                <button id=\"btn-stopChat\" @click=\"stopChatStranger()\">\r\n                    <i class=\"fa-solid fa-comment-slash\"></i> Kết thúc\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class=\"content_body\">\r\n            <div class=\"chat-box\">\r\n                <template v-for=\"(message, index) in messagesChatWithStranger\" :key=\"index\">\r\n                    <div>\r\n                        <div class=\"mess-incoming\" v-if=\"message.name === 'Người lạ'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-stranger.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\" v-if=\"message.type === 'text'\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-incoming\" v-else-if=\"message.name === 'Bot'\">\r\n                            <div class=\"mess-avatar\">\r\n                                <img src=\"../assets/avatar-bot.png\" alt=\"\" />\r\n                            </div>\r\n                            <div class=\"details\">\r\n                                <div class=\"mess-text\">\r\n                                    <div class=\"mess-name\">{{ message.name }}</div>\r\n                                    {{ message.content }}\r\n                                    <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mess-outgoing\" v-else>\r\n                            <div class=\"mess-text\" v-if=\"message.type === 'text'\">\r\n                                {{ message.content }}\r\n                                <div class=\"mess-time\"><br />{{ formatTime(message.createAt) }}</div>\r\n                            </div>\r\n                            <div class=\"mess-img\" v-else-if=\"message.type === 'image'\">\r\n                                <img :src=message.content alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n        <div class=\"chat-footer\">\r\n            <button @click=\"openUploadModal()\" id=\"btn-sendImg\">\r\n                <i class=\"fa-solid fa-image\"></i>\r\n            </button>\r\n            <form class=\"\" @submit.prevent=\"sendMessageStranger('text')\">\r\n                <input id=\"input-sendMess\" type=\"text\" placeholder=\"Nhập vào nội dung bạn muốn nhắn....\"\r\n                    v-model=\"inputMessageTextChatWithStranger\" />\r\n                <button id=\"btn-sendMess\" type=\"submit\">\r\n                    <i class=\"fa-solid fa-paper-plane\"></i>\r\n                </button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contact_main\" v-if=\"statusContent === 'requestContact'\">\r\n        <div class=\"content_header\">\r\n            <i class=\"bx bxs-user-plus\"></i>\r\n            <div class=\"content_header-title\">\r\n                <h1>Danh sách kết bạn</h1>\r\n            </div>\r\n        </div>\r\n        <div class=\"contact_list\">\r\n            <template v-for=\"(contact, index) in user.requestContact\" :key=\"index\">\r\n                <div class=\"contact_item\" :title=contact.fullName>\r\n                    <img :src=contact.avatar alt=\"\" />\r\n                    <div class=\"contact_content\">\r\n                        <h3 class=\"contact_name\">{{ contact.fullName }}</h3>\r\n                    </div>\r\n                    <div class=\"contact_action\">\r\n                        <button class=\"btn btn_accept\"\r\n                            @click=\"this.actionFriendRequest({ phone: contact.phone, accept: true })\">Chấp nhận</button>\r\n                        <button class=\"btn btn_deny\"\r\n                            @click=\"this.actionFriendRequest({ phone: contact.phone, accept: false })\">Từ chối</button>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contact_main\" v-if=\"statusContent === 'contacts'\">\r\n        <div class=\"content_header\">\r\n            <i class=\"bx bxs-group\"></i>\r\n            <div class=\"content_header-title\">\r\n                <h1>Danh sách bạn bè</h1>\r\n            </div>\r\n        </div>\r\n        <div class=\"contact_list\">\r\n            <template v-for=\"(contact, index) in user.contacts\" :key=\"index\">\r\n                <div class=\"contact_item\" :title=contact.fullName>\r\n                    <img :src=contact.avatar alt=\"\" />\r\n                    <div class=\"contact_content\">\r\n                        <h3 class=\"contact_name\">{{ contact.fullName }}</h3>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"contact_main introduce\" v-if=\"statusContent === 'notSignIn'\">\r\n        <img src=\"../assets/redi-chat.svg\" alt=\"\">\r\n        <h1>REDI</h1>\r\n        <h2>XOÁ NHOÀ KHOẢNG CÁCH</h2>\r\n    </div>\r\n\r\n    <div class=\"contact_main no-chat-selected\" v-if=\"statusContent === 'noChatSelected'\">\r\n        <img src=\"../assets/redi-chat.svg\" alt=\"\">\r\n        <p>Xin chào {{ this.user.fullName.substr(this.user.fullName.toString().lastIndexOf(\" \")) }} </p>\r\n        <p>chào mừng bạn đến với REDI, </p>\r\n        <p>bắt đầu trò chuyện với những người mà bạn yêu thương nào !</p>\r\n    </div>\r\n</template>\r\n  \r\n<script lang=\"js\">\r\nimport SocketioService from '../services/socketio.service.js';\r\nimport Redi from \"../funtions/reid.funtion\";\r\nimport { useStore } from '../stores/Store';\r\nimport { storeToRefs } from 'pinia'\r\nexport default {\r\n    name: 'Content',\r\n    data() {\r\n        let store = useStore();\r\n        let { statusContent } = storeToRefs(store);\r\n        let { chatRoomStranger } = storeToRefs(store);\r\n        let { user } = storeToRefs(store);\r\n        const { currentChatRoom } = storeToRefs(store);\r\n        const eFormInput = ['#btn-sendImg', '#btn-sendMess', '#input-sendMess'];\r\n        const eNewChat = ['#btn-newChat'];\r\n        const eStopChat = ['#btn-stopChat'];\r\n        return {\r\n            statusContent,\r\n            messagesChatWithStranger: [],\r\n            inputMessageTextChatWithStranger: '',\r\n            url: '',\r\n            chatRoomStranger,\r\n            user,\r\n            inputMessageText: \"\",\r\n            currentChatRoom,\r\n            eFormInput,\r\n            eNewChat,\r\n            eStopChat\r\n        };\r\n    },\r\n    computed: {\r\n        messages() {\r\n            if (this.currentChatRoom.messages.length > 0)\r\n                return this.currentChatRoom.messages;\r\n            return [];\r\n        },\r\n        lastSeenMessage() {\r\n            if (this.currentChatRoom.messages.length > 0) {\r\n                for (let i = this.currentChatRoom.messages.length - 1; i >= 0; i--) {\r\n                    if (this.currentChatRoom.messages[i].sender === this.user._id && this.currentChatRoom.messages[i].seen) {\r\n                        return i;\r\n                    }\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    },\r\n    watch: {\r\n        statusContent(newValue, oldValue) {\r\n            if (newValue === \"chatWithStranger\") {\r\n                setTimeout(() => {\r\n                    if (!this.chatRoomStranger) {\r\n                        Redi.disableElements(this.eNewChat, false);\r\n                        Redi.disableElements(this.eFormInput.concat(this.eStopChat), true);\r\n                    }\r\n                    else {\r\n                        Redi.disableElements(this.eFormInput.concat(this.eStopChat).concat(this.eNewChat), false);\r\n                    }\r\n                    oldValue.toString();\r\n                }, 80);\r\n            }\r\n        },\r\n        messagesChatWithStranger: {\r\n            deep: true,\r\n            handler() {\r\n                Redi.autoSrcollTop(\".content_body\");\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        sendMessageFriend(type) {\r\n            if (!type) return;\r\n            let message;\r\n            if (type === \"text\" && this.inputMessageText !== '') {\r\n                message = { content: this.inputMessageText, type: type, roomID: this.currentChatRoom._id };\r\n                this.inputMessageText = '';\r\n            }\r\n            if (type === 'image') {\r\n                message = { content: this.url, type: type, roomID: this.currentChatRoom._id };\r\n                this.url = ''\r\n            }\r\n            if (!message) return;\r\n            console.log(\"sending message friend....\");\r\n            SocketioService.sendMessageFriend(message, cb => {\r\n                // callback is acknowledgement from server\r\n                // console.log(cb);\r\n                this.currentChatRoom.messages.push({\r\n                    ...message,\r\n                    createAt: cb.createAt,\r\n                    sender: this.user._id,\r\n                    seen: false\r\n                });\r\n                Redi.autoSrcollTop(\".content_body\");\r\n            });\r\n        },\r\n        // openUploadModal() {\r\n        //     Redi.openUploadModal(\"Content\", (data) => {\r\n        //         this.url = data.url;\r\n        //         if (this.currentChatRoom._id === '000') {\r\n        //             this.sendMessageStranger('image');\r\n        //         } else {\r\n        //             this.sendMessageFriend('image');\r\n        //         }\r\n        //     })\r\n\r\n        // },\r\n        openUploadModal() {\r\n            window.cloudinary.createUploadWidget(\r\n                {\r\n                    cloud_name: 'dwnunieno',\r\n                    upload_preset: 'ma9pfovj',\r\n                    maxImageFileSize: 10000000,\r\n                    autoMinimize: true,\r\n                    sources: [\"local\"],\r\n                    clientAllowedFormats: [\"image\"],\r\n                    maxFiles: 5\r\n                },\r\n                (error, result) => {\r\n                    if (!error && result && result.event === \"success\") {\r\n                        console.log('Done uploading..: ', result.info);\r\n                        this.url = result.info.url;\r\n                        console.log(this.url)\r\n                        if (this.currentChatRoom._id === '000') {\r\n                            this.sendMessageStranger('image');\r\n                        } else {\r\n                            this.sendMessageFriend('image');\r\n                        }\r\n                    }\r\n                }).open();\r\n        },\r\n        connectSocketStranger() {\r\n            setTimeout(() => {\r\n                const chatRoom = this.chatRoomStranger;\r\n                // console.log(chatRoom)\r\n                if (chatRoom !== '') {\r\n                    this.messagesChatWithStranger = [{ content: \"Đang đợi người lạ ...\", name: \"Bot\" }];\r\n                    Redi.disableElements(this.eFormInput.concat(this.eNewChat), true);\r\n                    Redi.disableElements(this.eStopChat, false);\r\n                    SocketioService.nextRoomStranger(chatRoom);\r\n                }\r\n                else {\r\n                    SocketioService.setupSocketStrangerConnection();\r\n                    SocketioService.statusRoomStranger((err, data) => {\r\n                        // console.log(data);\r\n                        if (data.content === 'Đang đợi người lạ ...') {\r\n                            Redi.disableElements(this.eFormInput.concat(this.eNewChat), true);\r\n                            Redi.disableElements(this.eStopChat, false);\r\n                        }\r\n                        if (data.content.includes(\"NextRoom\")) {\r\n                            data.content = \"Người lạ đã rời đi. Đang đợi người lạ ...\"\r\n                            Redi.disableElements(this.eFormInput.concat(this.eNewChat), true);\r\n                            Redi.disableElements(this.eStopChat, false);\r\n                            useStore().setChatRoomStranger('');\r\n                        }\r\n                        else if (this.messagesChatWithStranger.length > 0) {\r\n                            this.messagesChatWithStranger = [];\r\n                        }\r\n                        if (data.content.includes(\"Người lạ đã vào phòng\")) {\r\n                            const chatRoom = data.content.substr(data.content.indexOf(\"|\") + 1, data.content.length - 1);\r\n                            useStore().setChatRoomStranger(chatRoom);\r\n                            data.content = data.content.substr(0, data.content.indexOf(\"|\"));\r\n                            Redi.disableElements(this.eFormInput.concat(this.eStopChat).concat(this.eNewChat), false);\r\n                        }\r\n                        if (data.content === 'Người lạ đã rời đi. Đang đợi người lạ kế tiếp ...') {\r\n                            Redi.disableElements(this.eFormInput.concat(this.eNewChat), true);\r\n                            Redi.disableElements(this.eStopChat, false);\r\n                        }\r\n                        this.messagesChatWithStranger.push({\r\n                            name: data.name,\r\n                            content: data.content,\r\n                            type: \"text\",\r\n                            createAt: data.createAt\r\n                        });\r\n                    });\r\n                    SocketioService.receiveMessageStranger((err, data) => {\r\n                        // console.log(data);\r\n                        this.messagesChatWithStranger.push(data);\r\n                    });\r\n                }\r\n            }, 80);\r\n        },\r\n        sendMessageStranger(type) {\r\n            if (!type) return;\r\n\r\n            let message;\r\n            if (type === \"text\" && this.inputMessageTextChatWithStranger !== '') {\r\n                message = { content: this.inputMessageTextChatWithStranger, type: type };\r\n                this.inputMessageTextChatWithStranger = '';\r\n            }\r\n            if (type === 'image') {\r\n                message = { content: this.url, type: type };\r\n                this.url = ''\r\n            }\r\n            if (!message) return;\r\n            console.log(\"sending message stranger....\");\r\n            SocketioService.sendMessageStranger(message, cb => {\r\n                // callback is acknowledgement from server\r\n                // console.log(cb);\r\n                this.messagesChatWithStranger.push({\r\n                    ...message,\r\n                    createAt: cb.createAt,\r\n                    name: \"Me\"\r\n                });\r\n            });\r\n        },\r\n        stopChatStranger() {\r\n            setTimeout(() => {\r\n                SocketioService.disconnectStranger();\r\n                this.messagesChatWithStranger.push({\r\n                    type: \"text\",\r\n                    createAt: Redi.getTime(),\r\n                    content: \"Bạn đã rời khỏi phòng !\",\r\n                    name: \"Bot\"\r\n                });\r\n                useStore().setChatRoomStranger('');\r\n                Redi.disableElements(this.eFormInput.concat(this.eStopChat), true);\r\n                Redi.disableElements(this.eNewChat, false);\r\n                this.inputMessageTextChatWithStranger = '';\r\n            }, 69)\r\n            this.messagesChatWithStranger = [];\r\n        },\r\n        formatTime(time) {\r\n            return Redi.formatTime(time)\r\n        },\r\n        actionFriendRequest(data) {\r\n            SocketioService.actionFriendRequest(data)\r\n        }\r\n    },\r\n    beforeUnmount() {\r\n        SocketioService.disconnectStranger();\r\n        SocketioService.disconnect();\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.introduce {\r\n    background-color: rgb(244, 239, 233);\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 30px;\r\n}\r\n\r\n.introduce img {\r\n    max-width: 50vh;\r\n}\r\n\r\n.introduce h1 {\r\n    font-size: 100px;\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n    font-weight: 800;\r\n    color: #0091ff;\r\n    letter-spacing: 20px;\r\n    margin-top: -30px;\r\n}\r\n\r\n.introduce h2 {\r\n    margin-left: -20px;\r\n    margin-top: -20px;\r\n    font-size: 20px;\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n    font-weight: 800;\r\n    color: #0091ff;\r\n    /* letter-spacing: 10px; */\r\n}\r\n\r\n.no-chat-selected {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-weight: 800;\r\n    color: #0091ff;\r\n    font-size: 21px;\r\n    background-color: rgb(244, 239, 233);\r\n}\r\n\r\n.no-chat-selected img {\r\n    max-width: 200px;\r\n}\r\n\r\n.no-chat-selected p {\r\n    text-align: center;\r\n    margin-bottom: 0;\r\n}\r\n\r\n.content_header-right button {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 4px;\r\n    border-radius: 8px;\r\n}\r\n\r\n.content_header-right button i {\r\n    margin-right: 4px;\r\n}\r\n\r\n.chat-footer button {\r\n    border: none;\r\n    background-color: transparent;\r\n}\r\n</style>","import { render } from \"./Content.vue?vue&type=template&id=3300e75f&scoped=true\"\nimport script from \"./Content.vue?vue&type=script&lang=js\"\nexport * from \"./Content.vue?vue&type=script&lang=js\"\n\nimport \"./Content.vue?vue&type=style&index=0&id=3300e75f&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3300e75f\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=6ab2c8c6&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6ab2c8c6&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-6ab2c8c6\"\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport 'bootstrap'\nimport './assets/main.css';\nimport { createPinia } from 'pinia';\n\ncreateApp(App).use(createPinia()).mount('#app')\n","function autoSrcollTop(selector) {\r\n    setTimeout(() => {\r\n        const e = document.querySelector(selector);\r\n        e.scrollTop = e.scrollHeight * 3;\r\n    }, 50);\r\n}\r\n\r\nfunction getTime() {\r\n    var d = new Date();\r\n    var utc = d.getTime() + (d.getTimezoneOffset() * 60000); // UTC time\r\n    var offset = 7; // UTC +7 hours\r\n    var gmt7 = new Date(utc + (3600000 * (offset - d.getTimezoneOffset() / 60)));\r\n    return gmt7;\r\n}\r\n\r\nfunction formatTime(time) {\r\n    let str = time;\r\n    if (typeof time === \"string\") {\r\n        str = new Date(time);\r\n    }\r\n    str = str.toLocaleString('vi-VN', { timeZone: 'UTC' }).split(\" \");\r\n    return str[0].substr(0, str[0].lastIndexOf(\":\")) + \" \" + str[1];\r\n}\r\n\r\nfunction disableElements(selectors, eDisabled) {\r\n    selectors.forEach(selector => {\r\n        document.querySelector(selector).disabled = eDisabled;\r\n    })\r\n}\r\n\r\nfunction removeAccents(str) {\r\n    str = str.toLowerCase();\r\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n    str = str.replace(/đ/g, \"d\");\r\n    return str;\r\n}\r\nfunction compareFn(a, b) {\r\n    if (a.lastMessageDate > b.lastMessageDate) return -1;\r\n    else if (a.lastMessageDate < b.lastMessageDate) return 1;\r\n    else return 0;\r\n}\r\n\r\nfunction openUploadModal(component, callback) {\r\n    const widget = window.cloudinary.createUploadWidget(\r\n        {\r\n            cloud_name: 'dwnunieno',\r\n            upload_preset: 'ma9pfovj',\r\n            maxImageFileSize: 10000000,\r\n            autoMinimize: true,\r\n            sources: [\"local\"],\r\n            clientAllowedFormats: [\"image\"],\r\n            maxFiles: (component === 'Content') ? 5 : 1\r\n        },\r\n        async (error, result) => {\r\n            if (!error && result && result.event === \"success\") {\r\n                // console.log('Done uploading..: ', result.info);\r\n                if (typeof callback === 'function') {\r\n                    callback({\r\n                        \"url\": result.info.url,\r\n                        \"nameFileAvatar\": result.info.original_filename + \".\" + result.info.format\r\n                    });\r\n                }\r\n                await widget.destroy({ removeThumbnails: true })\r\n                    .then(() => {\r\n                        console.log(\"Widget was destroyed\");\r\n                    });\r\n            }\r\n        }).open();\r\n}\r\n\r\nmodule.exports = {\r\n    autoSrcollTop,\r\n    getTime,\r\n    formatTime,\r\n    disableElements,\r\n    removeAccents,\r\n    compareFn,\r\n    openUploadModal\r\n}","module.exports = __webpack_public_path__ + \"img/redi-chat.a3f95067.svg\";"],"sourceRoot":""}